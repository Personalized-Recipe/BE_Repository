2025-05-29T09:25:07.024+09:00  INFO 8135 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.13 with PID 8135 (/Users/lhj/Workspace/prompt-test/build/classes/java/main started by lhj in /Users/lhj/Workspace/prompt-test)
2025-05-29T09:25:07.028+09:00 DEBUG 8135 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-29T09:25:07.029+09:00  INFO 8135 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-29T09:25:07.079+09:00  INFO 8135 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-29T09:25:07.079+09:00  INFO 8135 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-29T09:25:07.947+09:00  INFO 8135 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29T09:25:07.948+09:00  INFO 8135 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-29T09:25:07.985+09:00  INFO 8135 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29T09:25:07.986+09:00  INFO 8135 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29T09:25:07.987+09:00  INFO 8135 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29T09:25:07.987+09:00  INFO 8135 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29T09:25:07.988+09:00  INFO 8135 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29T09:25:07.989+09:00  INFO 8135 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29T09:25:07.990+09:00  INFO 8135 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29T09:25:07.992+09:00  INFO 8135 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 0 JDBC repository interfaces.
2025-05-29T09:25:08.003+09:00  INFO 8135 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29T09:25:08.003+09:00  INFO 8135 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-29T09:25:08.081+09:00  INFO 8135 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 75 ms. Found 7 JPA repository interfaces.
2025-05-29T09:25:08.110+09:00  INFO 8135 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29T09:25:08.111+09:00  INFO 8135 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-29T09:25:08.123+09:00  INFO 8135 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-29T09:25:08.123+09:00  INFO 8135 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-29T09:25:08.123+09:00  INFO 8135 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-29T09:25:08.123+09:00  INFO 8135 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-29T09:25:08.123+09:00  INFO 8135 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-29T09:25:08.124+09:00  INFO 8135 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-29T09:25:08.124+09:00  INFO 8135 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-29T09:25:08.124+09:00  INFO 8135 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-05-29T09:25:08.756+09:00  INFO 8135 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-29T09:25:08.763+09:00  INFO 8135 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-29T09:25:08.764+09:00  INFO 8135 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-29T09:25:08.800+09:00  INFO 8135 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-29T09:25:08.801+09:00  INFO 8135 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1722 ms
2025-05-29T09:25:08.827+09:00  INFO 8135 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-29T09:25:08.993+09:00  INFO 8135 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@45cbf237
2025-05-29T09:25:08.996+09:00  INFO 8135 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-29T09:25:09.012+09:00  INFO 8135 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-29T09:25:09.131+09:00  INFO 8135 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-29T09:25:09.167+09:00  INFO 8135 --- [prompt-test] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-29T09:25:09.184+09:00  INFO 8135 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-29T09:25:09.323+09:00  INFO 8135 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-29T09:25:09.385+09:00  WARN 8135 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-29T09:25:09.386+09:00  WARN 8135 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-29T09:25:10.250+09:00  INFO 8135 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-29T09:25:10.318+09:00 DEBUG 8135 --- [prompt-test] [restartedMain] org.hibernate.SQL                        : 
    create table chat_history (
        chat_id integer not null auto_increment,
        created_at datetime(6) not null,
        is_user_message bit not null,
        message TEXT not null,
        recipe_id integer,
        session_id varchar(50) not null,
        user_id integer not null,
        primary key (chat_id)
    ) engine=InnoDB
2025-05-29T09:25:10.331+09:00  WARN 8135 --- [prompt-test] [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    create table chat_history (
        chat_id integer not null auto_increment,
        created_at datetime(6) not null,
        is_user_message bit not null,
        message TEXT not null,
        recipe_id integer,
        session_id varchar(50) not null,
        user_id integer not null,
        primary key (chat_id)
    ) engine=InnoDB" via JDBC [Table 'chat_history' already exists]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table chat_history (
        chat_id integer not null auto_increment,
        created_at datetime(6) not null,
        is_user_message bit not null,
        message TEXT not null,
        recipe_id integer,
        session_id varchar(50) not null,
        user_id integer not null,
        primary key (chat_id)
    ) engine=InnoDB" via JDBC [Table 'chat_history' already exists]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.3.jar:3.2.3]
	at ac.su.kdt.prompttest.PromptTestApplication.main(PromptTestApplication.java:12) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.3.jar:3.2.3]
Caused by: java.sql.SQLSyntaxErrorException: Table 'chat_history' already exists
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 43 common frames omitted

2025-05-29T09:25:10.334+09:00 DEBUG 8135 --- [prompt-test] [restartedMain] org.hibernate.SQL                        : 
    create table recipe (
        recipe_id integer not null auto_increment,
        category varchar(50),
        cooking_time integer,
        description TEXT,
        difficulty varchar(5),
        image tinyblob,
        title varchar(15) not null,
        primary key (recipe_id)
    ) engine=InnoDB
2025-05-29T09:25:10.338+09:00  WARN 8135 --- [prompt-test] [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    create table recipe (
        recipe_id integer not null auto_increment,
        category varchar(50),
        cooking_time integer,
        description TEXT,
        difficulty varchar(5),
        image tinyblob,
        title varchar(15) not null,
        primary key (recipe_id)
    ) engine=InnoDB" via JDBC [Table 'recipe' already exists]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table recipe (
        recipe_id integer not null auto_increment,
        category varchar(50),
        cooking_time integer,
        description TEXT,
        difficulty varchar(5),
        image tinyblob,
        title varchar(15) not null,
        primary key (recipe_id)
    ) engine=InnoDB" via JDBC [Table 'recipe' already exists]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.3.jar:3.2.3]
	at ac.su.kdt.prompttest.PromptTestApplication.main(PromptTestApplication.java:12) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.3.jar:3.2.3]
Caused by: java.sql.SQLSyntaxErrorException: Table 'recipe' already exists
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 43 common frames omitted

2025-05-29T09:25:10.339+09:00 DEBUG 8135 --- [prompt-test] [restartedMain] org.hibernate.SQL                        : 
    create table recipe_ingredient (
        ingredient_id integer not null,
        recipe_id integer not null,
        primary key (ingredient_id, recipe_id)
    ) engine=InnoDB
2025-05-29T09:25:10.340+09:00  WARN 8135 --- [prompt-test] [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    create table recipe_ingredient (
        ingredient_id integer not null,
        recipe_id integer not null,
        primary key (ingredient_id, recipe_id)
    ) engine=InnoDB" via JDBC [Table 'recipe_ingredient' already exists]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table recipe_ingredient (
        ingredient_id integer not null,
        recipe_id integer not null,
        primary key (ingredient_id, recipe_id)
    ) engine=InnoDB" via JDBC [Table 'recipe_ingredient' already exists]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.3.jar:3.2.3]
	at ac.su.kdt.prompttest.PromptTestApplication.main(PromptTestApplication.java:12) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.3.jar:3.2.3]
Caused by: java.sql.SQLSyntaxErrorException: Table 'recipe_ingredient' already exists
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 43 common frames omitted

2025-05-29T09:25:10.344+09:00 DEBUG 8135 --- [prompt-test] [restartedMain] org.hibernate.SQL                        : 
    alter table user_ingredient 
       add column id integer not null auto_increment
2025-05-29T09:25:10.350+09:00  WARN 8135 --- [prompt-test] [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table user_ingredient 
       add column id integer not null auto_increment" via JDBC [Incorrect table definition; there can be only one auto column and it must be defined as a key]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table user_ingredient 
       add column id integer not null auto_increment" via JDBC [Incorrect table definition; there can be only one auto column and it must be defined as a key]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.3.jar:3.2.3]
	at ac.su.kdt.prompttest.PromptTestApplication.main(PromptTestApplication.java:12) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.3.jar:3.2.3]
Caused by: java.sql.SQLSyntaxErrorException: Incorrect table definition; there can be only one auto column and it must be defined as a key
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 43 common frames omitted

2025-05-29T09:25:10.352+09:00 DEBUG 8135 --- [prompt-test] [restartedMain] org.hibernate.SQL                        : 
    create table user_recipe (
        recipe_id integer not null,
        user_id integer not null,
        primary key (recipe_id, user_id)
    ) engine=InnoDB
2025-05-29T09:25:10.354+09:00  WARN 8135 --- [prompt-test] [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    create table user_recipe (
        recipe_id integer not null,
        user_id integer not null,
        primary key (recipe_id, user_id)
    ) engine=InnoDB" via JDBC [Table 'user_recipe' already exists]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table user_recipe (
        recipe_id integer not null,
        user_id integer not null,
        primary key (recipe_id, user_id)
    ) engine=InnoDB" via JDBC [Table 'user_recipe' already exists]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.3.jar:3.2.3]
	at ac.su.kdt.prompttest.PromptTestApplication.main(PromptTestApplication.java:12) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.3.jar:3.2.3]
Caused by: java.sql.SQLSyntaxErrorException: Table 'user_recipe' already exists
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 43 common frames omitted

2025-05-29T09:25:10.355+09:00 DEBUG 8135 --- [prompt-test] [restartedMain] org.hibernate.SQL                        : 
    create index idx_user_session 
       on chat_history (user_id, session_id)
2025-05-29T09:25:10.356+09:00  WARN 8135 --- [prompt-test] [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_session 
       on chat_history (user_id, session_id)" via JDBC [Duplicate key name 'idx_user_session']

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_session 
       on chat_history (user_id, session_id)" via JDBC [Duplicate key name 'idx_user_session']
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyIndexes(AbstractSchemaMigrator.java:360) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:96) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.3.jar:3.2.3]
	at ac.su.kdt.prompttest.PromptTestApplication.main(PromptTestApplication.java:12) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.3.jar:3.2.3]
Caused by: java.sql.SQLSyntaxErrorException: Duplicate key name 'idx_user_session'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 43 common frames omitted

2025-05-29T09:25:10.357+09:00 DEBUG 8135 --- [prompt-test] [restartedMain] org.hibernate.SQL                        : 
    create index idx_created_at 
       on chat_history (created_at)
2025-05-29T09:25:10.357+09:00  WARN 8135 --- [prompt-test] [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_created_at 
       on chat_history (created_at)" via JDBC [Duplicate key name 'idx_created_at']

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_created_at 
       on chat_history (created_at)" via JDBC [Duplicate key name 'idx_created_at']
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyIndexes(AbstractSchemaMigrator.java:360) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:96) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.3.jar:3.2.3]
	at ac.su.kdt.prompttest.PromptTestApplication.main(PromptTestApplication.java:12) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.3.jar:3.2.3]
Caused by: java.sql.SQLSyntaxErrorException: Duplicate key name 'idx_created_at'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 43 common frames omitted

2025-05-29T09:25:10.415+09:00  INFO 8135 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-29T09:25:10.902+09:00  INFO 8135 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-29T09:25:10.903+09:00  INFO 8135 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 53
2025-05-29T09:25:12.231+09:00  WARN 8135 --- [prompt-test] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-29T09:25:12.251+09:00  WARN 8135 --- [prompt-test] [restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: f859d26d-1068-4c74-b518-566d51648693

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-05-29T09:25:12.322+09:00  INFO 8135 --- [prompt-test] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-29T09:25:12.482+09:00  INFO 8135 --- [prompt-test] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@63f75723, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5629a4a1, org.springframework.security.web.context.SecurityContextHolderFilter@2b237e25, org.springframework.security.web.header.HeaderWriterFilter@5d4dade3, org.springframework.web.filter.CorsFilter@3c9920cc, org.springframework.security.web.authentication.logout.LogoutFilter@582342bf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ea51229, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8d2793, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24a5ff03, org.springframework.security.web.access.ExceptionTranslationFilter@5ec9935f, org.springframework.security.web.access.intercept.AuthorizationFilter@574c54e8]
2025-05-29T09:25:12.834+09:00  INFO 8135 --- [prompt-test] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-29T09:25:12.863+09:00  INFO 8135 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-29T09:25:12.874+09:00  INFO 8135 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Started PromptTestApplication in 6.382 seconds (process running for 7.268)
2025-05-29T09:30:19.866+09:00  INFO 8135 --- [prompt-test] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-29T09:30:19.871+09:00  INFO 8135 --- [prompt-test] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-29T09:30:19.880+09:00  INFO 8135 --- [prompt-test] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-29T10:25:39.387+09:00  INFO 42064 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.13 with PID 42064 (/Users/lhj/Workspace/prompt-test/build/classes/java/main started by lhj in /Users/lhj/Workspace/prompt-test)
2025-05-29T10:25:39.395+09:00 DEBUG 42064 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-29T10:25:39.402+09:00  INFO 42064 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-29T10:25:39.599+09:00  INFO 42064 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-29T10:25:39.601+09:00  INFO 42064 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-29T10:25:41.799+09:00  INFO 42064 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29T10:25:41.800+09:00  INFO 42064 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-29T10:25:41.876+09:00  INFO 42064 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29T10:25:41.878+09:00  INFO 42064 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29T10:25:41.879+09:00  INFO 42064 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29T10:25:41.880+09:00  INFO 42064 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29T10:25:41.881+09:00  INFO 42064 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29T10:25:41.882+09:00  INFO 42064 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29T10:25:41.884+09:00  INFO 42064 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-29T10:25:41.885+09:00  INFO 42064 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 81 ms. Found 0 JDBC repository interfaces.
2025-05-29T10:25:41.939+09:00  INFO 42064 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29T10:25:41.940+09:00  INFO 42064 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-29T10:25:42.093+09:00  INFO 42064 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 148 ms. Found 7 JPA repository interfaces.
2025-05-29T10:25:42.142+09:00  INFO 42064 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-29T10:25:42.144+09:00  INFO 42064 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-29T10:25:42.173+09:00  INFO 42064 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-29T10:25:42.176+09:00  INFO 42064 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-29T10:25:42.176+09:00  INFO 42064 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-29T10:25:42.176+09:00  INFO 42064 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-29T10:25:42.177+09:00  INFO 42064 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-29T10:25:42.177+09:00  INFO 42064 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-29T10:25:42.177+09:00  INFO 42064 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-29T10:25:42.177+09:00  INFO 42064 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-05-29T10:25:43.089+09:00  INFO 42064 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-29T10:25:43.100+09:00  INFO 42064 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-29T10:25:43.102+09:00  INFO 42064 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-29T10:25:43.176+09:00  INFO 42064 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-29T10:25:43.176+09:00  INFO 42064 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3573 ms
2025-05-29T10:25:43.243+09:00  INFO 42064 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-29T10:25:43.482+09:00  INFO 42064 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1e0d3b1a
2025-05-29T10:25:43.487+09:00  INFO 42064 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-29T10:25:43.527+09:00  INFO 42064 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-29T10:25:43.771+09:00  INFO 42064 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-29T10:25:43.816+09:00  INFO 42064 --- [prompt-test] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-29T10:25:43.842+09:00  INFO 42064 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-29T10:25:44.023+09:00  INFO 42064 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-29T10:25:44.101+09:00  WARN 42064 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-29T10:25:44.102+09:00  WARN 42064 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-29T10:25:45.657+09:00  INFO 42064 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-29T10:25:45.749+09:00 DEBUG 42064 --- [prompt-test] [restartedMain] org.hibernate.SQL                        : 
    create table chat_history (
        chat_id integer not null auto_increment,
        created_at datetime(6) not null,
        is_user_message bit not null,
        message TEXT not null,
        recipe_id integer,
        session_id varchar(50) not null,
        user_id integer not null,
        primary key (chat_id)
    ) engine=InnoDB
2025-05-29T10:25:45.768+09:00  WARN 42064 --- [prompt-test] [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    create table chat_history (
        chat_id integer not null auto_increment,
        created_at datetime(6) not null,
        is_user_message bit not null,
        message TEXT not null,
        recipe_id integer,
        session_id varchar(50) not null,
        user_id integer not null,
        primary key (chat_id)
    ) engine=InnoDB" via JDBC [Table 'chat_history' already exists]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table chat_history (
        chat_id integer not null auto_increment,
        created_at datetime(6) not null,
        is_user_message bit not null,
        message TEXT not null,
        recipe_id integer,
        session_id varchar(50) not null,
        user_id integer not null,
        primary key (chat_id)
    ) engine=InnoDB" via JDBC [Table 'chat_history' already exists]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.3.jar:3.2.3]
	at ac.su.kdt.prompttest.PromptTestApplication.main(PromptTestApplication.java:12) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.3.jar:3.2.3]
Caused by: java.sql.SQLSyntaxErrorException: Table 'chat_history' already exists
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 43 common frames omitted

2025-05-29T10:25:45.776+09:00 DEBUG 42064 --- [prompt-test] [restartedMain] org.hibernate.SQL                        : 
    create table recipe (
        recipe_id integer not null auto_increment,
        category varchar(50),
        cooking_time integer,
        description TEXT,
        difficulty varchar(5),
        image tinyblob,
        title varchar(15) not null,
        primary key (recipe_id)
    ) engine=InnoDB
2025-05-29T10:25:45.779+09:00  WARN 42064 --- [prompt-test] [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    create table recipe (
        recipe_id integer not null auto_increment,
        category varchar(50),
        cooking_time integer,
        description TEXT,
        difficulty varchar(5),
        image tinyblob,
        title varchar(15) not null,
        primary key (recipe_id)
    ) engine=InnoDB" via JDBC [Table 'recipe' already exists]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table recipe (
        recipe_id integer not null auto_increment,
        category varchar(50),
        cooking_time integer,
        description TEXT,
        difficulty varchar(5),
        image tinyblob,
        title varchar(15) not null,
        primary key (recipe_id)
    ) engine=InnoDB" via JDBC [Table 'recipe' already exists]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.3.jar:3.2.3]
	at ac.su.kdt.prompttest.PromptTestApplication.main(PromptTestApplication.java:12) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.3.jar:3.2.3]
Caused by: java.sql.SQLSyntaxErrorException: Table 'recipe' already exists
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 43 common frames omitted

2025-05-29T10:25:45.782+09:00 DEBUG 42064 --- [prompt-test] [restartedMain] org.hibernate.SQL                        : 
    create table recipe_ingredient (
        ingredient_id integer not null,
        recipe_id integer not null,
        primary key (ingredient_id, recipe_id)
    ) engine=InnoDB
2025-05-29T10:25:45.784+09:00  WARN 42064 --- [prompt-test] [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    create table recipe_ingredient (
        ingredient_id integer not null,
        recipe_id integer not null,
        primary key (ingredient_id, recipe_id)
    ) engine=InnoDB" via JDBC [Table 'recipe_ingredient' already exists]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table recipe_ingredient (
        ingredient_id integer not null,
        recipe_id integer not null,
        primary key (ingredient_id, recipe_id)
    ) engine=InnoDB" via JDBC [Table 'recipe_ingredient' already exists]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.3.jar:3.2.3]
	at ac.su.kdt.prompttest.PromptTestApplication.main(PromptTestApplication.java:12) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.3.jar:3.2.3]
Caused by: java.sql.SQLSyntaxErrorException: Table 'recipe_ingredient' already exists
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 43 common frames omitted

2025-05-29T10:25:45.789+09:00 DEBUG 42064 --- [prompt-test] [restartedMain] org.hibernate.SQL                        : 
    alter table user_ingredient 
       add column id integer not null auto_increment
2025-05-29T10:25:45.796+09:00  WARN 42064 --- [prompt-test] [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table user_ingredient 
       add column id integer not null auto_increment" via JDBC [Incorrect table definition; there can be only one auto column and it must be defined as a key]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table user_ingredient 
       add column id integer not null auto_increment" via JDBC [Incorrect table definition; there can be only one auto column and it must be defined as a key]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:333) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.3.jar:3.2.3]
	at ac.su.kdt.prompttest.PromptTestApplication.main(PromptTestApplication.java:12) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.3.jar:3.2.3]
Caused by: java.sql.SQLSyntaxErrorException: Incorrect table definition; there can be only one auto column and it must be defined as a key
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 43 common frames omitted

2025-05-29T10:25:45.800+09:00 DEBUG 42064 --- [prompt-test] [restartedMain] org.hibernate.SQL                        : 
    create table user_recipe (
        recipe_id integer not null,
        user_id integer not null,
        primary key (recipe_id, user_id)
    ) engine=InnoDB
2025-05-29T10:25:45.802+09:00  WARN 42064 --- [prompt-test] [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    create table user_recipe (
        recipe_id integer not null,
        user_id integer not null,
        primary key (recipe_id, user_id)
    ) engine=InnoDB" via JDBC [Table 'user_recipe' already exists]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table user_recipe (
        recipe_id integer not null,
        user_id integer not null,
        primary key (recipe_id, user_id)
    ) engine=InnoDB" via JDBC [Table 'user_recipe' already exists]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.3.jar:3.2.3]
	at ac.su.kdt.prompttest.PromptTestApplication.main(PromptTestApplication.java:12) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.3.jar:3.2.3]
Caused by: java.sql.SQLSyntaxErrorException: Table 'user_recipe' already exists
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 43 common frames omitted

2025-05-29T10:25:45.805+09:00 DEBUG 42064 --- [prompt-test] [restartedMain] org.hibernate.SQL                        : 
    create index idx_user_session 
       on chat_history (user_id, session_id)
2025-05-29T10:25:45.807+09:00  WARN 42064 --- [prompt-test] [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_user_session 
       on chat_history (user_id, session_id)" via JDBC [Duplicate key name 'idx_user_session']

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_user_session 
       on chat_history (user_id, session_id)" via JDBC [Duplicate key name 'idx_user_session']
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyIndexes(AbstractSchemaMigrator.java:360) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:96) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.3.jar:3.2.3]
	at ac.su.kdt.prompttest.PromptTestApplication.main(PromptTestApplication.java:12) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.3.jar:3.2.3]
Caused by: java.sql.SQLSyntaxErrorException: Duplicate key name 'idx_user_session'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 43 common frames omitted

2025-05-29T10:25:45.815+09:00 DEBUG 42064 --- [prompt-test] [restartedMain] org.hibernate.SQL                        : 
    create index idx_created_at 
       on chat_history (created_at)
2025-05-29T10:25:45.817+09:00  WARN 42064 --- [prompt-test] [restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    create index idx_created_at 
       on chat_history (created_at)" via JDBC [Duplicate key name 'idx_created_at']

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create index idx_created_at 
       on chat_history (created_at)" via JDBC [Duplicate key name 'idx_created_at']
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyIndexes(AbstractSchemaMigrator.java:360) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:96) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:286) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:142) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:388) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:364) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1231) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.3.jar:3.2.3]
	at ac.su.kdt.prompttest.PromptTestApplication.main(PromptTestApplication.java:12) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.3.jar:3.2.3]
Caused by: java.sql.SQLSyntaxErrorException: Duplicate key name 'idx_created_at'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:770) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:653) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 43 common frames omitted

2025-05-29T10:25:45.878+09:00  INFO 42064 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-29T10:25:46.771+09:00  INFO 42064 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-29T10:25:46.784+09:00  INFO 42064 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 53
2025-05-29T10:25:48.211+09:00  WARN 42064 --- [prompt-test] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-29T10:25:48.240+09:00  WARN 42064 --- [prompt-test] [restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: da033ae2-76b4-4874-994b-43f8304b3750

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-05-29T10:25:48.332+09:00  INFO 42064 --- [prompt-test] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-29T10:25:48.539+09:00  INFO 42064 --- [prompt-test] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3a1b7038, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78ccbb7e, org.springframework.security.web.context.SecurityContextHolderFilter@204aa5a9, org.springframework.security.web.header.HeaderWriterFilter@1d89ffcb, org.springframework.web.filter.CorsFilter@3ef9faed, org.springframework.security.web.authentication.logout.LogoutFilter@586814c1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47f645dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6de40455, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@69a23a7, org.springframework.security.web.access.ExceptionTranslationFilter@46112680, org.springframework.security.web.access.intercept.AuthorizationFilter@1f5ba9cc]
2025-05-29T10:25:48.941+09:00  INFO 42064 --- [prompt-test] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-29T10:25:48.978+09:00  INFO 42064 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-29T10:25:48.991+09:00  INFO 42064 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Started PromptTestApplication in 10.626 seconds (process running for 11.654)
2025-05-29T10:27:20.284+09:00  INFO 42064 --- [prompt-test] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-29T10:27:20.286+09:00  INFO 42064 --- [prompt-test] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-29T10:27:20.304+09:00  INFO 42064 --- [prompt-test] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 18 ms
2025-05-29T10:27:20.377+09:00  WARN 42064 --- [prompt-test] [http-nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Invalid mime type "application.json": does not contain '/']
2025-05-29T10:27:50.016+09:00 DEBUG 42064 --- [prompt-test] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.profile_image,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.updated_at,
        u1_0.username 
    from
        user u1_0 
    where
        u1_0.user_id=?
2025-05-29T10:27:50.124+09:00 DEBUG 42064 --- [prompt-test] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    /* <criteria> */ select
        up1_0.id,
        up1_0.age,
        up1_0.allergy,
        up1_0.created_at,
        up1_0.gender,
        up1_0.health_status,
        up1_0.is_pregnant,
        up1_0.name,
        up1_0.nickname,
        up1_0.preference,
        up1_0.updated_at,
        up1_0.user_id 
    from
        user_prompt up1_0 
    where
        up1_0.user_id=?
2025-05-29T10:27:50.132+09:00  INFO 42064 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Starting getResponse for userId: 1, prompt: 당신은 레시피 추천 전문가입니다. ## 사용자 요청
김치찌개 레시피 알려줘

레시피는 다음 형식으로 제공해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.

2025-05-29T10:27:50.137+09:00 DEBUG 42064 --- [prompt-test] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    /* <criteria> */ select
        up1_0.id,
        up1_0.age,
        up1_0.allergy,
        up1_0.created_at,
        up1_0.gender,
        up1_0.health_status,
        up1_0.is_pregnant,
        up1_0.name,
        up1_0.nickname,
        up1_0.preference,
        up1_0.updated_at,
        up1_0.user_id 
    from
        user_prompt up1_0 
    where
        up1_0.user_id=?
2025-05-29T10:27:50.141+09:00 DEBUG 42064 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : System prompt: 당신은 레시피 추천 전문가입니다. ## 사용자 요청
당신은 레시피 추천 전문가입니다. ## 사용자 요청
김치찌개 레시피 알려줘

레시피는 다음 형식으로 제공해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.


레시피는 다음 형식으로 제공해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.

2025-05-29T10:27:50.141+09:00  INFO 42064 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Sending request to Perplexity API
2025-05-29T10:27:50.142+09:00 DEBUG 42064 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Request headers: [Content-Type:"application/json", Authorization:"Bearer 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"]
2025-05-29T10:27:50.144+09:00 DEBUG 42064 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Request body: {messages=[{role=system, content=당신은 레시피 추천 전문가입니다. ## 사용자 요청
당신은 레시피 추천 전문가입니다. ## 사용자 요청
김치찌개 레시피 알려줘

레시피는 다음 형식으로 제공해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.


레시피는 다음 형식으로 제공해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.
}, {role=user, content=당신은 레시피 추천 전문가입니다. ## 사용자 요청
김치찌개 레시피 알려줘

레시피는 다음 형식으로 제공해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.
}], model=sonar-pro}
2025-05-29T10:28:06.228+09:00  INFO 42064 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Received response from Perplexity API
2025-05-29T10:28:06.231+09:00 DEBUG 42064 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Response: {id=c7359c58-37c6-4bd4-adc9-cad3c685569d, model=sonar-pro, created=1748482086, usage={prompt_tokens=477, completion_tokens=880, total_tokens=1357, search_context_size=low}, citations=[https://www.10000recipe.com/recipe/6850116, https://www.youtube.com/watch?v=TxTv8_e2otE, https://www.10000recipe.com/recipe/1785098, https://www.youtube.com/watch?v=0tiuhim4OCs, https://www.youtube.com/watch?v=zBejSzHVTyo], object=chat.completion, choices=[{index=0, finish_reason=stop, message={role=assistant, content=- 요리 이름  
김치찌개

- 필요한 재료와 양  
  - 신김치 600g  
  - 돼지고기(목살 또는 삼겹살) 250g  
  - 양파 1/4개  
  - 대파 1줌(약 30g)  
  - 청양고추 1개  
  - 두부 1/2모(약 150g)  
  - 사골 육수 300ml  
  - 물 300ml  
  - 고춧가루 2.5큰술  
  - 간장 2.5큰술  
  - 다진 마늘 1큰술  
  - 설탕 1큰술  
  - 참기름 1작은술  
  - 김치국물 5큰술  
  - 소금, 후추(기호에 따라)  

- 조리 시간  
약 35~40분

- 난이도  
초급~중급

- 상세한 조리 방법  
1. 신김치 600g을 먹기 좋은 크기로 썰어줍니다.  
2. 돼지고기 250g(목살 또는 삼겹살)을 손가락 두 마디 크기 정도로 큼직하게 썰어줍니다.  
3. 양파 1/4개는 채 썰고, 대파(1줌)와 청양고추(1개)는 어슷하게 썰어줍니다.  
4. 두부 1/2모도 한입 크기로 썰어둡니다.  
5. 냄비에 썰어둔 김치, 돼지고기, 참기름 1작은술, 김치국물 5큰술을 넣고 중약불에서 3~5분간 볶아줍니다[3].  
6. 고기가 익고 김치가 숨이 죽으면 고춧가루 2.5큰술, 간장 2.5큰술, 다진 마늘 1큰술, 설탕 1큰술을 넣어 골고루 섞어줍니다[1].  
7. 사골 육수 300ml와 물 300ml를 붓고 센 불에서 끓입니다.  
8. 끓기 시작하면 거품을 걷고, 중불로 줄여 10~15분간 끓입니다.  
9. 두부, 양파, 대파, 청양고추를 넣고 5~10분 더 끓입니다.  
10. 간을 보고 부족하면 소금, 후추로 맞춥니다.  
11. 불을 끄고 그릇에 담아냅니다.  

- 요리 팁과 주의사항  
  - 신김치를 사용해야 깊은 맛이 납니다.  
  - 돼지고기는 목살, 삼겹살, 앞다릿살 등 기호에 맞게 선택하세요.  
  - 사골육수가 없다면 멸치육수, 쌀뜨물, 또는 그냥 물로 대체해도 좋습니다.  
  - 김치와 고기를 미리 충분히 볶으면 국물 맛이 더욱 진해집니다[3].  
  - 두부는 마지막에 넣어야 부서지지 않고 식감이 살아납니다.  
  - 고춧가루와 청양고추 양은 기호에 맞게 조절하세요.  
  - 오래 끓일수록 국물 맛이 깊어집니다.

- 완성된 요리의 이미지 URL  
https://recipe1.ezmember.co.kr/cache/recipe/2015/07/20/9d2c7e1e84f5bc7fc0772f6b0310f1351.jpg

[참고: 주요 재료 및 조리법은 제공된 검색결과[1][3][5]을 반영해 집대성하였음.]}, delta={role=assistant, content=}}]}
2025-05-29T10:28:06.233+09:00  INFO 42064 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Parsing AI response content
2025-05-29T10:28:06.233+09:00 DEBUG 42064 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Content: - 요리 이름  
김치찌개

- 필요한 재료와 양  
  - 신김치 600g  
  - 돼지고기(목살 또는 삼겹살) 250g  
  - 양파 1/4개  
  - 대파 1줌(약 30g)  
  - 청양고추 1개  
  - 두부 1/2모(약 150g)  
  - 사골 육수 300ml  
  - 물 300ml  
  - 고춧가루 2.5큰술  
  - 간장 2.5큰술  
  - 다진 마늘 1큰술  
  - 설탕 1큰술  
  - 참기름 1작은술  
  - 김치국물 5큰술  
  - 소금, 후추(기호에 따라)  

- 조리 시간  
약 35~40분

- 난이도  
초급~중급

- 상세한 조리 방법  
1. 신김치 600g을 먹기 좋은 크기로 썰어줍니다.  
2. 돼지고기 250g(목살 또는 삼겹살)을 손가락 두 마디 크기 정도로 큼직하게 썰어줍니다.  
3. 양파 1/4개는 채 썰고, 대파(1줌)와 청양고추(1개)는 어슷하게 썰어줍니다.  
4. 두부 1/2모도 한입 크기로 썰어둡니다.  
5. 냄비에 썰어둔 김치, 돼지고기, 참기름 1작은술, 김치국물 5큰술을 넣고 중약불에서 3~5분간 볶아줍니다[3].  
6. 고기가 익고 김치가 숨이 죽으면 고춧가루 2.5큰술, 간장 2.5큰술, 다진 마늘 1큰술, 설탕 1큰술을 넣어 골고루 섞어줍니다[1].  
7. 사골 육수 300ml와 물 300ml를 붓고 센 불에서 끓입니다.  
8. 끓기 시작하면 거품을 걷고, 중불로 줄여 10~15분간 끓입니다.  
9. 두부, 양파, 대파, 청양고추를 넣고 5~10분 더 끓입니다.  
10. 간을 보고 부족하면 소금, 후추로 맞춥니다.  
11. 불을 끄고 그릇에 담아냅니다.  

- 요리 팁과 주의사항  
  - 신김치를 사용해야 깊은 맛이 납니다.  
  - 돼지고기는 목살, 삼겹살, 앞다릿살 등 기호에 맞게 선택하세요.  
  - 사골육수가 없다면 멸치육수, 쌀뜨물, 또는 그냥 물로 대체해도 좋습니다.  
  - 김치와 고기를 미리 충분히 볶으면 국물 맛이 더욱 진해집니다[3].  
  - 두부는 마지막에 넣어야 부서지지 않고 식감이 살아납니다.  
  - 고춧가루와 청양고추 양은 기호에 맞게 조절하세요.  
  - 오래 끓일수록 국물 맛이 깊어집니다.

- 완성된 요리의 이미지 URL  
https://recipe1.ezmember.co.kr/cache/recipe/2015/07/20/9d2c7e1e84f5bc7fc0772f6b0310f1351.jpg

[참고: 주요 재료 및 조리법은 제공된 검색결과[1][3][5]을 반영해 집대성하였음.]
2025-05-29T10:28:06.233+09:00  INFO 42064 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Starting to parse recipe response
2025-05-29T10:28:06.233+09:00 DEBUG 42064 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Content to parse: - 요리 이름  
김치찌개

- 필요한 재료와 양  
  - 신김치 600g  
  - 돼지고기(목살 또는 삼겹살) 250g  
  - 양파 1/4개  
  - 대파 1줌(약 30g)  
  - 청양고추 1개  
  - 두부 1/2모(약 150g)  
  - 사골 육수 300ml  
  - 물 300ml  
  - 고춧가루 2.5큰술  
  - 간장 2.5큰술  
  - 다진 마늘 1큰술  
  - 설탕 1큰술  
  - 참기름 1작은술  
  - 김치국물 5큰술  
  - 소금, 후추(기호에 따라)  

- 조리 시간  
약 35~40분

- 난이도  
초급~중급

- 상세한 조리 방법  
1. 신김치 600g을 먹기 좋은 크기로 썰어줍니다.  
2. 돼지고기 250g(목살 또는 삼겹살)을 손가락 두 마디 크기 정도로 큼직하게 썰어줍니다.  
3. 양파 1/4개는 채 썰고, 대파(1줌)와 청양고추(1개)는 어슷하게 썰어줍니다.  
4. 두부 1/2모도 한입 크기로 썰어둡니다.  
5. 냄비에 썰어둔 김치, 돼지고기, 참기름 1작은술, 김치국물 5큰술을 넣고 중약불에서 3~5분간 볶아줍니다[3].  
6. 고기가 익고 김치가 숨이 죽으면 고춧가루 2.5큰술, 간장 2.5큰술, 다진 마늘 1큰술, 설탕 1큰술을 넣어 골고루 섞어줍니다[1].  
7. 사골 육수 300ml와 물 300ml를 붓고 센 불에서 끓입니다.  
8. 끓기 시작하면 거품을 걷고, 중불로 줄여 10~15분간 끓입니다.  
9. 두부, 양파, 대파, 청양고추를 넣고 5~10분 더 끓입니다.  
10. 간을 보고 부족하면 소금, 후추로 맞춥니다.  
11. 불을 끄고 그릇에 담아냅니다.  

- 요리 팁과 주의사항  
  - 신김치를 사용해야 깊은 맛이 납니다.  
  - 돼지고기는 목살, 삼겹살, 앞다릿살 등 기호에 맞게 선택하세요.  
  - 사골육수가 없다면 멸치육수, 쌀뜨물, 또는 그냥 물로 대체해도 좋습니다.  
  - 김치와 고기를 미리 충분히 볶으면 국물 맛이 더욱 진해집니다[3].  
  - 두부는 마지막에 넣어야 부서지지 않고 식감이 살아납니다.  
  - 고춧가루와 청양고추 양은 기호에 맞게 조절하세요.  
  - 오래 끓일수록 국물 맛이 깊어집니다.

- 완성된 요리의 이미지 URL  
https://recipe1.ezmember.co.kr/cache/recipe/2015/07/20/9d2c7e1e84f5bc7fc0772f6b0310f1351.jpg

[참고: 주요 재료 및 조리법은 제공된 검색결과[1][3][5]을 반영해 집대성하였음.]
2025-05-29T10:28:06.240+09:00  INFO 42064 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Parsed recipe title: - 요리 이름
2025-05-29T10:28:06.241+09:00  WARN 42064 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : No ingredients text found in content
2025-05-29T10:28:06.241+09:00  INFO 42064 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Final description: 
2025-05-29T10:28:06.241+09:00  INFO 42064 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Saving recipe with title: - 요리 이름
2025-05-29T10:28:06.314+09:00 DEBUG 42064 --- [prompt-test] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    /* insert for
        ac.su.kdt.prompttest.entity.Recipe */insert 
    into
        recipe (category, cooking_time, description, difficulty, image, title) 
    values
        (?, ?, ?, ?, ?, ?)
2025-05-29T10:28:06.331+09:00  INFO 42064 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Saved recipe with ID: 47
2025-05-29T10:28:06.332+09:00  INFO 42064 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Successfully parsed recipe with ID: 47
2025-05-29T10:28:06.346+09:00 DEBUG 42064 --- [prompt-test] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    /* <criteria> */ select
        ri1_0.ingredient_id,
        ri1_0.recipe_id 
    from
        recipe_ingredient ri1_0 
    where
        ri1_0.recipe_id=?
2025-05-29T10:28:06.355+09:00 DEBUG 42064 --- [prompt-test] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    /* insert for
        ac.su.kdt.prompttest.entity.Recipe */insert 
    into
        recipe (category, cooking_time, description, difficulty, image, title) 
    values
        (?, ?, ?, ?, ?, ?)
2025-05-29T10:31:49.736+09:00  INFO 42064 --- [prompt-test] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-29T10:31:49.748+09:00  INFO 42064 --- [prompt-test] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-29T10:31:49.849+09:00  INFO 42064 --- [prompt-test] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T13:08:43.928+09:00  INFO 2849 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 2849 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T13:08:43.928+09:00 DEBUG 2849 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T13:08:43.929+09:00  INFO 2849 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T13:08:43.945+09:00  INFO 2849 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T13:08:43.945+09:00  INFO 2849 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T13:08:44.192+09:00  INFO 2849 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:08:44.193+09:00  INFO 2849 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T13:08:44.203+09:00  INFO 2849 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:08:44.203+09:00  INFO 2849 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:08:44.203+09:00  INFO 2849 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:08:44.204+09:00  INFO 2849 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:08:44.204+09:00  INFO 2849 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:08:44.204+09:00  INFO 2849 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:08:44.204+09:00  INFO 2849 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:08:44.205+09:00  INFO 2849 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 JDBC repository interfaces.
2025-05-30T13:08:44.208+09:00  INFO 2849 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:08:44.208+09:00  INFO 2849 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T13:08:44.244+09:00  INFO 2849 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 7 JPA repository interfaces.
2025-05-30T13:08:44.250+09:00  INFO 2849 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:08:44.250+09:00  INFO 2849 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T13:08:44.254+09:00  INFO 2849 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:08:44.254+09:00  INFO 2849 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:08:44.254+09:00  INFO 2849 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:08:44.254+09:00  INFO 2849 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:08:44.254+09:00  INFO 2849 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:08:44.254+09:00  INFO 2849 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:08:44.254+09:00  INFO 2849 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:08:44.254+09:00  INFO 2849 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-05-30T13:08:44.399+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 90655 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T13:08:44.399+09:00 DEBUG 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T13:08:44.399+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T13:08:44.463+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:08:44.463+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T13:08:44.465+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:08:44.465+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:08:44.465+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:08:44.466+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:08:44.466+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:08:44.466+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:08:44.466+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:08:44.466+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 JDBC repository interfaces.
2025-05-30T13:08:44.467+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:08:44.468+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T13:08:44.471+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 7 JPA repository interfaces.
2025-05-30T13:08:44.472+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:08:44.472+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T13:08:44.473+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:08:44.473+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:08:44.474+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:08:44.474+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:08:44.474+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:08:44.474+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:08:44.474+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:08:44.474+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-30T13:08:44.497+09:00  INFO 2849 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T13:08:44.504+09:00  INFO 2849 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T13:08:44.504+09:00  INFO 2849 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T13:08:44.522+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T13:08:44.523+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T13:08:44.523+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T13:08:44.526+09:00  INFO 2849 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T13:08:44.526+09:00  INFO 2849 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 581 ms
2025-05-30T13:08:44.527+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-05-30T13:08:44.527+09:00  INFO 90655 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 127 ms
2025-05-30T13:08:44.532+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2025-05-30T13:08:44.535+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5e54e338
2025-05-30T13:08:44.535+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2025-05-30T13:08:44.535+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T13:08:44.537+09:00  INFO 2849 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T13:08:44.546+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T13:08:44.547+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T13:08:44.548+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T13:08:44.549+09:00  WARN 90655 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T13:08:44.549+09:00  WARN 90655 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T13:08:44.591+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T13:08:44.594+09:00  INFO 2849 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@77e083e8
2025-05-30T13:08:44.594+09:00  INFO 2849 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T13:08:44.598+09:00  INFO 2849 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T13:08:44.600+09:00 DEBUG 90655 --- [prompt-test] [restartedMain] org.hibernate.SQL                        : 
    create table users (
        id integer not null auto_increment,
        age integer,
        allergies varchar(255),
        created_at datetime(6) not null,
        email varchar(100),
        gender varchar(255),
        health_conditions varchar(255),
        name varchar(255),
        password varchar(255) not null,
        preferences varchar(255),
        profile_image varchar(255),
        provider varchar(20),
        provider_id varchar(50),
        updated_at datetime(6) not null,
        username varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2025-05-30T13:08:44.610+09:00 DEBUG 90655 --- [prompt-test] [restartedMain] org.hibernate.SQL                        : 
    alter table users 
       drop index UK_r43af9ap4edm43mmtq01oddj6
2025-05-30T13:08:44.615+09:00 DEBUG 90655 --- [prompt-test] [restartedMain] org.hibernate.SQL                        : 
    alter table users 
       add constraint UK_r43af9ap4edm43mmtq01oddj6 unique (username)
2025-05-30T13:08:44.630+09:00 DEBUG 90655 --- [prompt-test] [restartedMain] org.hibernate.SQL                        : 
    alter table user_ingredient 
       add constraint FK8aprx9w14o38ck64pwtso3hqi 
       foreign key (user_id) 
       references users (id)
2025-05-30T13:08:44.644+09:00  INFO 2849 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T13:08:44.654+09:00 DEBUG 90655 --- [prompt-test] [restartedMain] org.hibernate.SQL                        : 
    alter table user_prompt 
       add constraint FKf6w2nh54ef2gkb62kkhy0hbvf 
       foreign key (user_id) 
       references users (id)
2025-05-30T13:08:44.666+09:00  INFO 2849 --- [prompt-test] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-30T13:08:44.672+09:00  INFO 90655 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:08:44.677+09:00  INFO 2849 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T13:08:44.698+09:00  WARN 90655 --- [prompt-test] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatHistoryController' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/controller/ChatHistoryController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'chatHistoryService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/ChatHistoryService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'perplexityService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/PerplexityService.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.springframework.web.client.RestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-05-30T13:08:44.698+09:00  INFO 90655 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:08:44.698+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2025-05-30T13:08:44.710+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.
2025-05-30T13:08:44.711+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-30T13:08:44.713+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-30T13:08:44.715+09:00 ERROR 90655 --- [prompt-test] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in ac.su.kdt.prompttest.service.PerplexityService required a bean of type 'org.springframework.web.client.RestTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.web.client.RestTemplate' in your configuration.

2025-05-30T13:08:44.750+09:00  INFO 2849 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T13:08:44.770+09:00  WARN 2849 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T13:08:44.770+09:00  WARN 2849 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T13:08:45.097+09:00  INFO 2849 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T13:08:45.146+09:00  INFO 2849 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:08:45.236+09:00  WARN 2849 --- [prompt-test] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatHistoryController' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/controller/ChatHistoryController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'chatHistoryService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/ChatHistoryService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'perplexityService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/PerplexityService.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.springframework.web.client.RestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-05-30T13:08:45.237+09:00  INFO 2849 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:08:45.238+09:00  INFO 2849 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-30T13:08:45.240+09:00  INFO 2849 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T13:08:45.241+09:00  INFO 2849 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-30T13:08:45.245+09:00  INFO 2849 --- [prompt-test] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-30T13:08:45.253+09:00 ERROR 2849 --- [prompt-test] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in ac.su.kdt.prompttest.service.PerplexityService required a bean of type 'org.springframework.web.client.RestTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.web.client.RestTemplate' in your configuration.

2025-05-30T13:12:52.508+09:00  INFO 3422 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 3422 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T13:12:52.509+09:00 DEBUG 3422 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T13:12:52.509+09:00  INFO 3422 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T13:12:52.524+09:00  INFO 3422 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T13:12:52.524+09:00  INFO 3422 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T13:12:52.741+09:00  INFO 3422 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:12:52.742+09:00  INFO 3422 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T13:12:52.752+09:00  INFO 3422 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:12:52.752+09:00  INFO 3422 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:12:52.752+09:00  INFO 3422 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:12:52.753+09:00  INFO 3422 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:12:52.753+09:00  INFO 3422 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:12:52.753+09:00  INFO 3422 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:12:52.753+09:00  INFO 3422 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:12:52.754+09:00  INFO 3422 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 JDBC repository interfaces.
2025-05-30T13:12:52.757+09:00  INFO 3422 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:12:52.757+09:00  INFO 3422 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T13:12:52.796+09:00  INFO 3422 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 7 JPA repository interfaces.
2025-05-30T13:12:52.801+09:00  INFO 3422 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:12:52.802+09:00  INFO 3422 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T13:12:52.805+09:00  INFO 3422 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:12:52.806+09:00  INFO 3422 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:12:52.806+09:00  INFO 3422 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:12:52.806+09:00  INFO 3422 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:12:52.806+09:00  INFO 3422 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:12:52.806+09:00  INFO 3422 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:12:52.806+09:00  INFO 3422 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:12:52.806+09:00  INFO 3422 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-05-30T13:12:52.993+09:00  INFO 3422 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T13:12:52.997+09:00  INFO 3422 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T13:12:52.997+09:00  INFO 3422 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T13:12:53.012+09:00  INFO 3422 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T13:12:53.012+09:00  INFO 3422 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 488 ms
2025-05-30T13:12:53.023+09:00  INFO 3422 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T13:12:53.074+09:00  INFO 3422 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@20824f81
2025-05-30T13:12:53.074+09:00  INFO 3422 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T13:12:53.078+09:00  INFO 3422 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T13:12:53.114+09:00  INFO 3422 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T13:12:53.133+09:00  INFO 3422 --- [prompt-test] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-30T13:12:53.142+09:00  INFO 3422 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T13:12:53.207+09:00  INFO 3422 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T13:12:53.230+09:00  WARN 3422 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T13:12:53.230+09:00  WARN 3422 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T13:12:53.680+09:00  INFO 3422 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T13:12:53.739+09:00  INFO 3422 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:12:53.816+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 90655 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T13:12:53.816+09:00 DEBUG 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T13:12:53.816+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T13:12:53.872+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:12:53.872+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T13:12:53.873+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:12:53.874+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:12:53.874+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:12:53.874+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:12:53.874+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:12:53.875+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:12:53.875+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:12:53.875+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 JDBC repository interfaces.
2025-05-30T13:12:53.876+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:12:53.876+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T13:12:53.879+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 7 JPA repository interfaces.
2025-05-30T13:12:53.880+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:12:53.880+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T13:12:53.880+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:12:53.881+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:12:53.881+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:12:53.881+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:12:53.881+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:12:53.881+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:12:53.881+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:12:53.881+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-05-30T13:12:53.925+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T13:12:53.925+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T13:12:53.925+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T13:12:53.930+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-05-30T13:12:53.930+09:00  INFO 90655 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 113 ms
2025-05-30T13:12:53.937+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2025-05-30T13:12:53.940+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@91458e
2025-05-30T13:12:53.940+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2025-05-30T13:12:53.940+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T13:12:53.940+09:00  WARN 3422 --- [prompt-test] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatHistoryController' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/controller/ChatHistoryController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'chatHistoryService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/ChatHistoryService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'perplexityService': Injection of autowired dependencies failed
2025-05-30T13:12:53.940+09:00  INFO 3422 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:12:53.942+09:00  INFO 3422 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-30T13:12:53.945+09:00  INFO 3422 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T13:12:53.947+09:00  INFO 3422 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-30T13:12:53.952+09:00  INFO 3422 --- [prompt-test] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-30T13:12:53.955+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T13:12:53.957+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T13:12:53.958+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T13:12:53.959+09:00  WARN 90655 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T13:12:53.959+09:00  WARN 90655 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T13:12:53.961+09:00 ERROR 3422 --- [prompt-test] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatHistoryController' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/controller/ChatHistoryController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'chatHistoryService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/ChatHistoryService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'perplexityService': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:959) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.3.jar:3.2.3]
	at ac.su.kdt.prompttest.PromptTestApplication.main(PromptTestApplication.java:12) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.3.jar:3.2.3]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatHistoryService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/ChatHistoryService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'perplexityService': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785) ~[spring-beans-6.1.4.jar:6.1.4]
	... 24 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'perplexityService': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:514) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1419) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785) ~[spring-beans-6.1.4.jar:6.1.4]
	... 38 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'PERPLEXITY_API_KEY' in value "${PERPLEXITY_API_KEY}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.core.env.AbstractPropertyResolver.resolveNestedPlaceholders(AbstractPropertyResolver.java:230) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:80) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:61) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:552) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$1.getProperty(PropertySourcesPlaceholderConfigurer.java:153) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$1.getProperty(PropertySourcesPlaceholderConfigurer.java:149) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:85) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.core.env.PropertySourcesPropertyResolver.getPropertyAsRawString(PropertySourcesPropertyResolver.java:74) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:153) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:200) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:921) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1374) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508) ~[spring-beans-6.1.4.jar:6.1.4]
	... 50 common frames omitted

2025-05-30T13:12:54.025+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T13:12:54.052+09:00  INFO 90655 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:12:54.138+09:00  WARN 90655 --- [prompt-test] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatHistoryController' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/controller/ChatHistoryController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'chatHistoryService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/ChatHistoryService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'perplexityService': Injection of autowired dependencies failed
2025-05-30T13:12:54.138+09:00  INFO 90655 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:12:54.138+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown initiated...
2025-05-30T13:12:54.141+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown completed.
2025-05-30T13:12:54.141+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-30T13:12:54.143+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-30T13:12:54.144+09:00 ERROR 90655 --- [prompt-test] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatHistoryController' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/controller/ChatHistoryController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'chatHistoryService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/ChatHistoryService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'perplexityService': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:959) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.3.jar:3.2.3]
	at ac.su.kdt.prompttest.PromptTestApplication.main(PromptTestApplication.java:12) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.3.jar:3.2.3]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatHistoryService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/ChatHistoryService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'perplexityService': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785) ~[spring-beans-6.1.4.jar:6.1.4]
	... 24 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'perplexityService': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:514) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1419) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785) ~[spring-beans-6.1.4.jar:6.1.4]
	... 38 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'PERPLEXITY_API_KEY' in value "${PERPLEXITY_API_KEY}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.core.env.AbstractPropertyResolver.resolveNestedPlaceholders(AbstractPropertyResolver.java:230) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:80) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:61) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:552) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$1.getProperty(PropertySourcesPlaceholderConfigurer.java:153) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$1.getProperty(PropertySourcesPlaceholderConfigurer.java:149) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:85) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.core.env.PropertySourcesPropertyResolver.getPropertyAsRawString(PropertySourcesPropertyResolver.java:74) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:153) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:200) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:921) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1374) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508) ~[spring-beans-6.1.4.jar:6.1.4]
	... 50 common frames omitted

2025-05-30T13:13:37.326+09:00  INFO 3923 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 3923 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T13:13:37.327+09:00 DEBUG 3923 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T13:13:37.328+09:00  INFO 3923 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T13:13:37.342+09:00  INFO 3923 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T13:13:37.343+09:00  INFO 3923 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T13:13:37.566+09:00  INFO 3923 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:13:37.567+09:00  INFO 3923 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T13:13:37.579+09:00  INFO 3923 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:13:37.579+09:00  INFO 3923 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:13:37.579+09:00  INFO 3923 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:13:37.580+09:00  INFO 3923 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:13:37.580+09:00  INFO 3923 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:13:37.580+09:00  INFO 3923 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:13:37.580+09:00  INFO 3923 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:13:37.581+09:00  INFO 3923 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 JDBC repository interfaces.
2025-05-30T13:13:37.584+09:00  INFO 3923 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:13:37.584+09:00  INFO 3923 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T13:13:37.622+09:00  INFO 3923 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 7 JPA repository interfaces.
2025-05-30T13:13:37.627+09:00  INFO 3923 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:13:37.627+09:00  INFO 3923 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T13:13:37.631+09:00  INFO 3923 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:13:37.631+09:00  INFO 3923 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:13:37.631+09:00  INFO 3923 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:13:37.631+09:00  INFO 3923 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:13:37.631+09:00  INFO 3923 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:13:37.631+09:00  INFO 3923 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:13:37.631+09:00  INFO 3923 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:13:37.631+09:00  INFO 3923 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-30T13:13:37.817+09:00  INFO 3923 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T13:13:37.821+09:00  INFO 3923 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T13:13:37.821+09:00  INFO 3923 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T13:13:37.837+09:00  INFO 3923 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T13:13:37.837+09:00  INFO 3923 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 494 ms
2025-05-30T13:13:37.848+09:00  INFO 3923 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T13:13:37.897+09:00  INFO 3923 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7f23405
2025-05-30T13:13:37.898+09:00  INFO 3923 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T13:13:37.901+09:00  INFO 3923 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T13:13:37.939+09:00  INFO 3923 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T13:13:37.956+09:00  INFO 3923 --- [prompt-test] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-30T13:13:37.966+09:00  INFO 3923 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T13:13:38.028+09:00  INFO 3923 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T13:13:38.049+09:00  WARN 3923 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T13:13:38.049+09:00  WARN 3923 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T13:13:38.397+09:00  INFO 3923 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T13:13:38.448+09:00  INFO 3923 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:13:38.605+09:00  WARN 3923 --- [prompt-test] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatHistoryController' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/controller/ChatHistoryController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'chatHistoryService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/ChatHistoryService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'perplexityService': Injection of autowired dependencies failed
2025-05-30T13:13:38.606+09:00  INFO 3923 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:13:38.607+09:00  INFO 3923 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-30T13:13:38.609+09:00  INFO 3923 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T13:13:38.610+09:00  INFO 3923 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-30T13:13:38.615+09:00  INFO 3923 --- [prompt-test] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-30T13:13:38.620+09:00 ERROR 3923 --- [prompt-test] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatHistoryController' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/controller/ChatHistoryController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'chatHistoryService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/ChatHistoryService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'perplexityService': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:959) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.3.jar:3.2.3]
	at ac.su.kdt.prompttest.PromptTestApplication.main(PromptTestApplication.java:12) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.3.jar:3.2.3]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatHistoryService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/ChatHistoryService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'perplexityService': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1355) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1192) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785) ~[spring-beans-6.1.4.jar:6.1.4]
	... 24 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'perplexityService': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:514) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1419) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:907) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:785) ~[spring-beans-6.1.4.jar:6.1.4]
	... 38 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'PERPLEXITY_API_KEY' in value "${PERPLEXITY_API_KEY}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.core.env.AbstractPropertyResolver.resolveNestedPlaceholders(AbstractPropertyResolver.java:230) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:80) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:61) ~[spring-boot-3.2.3.jar:3.2.3]
	at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:552) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$1.getProperty(PropertySourcesPlaceholderConfigurer.java:153) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$1.getProperty(PropertySourcesPlaceholderConfigurer.java:149) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:85) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.core.env.PropertySourcesPropertyResolver.getPropertyAsRawString(PropertySourcesPropertyResolver.java:74) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:153) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-6.1.4.jar:6.1.4]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:200) ~[spring-context-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:921) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1374) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.4.jar:6.1.4]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508) ~[spring-beans-6.1.4.jar:6.1.4]
	... 50 common frames omitted

2025-05-30T13:14:28.686+09:00  INFO 4077 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 4077 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T13:14:28.687+09:00 DEBUG 4077 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T13:14:28.687+09:00  INFO 4077 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T13:14:28.703+09:00  INFO 4077 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T13:14:28.704+09:00  INFO 4077 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T13:14:28.929+09:00  INFO 4077 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:14:28.929+09:00  INFO 4077 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T13:14:28.940+09:00  INFO 4077 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:14:28.940+09:00  INFO 4077 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:14:28.941+09:00  INFO 4077 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:14:28.941+09:00  INFO 4077 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:14:28.941+09:00  INFO 4077 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:14:28.942+09:00  INFO 4077 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:14:28.942+09:00  INFO 4077 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:14:28.942+09:00  INFO 4077 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 JDBC repository interfaces.
2025-05-30T13:14:28.946+09:00  INFO 4077 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:14:28.946+09:00  INFO 4077 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T13:14:28.985+09:00  INFO 4077 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 7 JPA repository interfaces.
2025-05-30T13:14:28.990+09:00  INFO 4077 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:14:28.991+09:00  INFO 4077 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T13:14:28.994+09:00  INFO 4077 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:14:28.994+09:00  INFO 4077 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:14:28.994+09:00  INFO 4077 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:14:28.994+09:00  INFO 4077 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:14:28.995+09:00  INFO 4077 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:14:28.995+09:00  INFO 4077 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:14:28.995+09:00  INFO 4077 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:14:28.995+09:00  INFO 4077 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-30T13:14:29.186+09:00  INFO 4077 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T13:14:29.191+09:00  INFO 4077 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T13:14:29.191+09:00  INFO 4077 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T13:14:29.207+09:00  INFO 4077 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T13:14:29.207+09:00  INFO 4077 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 503 ms
2025-05-30T13:14:29.217+09:00  INFO 4077 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T13:14:29.267+09:00  INFO 4077 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@a2d27c
2025-05-30T13:14:29.268+09:00  INFO 4077 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T13:14:29.271+09:00  INFO 4077 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T13:14:29.310+09:00  INFO 4077 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T13:14:29.329+09:00  INFO 4077 --- [prompt-test] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-30T13:14:29.340+09:00  INFO 4077 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T13:14:29.408+09:00  INFO 4077 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T13:14:29.429+09:00  WARN 4077 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T13:14:29.429+09:00  WARN 4077 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T13:14:29.525+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 90655 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T13:14:29.525+09:00 DEBUG 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T13:14:29.525+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T13:14:29.578+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:14:29.578+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T13:14:29.580+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:14:29.580+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:14:29.581+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:14:29.581+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:14:29.581+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:14:29.581+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:14:29.582+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:14:29.582+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 JDBC repository interfaces.
2025-05-30T13:14:29.583+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:14:29.583+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T13:14:29.586+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 7 JPA repository interfaces.
2025-05-30T13:14:29.588+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:14:29.588+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T13:14:29.589+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:14:29.589+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:14:29.589+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:14:29.589+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:14:29.589+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:14:29.589+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:14:29.589+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:14:29.589+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-30T13:14:29.628+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T13:14:29.629+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T13:14:29.629+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T13:14:29.633+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat-3].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-05-30T13:14:29.633+09:00  INFO 90655 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 107 ms
2025-05-30T13:14:29.638+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Starting...
2025-05-30T13:14:29.643+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-8 - Added connection com.mysql.cj.jdbc.ConnectionImpl@43a7a68d
2025-05-30T13:14:29.643+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Start completed.
2025-05-30T13:14:29.643+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T13:14:29.654+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T13:14:29.655+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T13:14:29.657+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T13:14:29.657+09:00  WARN 90655 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T13:14:29.657+09:00  WARN 90655 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T13:14:29.699+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T13:14:29.722+09:00  INFO 90655 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:14:29.795+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-30T13:14:29.795+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 53
2025-05-30T13:14:29.811+09:00  INFO 4077 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T13:14:29.815+09:00  WARN 90655 --- [prompt-test] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/ChatService.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'org.springframework.data.redis.core.RedisTemplate<java.lang.String, java.lang.Object>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-05-30T13:14:29.815+09:00  INFO 90655 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:14:29.816+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown initiated...
2025-05-30T13:14:29.825+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown completed.
2025-05-30T13:14:29.825+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-30T13:14:29.827+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-30T13:14:29.829+09:00 ERROR 90655 --- [prompt-test] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in ac.su.kdt.prompttest.service.ChatService required a bean of type 'org.springframework.data.redis.core.RedisTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.data.redis.core.RedisTemplate' in your configuration.

2025-05-30T13:14:29.858+09:00  INFO 4077 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:14:30.016+09:00  INFO 4077 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-30T13:14:30.016+09:00  INFO 4077 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 53
2025-05-30T13:14:30.042+09:00  WARN 4077 --- [prompt-test] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/ChatService.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'org.springframework.data.redis.core.RedisTemplate<java.lang.String, java.lang.Object>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-05-30T13:14:30.042+09:00  INFO 4077 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:14:30.044+09:00  INFO 4077 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-30T13:14:30.046+09:00  INFO 4077 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T13:14:30.046+09:00  INFO 4077 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-30T13:14:30.051+09:00  INFO 4077 --- [prompt-test] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-30T13:14:30.058+09:00 ERROR 4077 --- [prompt-test] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in ac.su.kdt.prompttest.service.ChatService required a bean of type 'org.springframework.data.redis.core.RedisTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.data.redis.core.RedisTemplate' in your configuration.

2025-05-30T13:15:46.253+09:00  INFO 4385 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 4385 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T13:15:46.254+09:00 DEBUG 4385 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T13:15:46.255+09:00  INFO 4385 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T13:15:46.272+09:00  INFO 4385 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T13:15:46.272+09:00  INFO 4385 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T13:15:46.498+09:00  INFO 4385 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:15:46.498+09:00  INFO 4385 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T13:15:46.508+09:00  INFO 4385 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:15:46.509+09:00  INFO 4385 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:15:46.509+09:00  INFO 4385 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:15:46.509+09:00  INFO 4385 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:15:46.510+09:00  INFO 4385 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:15:46.510+09:00  INFO 4385 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:15:46.510+09:00  INFO 4385 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:15:46.510+09:00  INFO 4385 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 JDBC repository interfaces.
2025-05-30T13:15:46.513+09:00  INFO 4385 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:15:46.514+09:00  INFO 4385 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T13:15:46.551+09:00  INFO 4385 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 7 JPA repository interfaces.
2025-05-30T13:15:46.556+09:00  INFO 4385 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:15:46.557+09:00  INFO 4385 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T13:15:46.560+09:00  INFO 4385 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:15:46.560+09:00  INFO 4385 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:15:46.560+09:00  INFO 4385 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:15:46.560+09:00  INFO 4385 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:15:46.560+09:00  INFO 4385 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:15:46.561+09:00  INFO 4385 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:15:46.561+09:00  INFO 4385 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:15:46.561+09:00  INFO 4385 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-05-30T13:15:46.742+09:00  INFO 4385 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T13:15:46.746+09:00  INFO 4385 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T13:15:46.746+09:00  INFO 4385 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T13:15:46.762+09:00  INFO 4385 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T13:15:46.762+09:00  INFO 4385 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 490 ms
2025-05-30T13:15:46.772+09:00  INFO 4385 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T13:15:46.824+09:00  INFO 4385 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1334cb5b
2025-05-30T13:15:46.825+09:00  INFO 4385 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T13:15:46.828+09:00  INFO 4385 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T13:15:46.866+09:00  INFO 4385 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T13:15:46.885+09:00  INFO 4385 --- [prompt-test] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-30T13:15:46.894+09:00  INFO 4385 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T13:15:46.958+09:00  INFO 4385 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T13:15:46.979+09:00  WARN 4385 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T13:15:46.979+09:00  WARN 4385 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T13:15:47.062+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 90655 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T13:15:47.063+09:00 DEBUG 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T13:15:47.063+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T13:15:47.121+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:15:47.121+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T13:15:47.123+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:15:47.123+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:15:47.123+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:15:47.123+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:15:47.124+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:15:47.124+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:15:47.124+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:15:47.124+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 JDBC repository interfaces.
2025-05-30T13:15:47.125+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:15:47.125+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T13:15:47.128+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 7 JPA repository interfaces.
2025-05-30T13:15:47.129+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:15:47.129+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T13:15:47.131+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:15:47.131+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:15:47.131+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:15:47.131+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:15:47.131+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:15:47.131+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:15:47.131+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:15:47.131+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-30T13:15:47.170+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T13:15:47.170+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T13:15:47.170+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T13:15:47.174+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat-4].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-05-30T13:15:47.174+09:00  INFO 90655 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 111 ms
2025-05-30T13:15:47.178+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Starting...
2025-05-30T13:15:47.180+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-9 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2acc1594
2025-05-30T13:15:47.181+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Start completed.
2025-05-30T13:15:47.181+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T13:15:47.191+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T13:15:47.192+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T13:15:47.193+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T13:15:47.194+09:00  WARN 90655 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T13:15:47.194+09:00  WARN 90655 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T13:15:47.231+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T13:15:47.259+09:00  INFO 90655 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:15:47.291+09:00  WARN 90655 --- [prompt-test] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatHistoryController' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/controller/ChatHistoryController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'chatHistoryService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/ChatHistoryService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'perplexityService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/PerplexityService.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.springframework.web.client.RestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-05-30T13:15:47.291+09:00  INFO 90655 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:15:47.291+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown initiated...
2025-05-30T13:15:47.296+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown completed.
2025-05-30T13:15:47.296+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-30T13:15:47.298+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-30T13:15:47.300+09:00 ERROR 90655 --- [prompt-test] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in ac.su.kdt.prompttest.service.PerplexityService required a bean of type 'org.springframework.web.client.RestTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.web.client.RestTemplate' in your configuration.

2025-05-30T13:15:47.372+09:00  INFO 4385 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T13:15:47.418+09:00  INFO 4385 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:15:47.514+09:00  WARN 4385 --- [prompt-test] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatHistoryController' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/controller/ChatHistoryController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'chatHistoryService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/ChatHistoryService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'perplexityService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/PerplexityService.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'org.springframework.web.client.RestTemplate' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-05-30T13:15:47.514+09:00  INFO 4385 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:15:47.515+09:00  INFO 4385 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-30T13:15:47.518+09:00  INFO 4385 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T13:15:47.519+09:00  INFO 4385 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-30T13:15:47.524+09:00  INFO 4385 --- [prompt-test] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-30T13:15:47.531+09:00 ERROR 4385 --- [prompt-test] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in ac.su.kdt.prompttest.service.PerplexityService required a bean of type 'org.springframework.web.client.RestTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.web.client.RestTemplate' in your configuration.

2025-05-30T13:16:11.780+09:00  INFO 4508 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 4508 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T13:16:11.781+09:00 DEBUG 4508 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T13:16:11.782+09:00  INFO 4508 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T13:16:11.795+09:00  INFO 4508 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T13:16:11.795+09:00  INFO 4508 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T13:16:12.014+09:00  INFO 4508 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:16:12.015+09:00  INFO 4508 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T13:16:12.025+09:00  INFO 4508 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:16:12.025+09:00  INFO 4508 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:16:12.026+09:00  INFO 4508 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:16:12.026+09:00  INFO 4508 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:16:12.026+09:00  INFO 4508 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:16:12.027+09:00  INFO 4508 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:16:12.027+09:00  INFO 4508 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:16:12.027+09:00  INFO 4508 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 JDBC repository interfaces.
2025-05-30T13:16:12.030+09:00  INFO 4508 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:16:12.030+09:00  INFO 4508 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T13:16:12.070+09:00  INFO 4508 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 7 JPA repository interfaces.
2025-05-30T13:16:12.075+09:00  INFO 4508 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:16:12.075+09:00  INFO 4508 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T13:16:12.079+09:00  INFO 4508 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:16:12.079+09:00  INFO 4508 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:16:12.079+09:00  INFO 4508 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:16:12.079+09:00  INFO 4508 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:16:12.079+09:00  INFO 4508 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:16:12.079+09:00  INFO 4508 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:16:12.079+09:00  INFO 4508 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:16:12.079+09:00  INFO 4508 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-30T13:16:12.265+09:00  INFO 4508 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T13:16:12.270+09:00  INFO 4508 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T13:16:12.270+09:00  INFO 4508 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T13:16:12.286+09:00  INFO 4508 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T13:16:12.286+09:00  INFO 4508 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 490 ms
2025-05-30T13:16:12.297+09:00  INFO 4508 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T13:16:12.353+09:00  INFO 4508 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2f7deca1
2025-05-30T13:16:12.353+09:00  INFO 4508 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T13:16:12.357+09:00  INFO 4508 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T13:16:12.397+09:00  INFO 4508 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T13:16:12.417+09:00  INFO 4508 --- [prompt-test] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-30T13:16:12.426+09:00  INFO 4508 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T13:16:12.491+09:00  INFO 4508 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T13:16:12.511+09:00  WARN 4508 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T13:16:12.512+09:00  WARN 4508 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T13:16:12.853+09:00  INFO 4508 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T13:16:12.901+09:00  INFO 4508 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:16:12.939+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 90655 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T13:16:12.939+09:00 DEBUG 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T13:16:12.939+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T13:16:12.989+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:16:12.989+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T13:16:12.991+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:16:12.991+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:16:12.991+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:16:12.991+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:16:12.991+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:16:12.992+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:16:12.992+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:16:12.992+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 JDBC repository interfaces.
2025-05-30T13:16:12.993+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:16:12.993+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T13:16:12.996+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 7 JPA repository interfaces.
2025-05-30T13:16:12.997+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:16:12.997+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T13:16:12.998+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:16:12.998+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:16:12.998+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:16:12.998+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:16:12.998+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:16:12.998+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:16:12.998+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:16:12.998+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-05-30T13:16:13.042+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T13:16:13.043+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T13:16:13.043+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T13:16:13.046+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat-5].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-05-30T13:16:13.046+09:00  INFO 90655 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 107 ms
2025-05-30T13:16:13.052+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Starting...
2025-05-30T13:16:13.054+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-10 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2d4ed153
2025-05-30T13:16:13.054+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Start completed.
2025-05-30T13:16:13.054+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T13:16:13.065+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T13:16:13.066+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T13:16:13.068+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T13:16:13.068+09:00  WARN 90655 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T13:16:13.068+09:00  WARN 90655 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T13:16:13.080+09:00  INFO 4508 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-30T13:16:13.080+09:00  INFO 4508 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 53
2025-05-30T13:16:13.104+09:00  WARN 4508 --- [prompt-test] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/ChatService.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'org.springframework.data.redis.core.RedisTemplate<java.lang.String, java.lang.Object>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-05-30T13:16:13.104+09:00  INFO 4508 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:16:13.106+09:00  INFO 4508 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-30T13:16:13.108+09:00  INFO 4508 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T13:16:13.109+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T13:16:13.110+09:00  INFO 4508 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-30T13:16:13.115+09:00  INFO 4508 --- [prompt-test] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-30T13:16:13.123+09:00 ERROR 4508 --- [prompt-test] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in ac.su.kdt.prompttest.service.ChatService required a bean of type 'org.springframework.data.redis.core.RedisTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.data.redis.core.RedisTemplate' in your configuration.

2025-05-30T13:16:13.140+09:00  INFO 90655 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:16:13.215+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-30T13:16:13.215+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 53
2025-05-30T13:16:13.230+09:00  WARN 90655 --- [prompt-test] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/ChatService.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'org.springframework.data.redis.core.RedisTemplate<java.lang.String, java.lang.Object>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-05-30T13:16:13.230+09:00  INFO 90655 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:16:13.230+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown initiated...
2025-05-30T13:16:13.236+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown completed.
2025-05-30T13:16:13.236+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-30T13:16:13.238+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-30T13:16:13.240+09:00 ERROR 90655 --- [prompt-test] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in ac.su.kdt.prompttest.service.ChatService required a bean of type 'org.springframework.data.redis.core.RedisTemplate' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.data.redis.core.RedisTemplate' in your configuration.

2025-05-30T13:17:36.182+09:00  INFO 4815 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 4815 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T13:17:36.183+09:00 DEBUG 4815 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T13:17:36.184+09:00  INFO 4815 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T13:17:36.198+09:00  INFO 4815 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T13:17:36.199+09:00  INFO 4815 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T13:17:36.420+09:00  INFO 4815 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:17:36.420+09:00  INFO 4815 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T13:17:36.432+09:00  INFO 4815 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:17:36.432+09:00  INFO 4815 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:17:36.432+09:00  INFO 4815 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:17:36.433+09:00  INFO 4815 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:17:36.433+09:00  INFO 4815 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:17:36.433+09:00  INFO 4815 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:17:36.434+09:00  INFO 4815 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:17:36.434+09:00  INFO 4815 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 JDBC repository interfaces.
2025-05-30T13:17:36.437+09:00  INFO 4815 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:17:36.438+09:00  INFO 4815 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T13:17:36.478+09:00  INFO 4815 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 7 JPA repository interfaces.
2025-05-30T13:17:36.484+09:00  INFO 4815 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:17:36.484+09:00  INFO 4815 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T13:17:36.488+09:00  INFO 4815 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:17:36.488+09:00  INFO 4815 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:17:36.488+09:00  INFO 4815 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:17:36.488+09:00  INFO 4815 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:17:36.488+09:00  INFO 4815 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:17:36.488+09:00  INFO 4815 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:17:36.488+09:00  INFO 4815 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:17:36.488+09:00  INFO 4815 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-30T13:17:36.679+09:00  INFO 4815 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T13:17:36.684+09:00  INFO 4815 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T13:17:36.684+09:00  INFO 4815 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T13:17:36.699+09:00  INFO 4815 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T13:17:36.700+09:00  INFO 4815 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 500 ms
2025-05-30T13:17:36.709+09:00  INFO 4815 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T13:17:36.765+09:00  INFO 4815 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7d2b8a6e
2025-05-30T13:17:36.765+09:00  INFO 4815 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T13:17:36.769+09:00  INFO 4815 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T13:17:36.808+09:00  INFO 4815 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T13:17:36.825+09:00  INFO 4815 --- [prompt-test] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-30T13:17:36.834+09:00  INFO 4815 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T13:17:36.902+09:00  INFO 4815 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T13:17:36.922+09:00  WARN 4815 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T13:17:36.922+09:00  WARN 4815 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T13:17:37.267+09:00  INFO 4815 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T13:17:37.313+09:00  INFO 4815 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:17:37.470+09:00  INFO 4815 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-30T13:17:37.470+09:00  INFO 4815 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 53
2025-05-30T13:17:37.520+09:00 ERROR 4815 --- [prompt-test] [restartedMain] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-05-30T13:17:37.552+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 90655 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T13:17:37.552+09:00 DEBUG 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T13:17:37.552+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T13:17:37.601+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:17:37.601+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T13:17:37.603+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:17:37.603+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:17:37.603+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:17:37.603+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:17:37.604+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:17:37.604+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:17:37.604+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:17:37.604+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 JDBC repository interfaces.
2025-05-30T13:17:37.605+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:17:37.605+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T13:17:37.607+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 7 JPA repository interfaces.
2025-05-30T13:17:37.609+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:17:37.609+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T13:17:37.610+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:17:37.610+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:17:37.610+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:17:37.610+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:17:37.610+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:17:37.610+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:17:37.610+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:17:37.610+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-05-30T13:17:37.626+09:00  WARN 4815 --- [prompt-test] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T13:17:37.634+09:00  INFO 4815 --- [prompt-test] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-30T13:17:37.650+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T13:17:37.651+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T13:17:37.651+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T13:17:37.655+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat-6].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-05-30T13:17:37.655+09:00  INFO 90655 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 102 ms
2025-05-30T13:17:37.659+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Starting...
2025-05-30T13:17:37.661+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-11 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3c43b846
2025-05-30T13:17:37.661+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Start completed.
2025-05-30T13:17:37.661+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T13:17:37.673+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T13:17:37.673+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T13:17:37.675+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T13:17:37.675+09:00  WARN 90655 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T13:17:37.675+09:00  WARN 90655 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T13:17:37.709+09:00  WARN 4815 --- [prompt-test] [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-30T13:17:37.715+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T13:17:37.748+09:00  INFO 90655 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:17:37.780+09:00  WARN 4815 --- [prompt-test] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2025-05-30T13:17:37.790+09:00  INFO 4815 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-30T13:17:37.795+09:00  INFO 4815 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Started PromptTestApplication in 1.734 seconds (process running for 1.868)
2025-05-30T13:17:37.818+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-30T13:17:37.818+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 53
2025-05-30T13:17:37.847+09:00  WARN 90655 --- [prompt-test] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T13:17:37.851+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-30T13:17:37.871+09:00  WARN 90655 --- [prompt-test] [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-30T13:17:37.894+09:00  WARN 90655 --- [prompt-test] [restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 29258cce-2a94-473e-bdd0-802e743bb8f2

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-05-30T13:17:37.903+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@305afef8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27c42516, org.springframework.security.web.context.SecurityContextHolderFilter@a3412d8, org.springframework.security.web.header.HeaderWriterFilter@5d7c0cec, org.springframework.web.filter.CorsFilter@5239d416, org.springframework.security.web.csrf.CsrfFilter@2ce602cd, org.springframework.security.web.authentication.logout.LogoutFilter@5fe6b82c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@73a0d505, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@27ad8d1f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@22809bc8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@19ed3485, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@16588939, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a0bf9de, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@454a0c5e, org.springframework.security.web.access.ExceptionTranslationFilter@15733591, org.springframework.security.web.access.intercept.AuthorizationFilter@5168cc21]
2025-05-30T13:17:37.910+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-30T13:17:37.915+09:00  WARN 90655 --- [prompt-test] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-05-30T13:17:37.917+09:00  INFO 90655 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:17:37.917+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Shutdown initiated...
2025-05-30T13:17:37.918+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Shutdown completed.
2025-05-30T13:17:37.920+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-30T13:17:37.921+09:00 ERROR 90655 --- [prompt-test] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-05-30T13:17:40.301+09:00  INFO 4815 --- [prompt-test] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-30T13:17:40.301+09:00  INFO 4815 --- [prompt-test] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-30T13:17:40.302+09:00  INFO 4815 --- [prompt-test] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-30T13:17:40.355+09:00 DEBUG 4815 --- [prompt-test] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.age,
        u1_0.allergies,
        u1_0.created_at,
        u1_0.email,
        u1_0.gender,
        u1_0.health_conditions,
        u1_0.name,
        u1_0.password,
        u1_0.preferences,
        u1_0.profile_image,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-05-30T13:17:40.356+09:00 ERROR 4815 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.prompttest.service.PromptService   : Error generating prompt for user 1: User not found with id: 1
2025-05-30T13:17:40.357+09:00  INFO 4815 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Starting getResponse for userId: 1, prompt: 당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
null

레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.

2025-05-30T13:17:40.357+09:00 DEBUG 4815 --- [prompt-test] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.age,
        u1_0.allergies,
        u1_0.created_at,
        u1_0.email,
        u1_0.gender,
        u1_0.health_conditions,
        u1_0.name,
        u1_0.password,
        u1_0.preferences,
        u1_0.profile_image,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-05-30T13:17:40.357+09:00 ERROR 4815 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.prompttest.service.PromptService   : Error generating prompt for user 1: User not found with id: 1
2025-05-30T13:17:40.357+09:00 DEBUG 4815 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : System prompt: 당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
null

레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.


레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.

2025-05-30T13:17:40.358+09:00  INFO 4815 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Sending request to Perplexity API
2025-05-30T13:17:40.358+09:00 DEBUG 4815 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Request headers: [Content-Type:"application/json", Authorization:"Bearer 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"]
2025-05-30T13:17:40.358+09:00 DEBUG 4815 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Request body: {messages=[{role=system, content=당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
null

레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.


레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.
}, {role=user, content=당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
null

레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.
}], model=sonar-pro}
2025-05-30T13:17:53.140+09:00  INFO 4815 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Received response from Perplexity API
2025-05-30T13:17:53.141+09:00 DEBUG 4815 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Response: {id=9f88f8d3-9407-40e9-a29f-d4d20743b0bb, model=sonar-pro, created=1748578673, usage={prompt_tokens=507, completion_tokens=758, total_tokens=1265, search_context_size=low}, citations=[https://kr.pinterest.com/aeowife0313/%EC%9A%94%EB%A6%AC/, https://blog.naver.com/PostView.naver?blogId=happysally15&logNo=223745772446, https://www.youtube.com/watch?v=rdBIXtz4aqk, https://www.10000recipe.com, https://mindecl.com/2025%EB%85%84-%ED%8A%B8%EB%A0%8C%EB%94%94%ED%95%9C-cheesy-beef-and-potato-soup-%EB%A0%88%EC%8B%9C%ED%94%BC-%EC%89%BD%EA%B3%A0-%EB%B9%A0/], search_results=[{title=요리에 관한 인기 아이디어 120개 - 2025 | 요리, 레시피, 음식, url=https://kr.pinterest.com/aeowife0313/%EC%9A%94%EB%A6%AC/, date=null}, {title=2025년 1월 일상 : 먹고 즐기고 해낸 것들 - 네이버 블로그 - NAVER, url=https://blog.naver.com/PostView.naver?blogId=happysally15&logNo=223745772446, date=2025-02-03}, {title=[2025년 세계밥상 레시피] 3월 꿍팟퐁커리(새우카레라이스) - YouTube, url=https://www.youtube.com/watch?v=rdBIXtz4aqk, date=2025-02-13}, {title=요리를 즐겁게~ 만개의레시피, url=https://www.10000recipe.com, date=null}, {title=2025년 트렌디한 Cheesy Beef and Potato Soup 레시피: 쉽고 빠, url=https://mindecl.com/2025%EB%85%84-%ED%8A%B8%EB%A0%8C%EB%94%94%ED%95%9C-cheesy-beef-and-potato-soup-%EB%A0%88%EC%8B%9C%ED%94%BC-%EC%89%BD%EA%B3%A0-%EB%B9%A0/, date=2025-03-27}], object=chat.completion, choices=[{index=0, finish_reason=stop, message={role=assistant, content=## Cheesy Beef and Potato Soup (치즈 비프 감자 수프)

**요리 이름**  
Cheesy Beef and Potato Soup

**필요한 재료와 양**  
- 다진 소고기: 250g  
- 감자: 2개(중간 크기, 약 300g)  
- 양파: 1개(중간 크기, 약 100g)  
- 당근: 1/2개(약 50g)  
- 마늘: 2쪽  
- 버터: 2큰술(30g)  
- 밀가루: 2큰술(20g)  
- 우유: 400ml  
- 치킨 또는 소고기 육수: 500ml  
- 체다치즈(잘게 썬 것): 100g  
- 소금: 1작은술  
- 후추: 약간  
- 파슬리(선택): 약간  
- 식용유: 1큰술

**조리 시간**  
총 55분 (준비 10분, 조리 45분)

**난이도**  
초중급

**상세한 조리 방법**
1. 감자와 당근은 1.5cm 크기로 깍둑썰기, 양파는 잘게 다지고, 마늘은 곱게 다집니다.
2. 냄비에 식용유와 버터를 넣고 중불에서 녹입니다.  
3. 양파와 마늘을 넣고 2분간 볶다가, 소고기를 넣고 3분간 익힙니다.  
4. 다진 소고기가 고루 익으면 감자와 당근을 넣고 섞으면서 2분간 볶습니다.  
5. 밀가루를 넣어 1분간 볶아가며 익혀줍니다.  
6. 치킨(또는 소고기) 육수를 붓고, 감자가 익을 때까지 뚜껑을 살짝 덮고 20분간 끓입니다.  
7. 감자가 부드러워지면 우유를 넣고 한소끔 끓입니다(약 5분).  
8. 중불로 줄이고 체다치즈를 한 번에 넣어 완전히 녹을 때까지 저어줍니다.  
9. 소금과 후추로 간을 맞추고, 마지막에 파슬리를 뿌려줍니다.
10. 따뜻할 때 그릇에 담아 완성합니다.

**요리 팁과 주의사항**
- 감자가 너무 작게 썰리면 쉽게 부서지므로 1.5cm 정도 크기가 적당합니다.
- 치즈는 체다 외에 모짜렐라나 고다 치즈를 섞어도 풍미가 좋아집니다.
- 수프가 너무 되직하면 우유나 육수를 추가해 농도를 조절하세요.
- 재료 손질 후 미리 준비해두면 조리 과정이 훨씬 수월합니다.
- 바게트나 식빵과 곁들이면 한 끼 식사로도 손색이 없습니다.

**완성된 요리의 이미지 URL**  
https://images.unsplash.com/photo-1519864600265-abb23847ef2c

이 레시피는 누구나 따라하기 쉽고, 든든한 한 끼로 가족 모두가 좋아하는 메뉴입니다[5].}, delta={role=assistant, content=}}]}
2025-05-30T13:17:53.142+09:00  INFO 4815 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Parsing AI response content
2025-05-30T13:17:53.142+09:00 DEBUG 4815 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Content: ## Cheesy Beef and Potato Soup (치즈 비프 감자 수프)

**요리 이름**  
Cheesy Beef and Potato Soup

**필요한 재료와 양**  
- 다진 소고기: 250g  
- 감자: 2개(중간 크기, 약 300g)  
- 양파: 1개(중간 크기, 약 100g)  
- 당근: 1/2개(약 50g)  
- 마늘: 2쪽  
- 버터: 2큰술(30g)  
- 밀가루: 2큰술(20g)  
- 우유: 400ml  
- 치킨 또는 소고기 육수: 500ml  
- 체다치즈(잘게 썬 것): 100g  
- 소금: 1작은술  
- 후추: 약간  
- 파슬리(선택): 약간  
- 식용유: 1큰술

**조리 시간**  
총 55분 (준비 10분, 조리 45분)

**난이도**  
초중급

**상세한 조리 방법**
1. 감자와 당근은 1.5cm 크기로 깍둑썰기, 양파는 잘게 다지고, 마늘은 곱게 다집니다.
2. 냄비에 식용유와 버터를 넣고 중불에서 녹입니다.  
3. 양파와 마늘을 넣고 2분간 볶다가, 소고기를 넣고 3분간 익힙니다.  
4. 다진 소고기가 고루 익으면 감자와 당근을 넣고 섞으면서 2분간 볶습니다.  
5. 밀가루를 넣어 1분간 볶아가며 익혀줍니다.  
6. 치킨(또는 소고기) 육수를 붓고, 감자가 익을 때까지 뚜껑을 살짝 덮고 20분간 끓입니다.  
7. 감자가 부드러워지면 우유를 넣고 한소끔 끓입니다(약 5분).  
8. 중불로 줄이고 체다치즈를 한 번에 넣어 완전히 녹을 때까지 저어줍니다.  
9. 소금과 후추로 간을 맞추고, 마지막에 파슬리를 뿌려줍니다.
10. 따뜻할 때 그릇에 담아 완성합니다.

**요리 팁과 주의사항**
- 감자가 너무 작게 썰리면 쉽게 부서지므로 1.5cm 정도 크기가 적당합니다.
- 치즈는 체다 외에 모짜렐라나 고다 치즈를 섞어도 풍미가 좋아집니다.
- 수프가 너무 되직하면 우유나 육수를 추가해 농도를 조절하세요.
- 재료 손질 후 미리 준비해두면 조리 과정이 훨씬 수월합니다.
- 바게트나 식빵과 곁들이면 한 끼 식사로도 손색이 없습니다.

**완성된 요리의 이미지 URL**  
https://images.unsplash.com/photo-1519864600265-abb23847ef2c

이 레시피는 누구나 따라하기 쉽고, 든든한 한 끼로 가족 모두가 좋아하는 메뉴입니다[5].
2025-05-30T13:17:53.142+09:00  INFO 4815 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Starting to parse recipe response
2025-05-30T13:17:53.143+09:00 DEBUG 4815 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Content to parse: ## Cheesy Beef and Potato Soup (치즈 비프 감자 수프)

**요리 이름**  
Cheesy Beef and Potato Soup

**필요한 재료와 양**  
- 다진 소고기: 250g  
- 감자: 2개(중간 크기, 약 300g)  
- 양파: 1개(중간 크기, 약 100g)  
- 당근: 1/2개(약 50g)  
- 마늘: 2쪽  
- 버터: 2큰술(30g)  
- 밀가루: 2큰술(20g)  
- 우유: 400ml  
- 치킨 또는 소고기 육수: 500ml  
- 체다치즈(잘게 썬 것): 100g  
- 소금: 1작은술  
- 후추: 약간  
- 파슬리(선택): 약간  
- 식용유: 1큰술

**조리 시간**  
총 55분 (준비 10분, 조리 45분)

**난이도**  
초중급

**상세한 조리 방법**
1. 감자와 당근은 1.5cm 크기로 깍둑썰기, 양파는 잘게 다지고, 마늘은 곱게 다집니다.
2. 냄비에 식용유와 버터를 넣고 중불에서 녹입니다.  
3. 양파와 마늘을 넣고 2분간 볶다가, 소고기를 넣고 3분간 익힙니다.  
4. 다진 소고기가 고루 익으면 감자와 당근을 넣고 섞으면서 2분간 볶습니다.  
5. 밀가루를 넣어 1분간 볶아가며 익혀줍니다.  
6. 치킨(또는 소고기) 육수를 붓고, 감자가 익을 때까지 뚜껑을 살짝 덮고 20분간 끓입니다.  
7. 감자가 부드러워지면 우유를 넣고 한소끔 끓입니다(약 5분).  
8. 중불로 줄이고 체다치즈를 한 번에 넣어 완전히 녹을 때까지 저어줍니다.  
9. 소금과 후추로 간을 맞추고, 마지막에 파슬리를 뿌려줍니다.
10. 따뜻할 때 그릇에 담아 완성합니다.

**요리 팁과 주의사항**
- 감자가 너무 작게 썰리면 쉽게 부서지므로 1.5cm 정도 크기가 적당합니다.
- 치즈는 체다 외에 모짜렐라나 고다 치즈를 섞어도 풍미가 좋아집니다.
- 수프가 너무 되직하면 우유나 육수를 추가해 농도를 조절하세요.
- 재료 손질 후 미리 준비해두면 조리 과정이 훨씬 수월합니다.
- 바게트나 식빵과 곁들이면 한 끼 식사로도 손색이 없습니다.

**완성된 요리의 이미지 URL**  
https://images.unsplash.com/photo-1519864600265-abb23847ef2c

이 레시피는 누구나 따라하기 쉽고, 든든한 한 끼로 가족 모두가 좋아하는 메뉴입니다[5].
2025-05-30T13:17:53.143+09:00  INFO 4815 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Parsed recipe title: ## Cheesy Beef and Potato Soup (치즈 비프 감자 수프)
2025-05-30T13:17:53.143+09:00  WARN 4815 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : No ingredients text found in content
2025-05-30T13:17:53.144+09:00  INFO 4815 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Final description: 
2025-05-30T13:17:53.144+09:00  INFO 4815 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Saving recipe with title: ## Cheesy Beef and Potato Soup (치즈 비프 감자 수프)
2025-05-30T13:17:53.164+09:00 DEBUG 4815 --- [prompt-test] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    /* insert for
        ac.su.kdt.prompttest.entity.Recipe */insert 
    into
        recipe (category, cooking_time, description, difficulty, image, title) 
    values
        (?, ?, ?, ?, ?, ?)
2025-05-30T13:17:53.171+09:00  WARN 4815 --- [prompt-test] [http-nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1406, SQLState: 22001
2025-05-30T13:17:53.171+09:00 ERROR 4815 --- [prompt-test] [http-nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Data truncation: Data too long for column 'title' at row 1
2025-05-30T13:17:53.174+09:00 ERROR 4815 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Error saving recipe or recipe ingredients

org.springframework.dao.DataIntegrityViolationException: could not execute statement [Data truncation: Data too long for column 'title' at row 1] [/* insert for ac.su.kdt.prompttest.entity.Recipe */insert into recipe (category,cooking_time,description,difficulty,image,title) values (?,?,?,?,?,?)]; SQL [/* insert for ac.su.kdt.prompttest.entity.Recipe */insert into recipe (category,cooking_time,description,difficulty,image,title) values (?,?,?,?,?,?)]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:293) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164) ~[spring-data-jpa-3.2.3.jar:3.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220) ~[spring-aop-6.1.4.jar:6.1.4]
	at jdk.proxy4/jdk.proxy4.$Proxy142.save(Unknown Source) ~[na:na]
	at ac.su.kdt.prompttest.service.PerplexityService.parseRecipeResponse(PerplexityService.java:341) ~[main/:na]
	at ac.su.kdt.prompttest.service.PerplexityService.getResponse(PerplexityService.java:91) ~[main/:na]
	at ac.su.kdt.prompttest.service.PerplexityService.getResponseAsString(PerplexityService.java:105) ~[main/:na]
	at ac.su.kdt.prompttest.service.RecipeService.requestRecipe(RecipeService.java:31) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717) ~[spring-aop-6.1.4.jar:6.1.4]
	at ac.su.kdt.prompttest.service.RecipeService$$SpringCGLIB$$0.requestRecipe(<generated>) ~[main/:na]
	at ac.su.kdt.prompttest.controller.RecipeController.requestRecipe(RecipeController.java:22) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.19.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.19.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.4.jar:6.1.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.4.jar:6.1.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.4.jar:6.1.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: org.hibernate.exception.DataException: could not execute statement [Data truncation: Data too long for column 'title' at row 1] [/* insert for ac.su.kdt.prompttest.entity.Recipe */insert into recipe (category,cooking_time,description,difficulty,image,title) values (?,?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:55) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performInsert(GetGeneratedKeysDelegate.java:107) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorPostInsertSingleTable.execute(MutationExecutorPostInsertSingleTable.java:100) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinator.doStaticInserts(InsertCoordinator.java:175) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinator.coordinateInsert(InsertCoordinator.java:113) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2868) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:81) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:386) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:300) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:219) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:134) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:754) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:738) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364) ~[spring-orm-6.1.4.jar:6.1.4]
	at jdk.proxy4/jdk.proxy4.$Proxy134.persist(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:319) ~[spring-orm-6.1.4.jar:6.1.4]
	at jdk.proxy4/jdk.proxy4.$Proxy134.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:618) ~[spring-data-jpa-3.2.3.jar:3.2.3]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277) ~[spring-data-commons-3.2.3.jar:3.2.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.2.3.jar:3.2.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.2.3.jar:3.2.3]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.2.3.jar:3.2.3]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.2.3.jar:3.2.3]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.2.3.jar:3.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.2.3.jar:3.2.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.2.3.jar:3.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70) ~[spring-data-commons-3.2.3.jar:3.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.1.4.jar:6.1.4]
	... 77 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'title' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:104) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:912) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1054) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1003) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1312) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:988) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 133 common frames omitted

2025-05-30T13:17:53.177+09:00 ERROR 4815 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Error calling Perplexity API

java.lang.RuntimeException: Failed to save recipe: could not execute statement [Data truncation: Data too long for column 'title' at row 1] [/* insert for ac.su.kdt.prompttest.entity.Recipe */insert into recipe (category,cooking_time,description,difficulty,image,title) values (?,?,?,?,?,?)]; SQL [/* insert for ac.su.kdt.prompttest.entity.Recipe */insert into recipe (category,cooking_time,description,difficulty,image,title) values (?,?,?,?,?,?)]
	at ac.su.kdt.prompttest.service.PerplexityService.parseRecipeResponse(PerplexityService.java:356) ~[main/:na]
	at ac.su.kdt.prompttest.service.PerplexityService.getResponse(PerplexityService.java:91) ~[main/:na]
	at ac.su.kdt.prompttest.service.PerplexityService.getResponseAsString(PerplexityService.java:105) ~[main/:na]
	at ac.su.kdt.prompttest.service.RecipeService.requestRecipe(RecipeService.java:31) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717) ~[spring-aop-6.1.4.jar:6.1.4]
	at ac.su.kdt.prompttest.service.RecipeService$$SpringCGLIB$$0.requestRecipe(<generated>) ~[main/:na]
	at ac.su.kdt.prompttest.controller.RecipeController.requestRecipe(RecipeController.java:22) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.19.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.19.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.4.jar:6.1.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.4.jar:6.1.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.4.jar:6.1.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement [Data truncation: Data too long for column 'title' at row 1] [/* insert for ac.su.kdt.prompttest.entity.Recipe */insert into recipe (category,cooking_time,description,difficulty,image,title) values (?,?,?,?,?,?)]; SQL [/* insert for ac.su.kdt.prompttest.entity.Recipe */insert into recipe (category,cooking_time,description,difficulty,image,title) values (?,?,?,?,?,?)]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:293) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550) ~[spring-orm-6.1.4.jar:6.1.4]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164) ~[spring-data-jpa-3.2.3.jar:3.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220) ~[spring-aop-6.1.4.jar:6.1.4]
	at jdk.proxy4/jdk.proxy4.$Proxy142.save(Unknown Source) ~[na:na]
	at ac.su.kdt.prompttest.service.PerplexityService.parseRecipeResponse(PerplexityService.java:341) ~[main/:na]
	... 69 common frames omitted
Caused by: org.hibernate.exception.DataException: could not execute statement [Data truncation: Data too long for column 'title' at row 1] [/* insert for ac.su.kdt.prompttest.entity.Recipe */insert into recipe (category,cooking_time,description,difficulty,image,title) values (?,?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:55) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performInsert(GetGeneratedKeysDelegate.java:107) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorPostInsertSingleTable.execute(MutationExecutorPostInsertSingleTable.java:100) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinator.doStaticInserts(InsertCoordinator.java:175) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.persister.entity.mutation.InsertCoordinator.coordinateInsert(InsertCoordinator.java:113) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2868) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:81) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:386) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:300) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:219) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:134) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:754) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:738) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364) ~[spring-orm-6.1.4.jar:6.1.4]
	at jdk.proxy4/jdk.proxy4.$Proxy134.persist(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:319) ~[spring-orm-6.1.4.jar:6.1.4]
	at jdk.proxy4/jdk.proxy4.$Proxy134.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:618) ~[spring-data-jpa-3.2.3.jar:3.2.3]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277) ~[spring-data-commons-3.2.3.jar:3.2.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170) ~[spring-data-commons-3.2.3.jar:3.2.3]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158) ~[spring-data-commons-3.2.3.jar:3.2.3]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.2.3.jar:3.2.3]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.2.3.jar:3.2.3]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.2.3.jar:3.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.2.3.jar:3.2.3]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.2.3.jar:3.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70) ~[spring-data-commons-3.2.3.jar:3.2.3]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.1.4.jar:6.1.4]
	... 77 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'title' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:104) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:912) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1054) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1003) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1312) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:988) ~[mysql-connector-j-8.3.0.jar:8.3.0]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194) ~[hibernate-core-6.4.4.Final.jar:6.4.4.Final]
	... 133 common frames omitted

2025-05-30T13:17:53.198+09:00  INFO 4815 --- [prompt-test] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:17:53.199+09:00  INFO 4815 --- [prompt-test] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-30T13:17:53.201+09:00  INFO 4815 --- [prompt-test] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T13:19:19.602+09:00  INFO 5564 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 5564 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T13:19:19.603+09:00 DEBUG 5564 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T13:19:19.603+09:00  INFO 5564 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T13:19:19.618+09:00  INFO 5564 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T13:19:19.618+09:00  INFO 5564 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T13:19:19.840+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:19:19.840+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T13:19:19.850+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:19:19.850+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:19:19.851+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:19:19.851+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:19:19.851+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:19:19.852+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:19:19.852+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:19:19.852+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 JDBC repository interfaces.
2025-05-30T13:19:19.855+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:19:19.855+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T13:19:19.894+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 7 JPA repository interfaces.
2025-05-30T13:19:19.899+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:19:19.899+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T13:19:19.903+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:19:19.903+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:19:19.903+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:19:19.903+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:19:19.903+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:19:19.903+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:19:19.903+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:19:19.903+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-30T13:19:20.084+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T13:19:20.088+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T13:19:20.088+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T13:19:20.102+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T13:19:20.102+09:00  INFO 5564 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 484 ms
2025-05-30T13:19:20.112+09:00  INFO 5564 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T13:19:20.166+09:00  INFO 5564 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2ffdcb2b
2025-05-30T13:19:20.167+09:00  INFO 5564 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T13:19:20.171+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T13:19:20.213+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T13:19:20.230+09:00  INFO 5564 --- [prompt-test] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-30T13:19:20.239+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T13:19:20.303+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T13:19:20.325+09:00  WARN 5564 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T13:19:20.326+09:00  WARN 5564 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T13:19:20.796+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T13:19:20.846+09:00  INFO 5564 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:19:20.999+09:00  INFO 5564 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-30T13:19:20.999+09:00  INFO 5564 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 53
2025-05-30T13:19:21.045+09:00 ERROR 5564 --- [prompt-test] [restartedMain] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-05-30T13:19:21.136+09:00  WARN 5564 --- [prompt-test] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T13:19:21.144+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-30T13:19:21.203+09:00  WARN 5564 --- [prompt-test] [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-30T13:19:21.269+09:00  WARN 5564 --- [prompt-test] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2025-05-30T13:19:21.279+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-30T13:19:21.283+09:00  INFO 5564 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Started PromptTestApplication in 1.9 seconds (process running for 2.049)
2025-05-30T13:19:32.493+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-30T13:19:32.494+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-30T13:19:32.494+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-05-30T13:19:32.542+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.age,
        u1_0.allergies,
        u1_0.created_at,
        u1_0.email,
        u1_0.gender,
        u1_0.health_conditions,
        u1_0.name,
        u1_0.password,
        u1_0.preferences,
        u1_0.profile_image,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-05-30T13:19:32.543+09:00 ERROR 5564 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.prompttest.service.PromptService   : Error generating prompt for user 1: User not found with id: 1
2025-05-30T13:19:32.543+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Starting getResponse for userId: 1, prompt: 당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
null

레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.

2025-05-30T13:19:32.544+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.age,
        u1_0.allergies,
        u1_0.created_at,
        u1_0.email,
        u1_0.gender,
        u1_0.health_conditions,
        u1_0.name,
        u1_0.password,
        u1_0.preferences,
        u1_0.profile_image,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-05-30T13:19:32.557+09:00 ERROR 5564 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.prompttest.service.PromptService   : Error generating prompt for user 1: User not found with id: 1
2025-05-30T13:19:32.557+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : System prompt: 당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
null

레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.


레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.

2025-05-30T13:19:32.558+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Sending request to Perplexity API
2025-05-30T13:19:32.558+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Request headers: [Content-Type:"application/json", Authorization:"Bearer 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"]
2025-05-30T13:19:32.558+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Request body: {messages=[{role=system, content=당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
null

레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.


레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.
}, {role=user, content=당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
null

레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.
}], model=sonar-pro}
2025-05-30T13:19:59.362+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Received response from Perplexity API
2025-05-30T13:19:59.363+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Response: {id=76142ea8-c8fd-46dc-98f6-2d60e0ef8e7b, model=sonar-pro, created=1748578799, usage={prompt_tokens=507, completion_tokens=1065, total_tokens=1572, search_context_size=low}, citations=[https://www.simplyrecipes.com/best-recipes-2025-so-far-11726767, https://kr.pinterest.com/aeowife0313/%EC%9A%94%EB%A6%AC/, https://blog.naver.com/PostView.naver?blogId=happysally15&logNo=223745772446, https://www.youtube.com/watch?v=rdBIXtz4aqk, https://mindecl.com/2025%EB%85%84-%ED%8A%B8%EB%A0%8C%EB%94%94%ED%95%9C-cheesy-beef-and-potato-soup-%EB%A0%88%EC%8B%9C%ED%94%BC-%EC%89%BD%EA%B3%A0-%EB%B9%A0/], search_results=[{title=Our Ten Most Popular Recipes of 2025 So Far, url=https://www.simplyrecipes.com/best-recipes-2025-so-far-11726767, date=2025-05-15}, {title=요리에 관한 인기 아이디어 120개 - 2025 | 요리, 음식, 레시피, url=https://kr.pinterest.com/aeowife0313/%EC%9A%94%EB%A6%AC/, date=null}, {title=2025년 1월 일상 : 먹고 즐기고 해낸 것들 - 네이버 블로그 - NAVER, url=https://blog.naver.com/PostView.naver?blogId=happysally15&logNo=223745772446, date=2025-02-03}, {title=[2025년 세계밥상 레시피] 3월 꿍팟퐁커리(새우카레라이스) - YouTube, url=https://www.youtube.com/watch?v=rdBIXtz4aqk, date=2025-02-13}, {title=2025년 트렌디한 Cheesy Beef and Potato Soup 레시피: 쉽고 빠, url=https://mindecl.com/2025%EB%85%84-%ED%8A%B8%EB%A0%8C%EB%94%94%ED%95%9C-cheesy-beef-and-potato-soup-%EB%A0%88%EC%8B%9C%ED%94%BC-%EC%89%BD%EA%B3%A0-%EB%B9%A0/, date=2025-03-27}], object=chat.completion, choices=[{index=0, finish_reason=stop, message={role=assistant, content=# 치즈 비프 포테이토 수프 (Cheesy Beef and Potato Soup)

2025년의 인기 레시피인 치즈 비프 포테이토 수프를 소개해 드립니다. 따뜻하고 풍부한 맛이 특징인 이 수프는 겨울철 몸을 따뜻하게 해줄 완벽한 요리입니다.

## 필요한 재료와 양
- 소고기 다짐육: 500g
- 감자: 4개 (중간 크기, 깍둑썰기)
- 양파: 1개 (중간 크기, 다진 것)
- 당근: 2개 (중간 크기, 깍둑썰기)
- 셀러리: 2대 (잘게 썬 것)
- 마늘: 3쪽 (다진 것)
- 치즈: 2컵 (체더 치즈, 갈린 것)
- 우유: 2컵
- 소고기 육수: 4컵
- 버터: 30g
- 밀가루: 3큰술
- 소금: 1작은술 (취향에 따라 조절)
- 후추: 1/2작은술
- 파슬리: 2큰술 (다진 것, 장식용)
- 올리브 오일: 2큰술

## 조리 시간
- 준비 시간: 10분
- 조리 시간: 45분
- 총 소요 시간: 55분

## 난이도
중간

## 상세 조리 방법

1. 큰 냄비에 올리브 오일을 두르고 중간 불에서 가열합니다.

2. 다진 양파를 넣고 투명해질 때까지 약 3-4분간 볶습니다.

3. 다진 마늘을 넣고 향이 올라올 때까지 30초간 더 볶습니다.

4. 소고기 다짐육을 넣고 갈색으로 변할 때까지 약 5-7분간 볶습니다. 고기를 볶는 동안 나무 주걱으로 잘게 부숴가며 볶아줍니다.

5. 당근과 셀러리를 넣고 약 3분간 더 볶습니다.

6. 깍둑썰기한 감자를 넣고 가볍게 저어줍니다.

7. 소고기 육수를 부어 끓여줍니다. 끓기 시작하면 불을 줄이고 뚜껑을 살짝 열어둔 채 감자가 부드러워질 때까지 약 20분간 끓입니다.

8. 다른 작은 냄비에 버터를 녹이고, 밀가루를 넣어 2-3분간 중간 불에서 저어가며 볶아 루(roux)를 만듭니다.

9. 루에 우유를 조금씩 넣으며 덩어리가 생기지 않도록 저어줍니다.

10. 우유 믹스처가 부드러워지고 약간 걸쭉해지면 메인 냄비에 부어줍니다.

11. 소금과 후추로 간을 맞추고 5분간 더 끓입니다.

12. 불을 끄고 갈린 치즈를 넣어 완전히 녹을 때까지 저어줍니다.

13. 그릇에 담고 다진 파슬리를 위에 뿌려 장식합니다.

## 요리 팁과 주의사항

- 치즈는 체더 치즈가 가장 좋지만, 모짜렐라나 콜비 잭 치즈 등으로도 대체할 수 있습니다.
- 소고기 다짐육은 지방 함량이 적은 것(90% 이상 살코기)을 선택하면 더 건강하게 즐길 수 있습니다.
- 감자는 으깨지지 않도록 깍둑썰기할 때 너무 작게 자르지 않는 것이 좋습니다.
- 치즈는 불을 끈 후에 넣어야 분리되지 않고 부드럽게 녹습니다.
- 남은 수프는 냉장 보관 시 3일, 냉동 보관 시 1개월까지 보관 가능합니다.
- 재가열 시에는 약한 불에서 천천히 데워야 치즈가 분리되지 않습니다.
- 수프가 너무 걸쭉하면 우유나 육수를 조금 더 넣어 농도를 조절할 수 있습니다.

## 완성된 요리 이미지
https://www.simplyrecipes.com/thmb/KRw_r32s4gQeOX-d07NzoUJK_QA=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/Simply-Recipes-Cheesy-Potato-Soup-LEAD-1-9d190ad60b3a408dba5582a1e575d8b6.jpg}, delta={role=assistant, content=}}]}
2025-05-30T13:19:59.363+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Parsing AI response content
2025-05-30T13:19:59.363+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Content: # 치즈 비프 포테이토 수프 (Cheesy Beef and Potato Soup)

2025년의 인기 레시피인 치즈 비프 포테이토 수프를 소개해 드립니다. 따뜻하고 풍부한 맛이 특징인 이 수프는 겨울철 몸을 따뜻하게 해줄 완벽한 요리입니다.

## 필요한 재료와 양
- 소고기 다짐육: 500g
- 감자: 4개 (중간 크기, 깍둑썰기)
- 양파: 1개 (중간 크기, 다진 것)
- 당근: 2개 (중간 크기, 깍둑썰기)
- 셀러리: 2대 (잘게 썬 것)
- 마늘: 3쪽 (다진 것)
- 치즈: 2컵 (체더 치즈, 갈린 것)
- 우유: 2컵
- 소고기 육수: 4컵
- 버터: 30g
- 밀가루: 3큰술
- 소금: 1작은술 (취향에 따라 조절)
- 후추: 1/2작은술
- 파슬리: 2큰술 (다진 것, 장식용)
- 올리브 오일: 2큰술

## 조리 시간
- 준비 시간: 10분
- 조리 시간: 45분
- 총 소요 시간: 55분

## 난이도
중간

## 상세 조리 방법

1. 큰 냄비에 올리브 오일을 두르고 중간 불에서 가열합니다.

2. 다진 양파를 넣고 투명해질 때까지 약 3-4분간 볶습니다.

3. 다진 마늘을 넣고 향이 올라올 때까지 30초간 더 볶습니다.

4. 소고기 다짐육을 넣고 갈색으로 변할 때까지 약 5-7분간 볶습니다. 고기를 볶는 동안 나무 주걱으로 잘게 부숴가며 볶아줍니다.

5. 당근과 셀러리를 넣고 약 3분간 더 볶습니다.

6. 깍둑썰기한 감자를 넣고 가볍게 저어줍니다.

7. 소고기 육수를 부어 끓여줍니다. 끓기 시작하면 불을 줄이고 뚜껑을 살짝 열어둔 채 감자가 부드러워질 때까지 약 20분간 끓입니다.

8. 다른 작은 냄비에 버터를 녹이고, 밀가루를 넣어 2-3분간 중간 불에서 저어가며 볶아 루(roux)를 만듭니다.

9. 루에 우유를 조금씩 넣으며 덩어리가 생기지 않도록 저어줍니다.

10. 우유 믹스처가 부드러워지고 약간 걸쭉해지면 메인 냄비에 부어줍니다.

11. 소금과 후추로 간을 맞추고 5분간 더 끓입니다.

12. 불을 끄고 갈린 치즈를 넣어 완전히 녹을 때까지 저어줍니다.

13. 그릇에 담고 다진 파슬리를 위에 뿌려 장식합니다.

## 요리 팁과 주의사항

- 치즈는 체더 치즈가 가장 좋지만, 모짜렐라나 콜비 잭 치즈 등으로도 대체할 수 있습니다.
- 소고기 다짐육은 지방 함량이 적은 것(90% 이상 살코기)을 선택하면 더 건강하게 즐길 수 있습니다.
- 감자는 으깨지지 않도록 깍둑썰기할 때 너무 작게 자르지 않는 것이 좋습니다.
- 치즈는 불을 끈 후에 넣어야 분리되지 않고 부드럽게 녹습니다.
- 남은 수프는 냉장 보관 시 3일, 냉동 보관 시 1개월까지 보관 가능합니다.
- 재가열 시에는 약한 불에서 천천히 데워야 치즈가 분리되지 않습니다.
- 수프가 너무 걸쭉하면 우유나 육수를 조금 더 넣어 농도를 조절할 수 있습니다.

## 완성된 요리 이미지
https://www.simplyrecipes.com/thmb/KRw_r32s4gQeOX-d07NzoUJK_QA=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/Simply-Recipes-Cheesy-Potato-Soup-LEAD-1-9d190ad60b3a408dba5582a1e575d8b6.jpg
2025-05-30T13:19:59.364+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Starting to parse recipe response
2025-05-30T13:19:59.364+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Content to parse: # 치즈 비프 포테이토 수프 (Cheesy Beef and Potato Soup)

2025년의 인기 레시피인 치즈 비프 포테이토 수프를 소개해 드립니다. 따뜻하고 풍부한 맛이 특징인 이 수프는 겨울철 몸을 따뜻하게 해줄 완벽한 요리입니다.

## 필요한 재료와 양
- 소고기 다짐육: 500g
- 감자: 4개 (중간 크기, 깍둑썰기)
- 양파: 1개 (중간 크기, 다진 것)
- 당근: 2개 (중간 크기, 깍둑썰기)
- 셀러리: 2대 (잘게 썬 것)
- 마늘: 3쪽 (다진 것)
- 치즈: 2컵 (체더 치즈, 갈린 것)
- 우유: 2컵
- 소고기 육수: 4컵
- 버터: 30g
- 밀가루: 3큰술
- 소금: 1작은술 (취향에 따라 조절)
- 후추: 1/2작은술
- 파슬리: 2큰술 (다진 것, 장식용)
- 올리브 오일: 2큰술

## 조리 시간
- 준비 시간: 10분
- 조리 시간: 45분
- 총 소요 시간: 55분

## 난이도
중간

## 상세 조리 방법

1. 큰 냄비에 올리브 오일을 두르고 중간 불에서 가열합니다.

2. 다진 양파를 넣고 투명해질 때까지 약 3-4분간 볶습니다.

3. 다진 마늘을 넣고 향이 올라올 때까지 30초간 더 볶습니다.

4. 소고기 다짐육을 넣고 갈색으로 변할 때까지 약 5-7분간 볶습니다. 고기를 볶는 동안 나무 주걱으로 잘게 부숴가며 볶아줍니다.

5. 당근과 셀러리를 넣고 약 3분간 더 볶습니다.

6. 깍둑썰기한 감자를 넣고 가볍게 저어줍니다.

7. 소고기 육수를 부어 끓여줍니다. 끓기 시작하면 불을 줄이고 뚜껑을 살짝 열어둔 채 감자가 부드러워질 때까지 약 20분간 끓입니다.

8. 다른 작은 냄비에 버터를 녹이고, 밀가루를 넣어 2-3분간 중간 불에서 저어가며 볶아 루(roux)를 만듭니다.

9. 루에 우유를 조금씩 넣으며 덩어리가 생기지 않도록 저어줍니다.

10. 우유 믹스처가 부드러워지고 약간 걸쭉해지면 메인 냄비에 부어줍니다.

11. 소금과 후추로 간을 맞추고 5분간 더 끓입니다.

12. 불을 끄고 갈린 치즈를 넣어 완전히 녹을 때까지 저어줍니다.

13. 그릇에 담고 다진 파슬리를 위에 뿌려 장식합니다.

## 요리 팁과 주의사항

- 치즈는 체더 치즈가 가장 좋지만, 모짜렐라나 콜비 잭 치즈 등으로도 대체할 수 있습니다.
- 소고기 다짐육은 지방 함량이 적은 것(90% 이상 살코기)을 선택하면 더 건강하게 즐길 수 있습니다.
- 감자는 으깨지지 않도록 깍둑썰기할 때 너무 작게 자르지 않는 것이 좋습니다.
- 치즈는 불을 끈 후에 넣어야 분리되지 않고 부드럽게 녹습니다.
- 남은 수프는 냉장 보관 시 3일, 냉동 보관 시 1개월까지 보관 가능합니다.
- 재가열 시에는 약한 불에서 천천히 데워야 치즈가 분리되지 않습니다.
- 수프가 너무 걸쭉하면 우유나 육수를 조금 더 넣어 농도를 조절할 수 있습니다.

## 완성된 요리 이미지
https://www.simplyrecipes.com/thmb/KRw_r32s4gQeOX-d07NzoUJK_QA=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/Simply-Recipes-Cheesy-Potato-Soup-LEAD-1-9d190ad60b3a408dba5582a1e575d8b6.jpg
2025-05-30T13:19:59.365+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Parsed recipe title: # 치즈 비프 포테이토 수프 (Cheesy Beef and Potato Soup)
2025-05-30T13:19:59.365+09:00  WARN 5564 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : No ingredients text found in content
2025-05-30T13:19:59.365+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Final description: 
2025-05-30T13:19:59.365+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Saving recipe with title: # 치즈 비프 포테이토 수프 (Cheesy Beef and Potato Soup)
2025-05-30T13:19:59.381+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    /* insert for
        ac.su.kdt.prompttest.entity.Recipe */insert 
    into
        recipe (category, cooking_time, description, difficulty, image, title) 
    values
        (?, ?, ?, ?, ?, ?)
2025-05-30T13:19:59.384+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Saved recipe with ID: 1
2025-05-30T13:19:59.384+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Successfully parsed recipe with ID: 1
2025-05-30T13:19:59.420+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    /* <criteria> */ select
        ri1_0.ingredient_id,
        ri1_0.recipe_id 
    from
        recipe_ingredient ri1_0 
    where
        ri1_0.recipe_id=?
2025-05-30T13:19:59.423+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    /* insert for
        ac.su.kdt.prompttest.entity.Recipe */insert 
    into
        recipe (category, cooking_time, description, difficulty, image, title) 
    values
        (?, ?, ?, ?, ?, ?)
2025-05-30T13:24:21.581+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.age,
        u1_0.allergies,
        u1_0.created_at,
        u1_0.email,
        u1_0.gender,
        u1_0.health_conditions,
        u1_0.name,
        u1_0.password,
        u1_0.preferences,
        u1_0.profile_image,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-05-30T13:24:21.582+09:00 ERROR 5564 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.prompttest.service.PromptService   : Error generating prompt for user 1: User not found with id: 1
2025-05-30T13:24:21.582+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Starting getResponse for userId: 1, prompt: 당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
null

레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.

2025-05-30T13:24:21.582+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.age,
        u1_0.allergies,
        u1_0.created_at,
        u1_0.email,
        u1_0.gender,
        u1_0.health_conditions,
        u1_0.name,
        u1_0.password,
        u1_0.preferences,
        u1_0.profile_image,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-05-30T13:24:21.583+09:00 ERROR 5564 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.prompttest.service.PromptService   : Error generating prompt for user 1: User not found with id: 1
2025-05-30T13:24:21.583+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : System prompt: 당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
null

레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.


레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.

2025-05-30T13:24:21.583+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Sending request to Perplexity API
2025-05-30T13:24:21.583+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Request headers: [Content-Type:"application/json", Authorization:"Bearer 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"]
2025-05-30T13:24:21.583+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Request body: {messages=[{role=system, content=당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
null

레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.


레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.
}, {role=user, content=당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
null

레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.
}], model=sonar-pro}
2025-05-30T13:24:49.418+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Received response from Perplexity API
2025-05-30T13:24:49.419+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Response: {id=f73680ac-dba2-4c7f-aa64-4173ac84c612, model=sonar-pro, created=1748579089, usage={prompt_tokens=507, completion_tokens=852, total_tokens=1359, search_context_size=low}, citations=[https://mx.pinterest.com/chomihye/%EC%9D%8C%EC%8B%9D_%EC%9D%B8%EA%B8%B0%EB%A0%88%EC%8B%9C%ED%94%BC/, https://blog.naver.com/PostView.naver?blogId=happysally15&logNo=223745772446, https://kr.pinterest.com/aeowife0313/%EC%9A%94%EB%A6%AC/, https://www.youtube.com/watch?v=rdBIXtz4aqk, https://thehyundaiblog.com/entry/2025thehyundaiguidebook], search_results=[{title=73개의 음식_인기레시피 아이디어 - 2025 - Pinterest, url=https://mx.pinterest.com/chomihye/%EC%9D%8C%EC%8B%9D_%EC%9D%B8%EA%B8%B0%EB%A0%88%EC%8B%9C%ED%94%BC/, date=null}, {title=2025년 1월 일상 : 먹고 즐기고 해낸 것들 - 네이버 블로그 - NAVER, url=https://blog.naver.com/PostView.naver?blogId=happysally15&logNo=223745772446, date=2025-02-03}, {title=요리에 관한 인기 아이디어 120개 - 2025 | 요리, 음식, 레시피, url=https://kr.pinterest.com/aeowife0313/%EC%9A%94%EB%A6%AC/, date=null}, {title=[2025년 세계밥상 레시피] 3월 꿍팟퐁커리(새우카레라이스) - YouTube, url=https://www.youtube.com/watch?v=rdBIXtz4aqk, date=2025-02-13}, {title=2025 설, 가격대별 백화점 명절 선물 추천 - 현대백화점 공식블로그, url=https://thehyundaiblog.com/entry/2025thehyundaiguidebook, date=2025-01-10}], object=chat.completion, choices=[{index=0, finish_reason=stop, message={role=assistant, content=## 요리 이름  
꿍팟퐁커리 (태국식 새우 커리 라이스)

---

## 필요한 재료와 양

- 새우 (중하) 200g  
- 양파 1/2개 (약 100g)  
- 피망(또는 파프리카) 1/2개  
- 당근 1/3개 (약 40g)  
- 대파 1/2대  
- 달걀 1개  
- 우유 100ml (또는 코코넛밀크)  
- 식용유 2큰술  
- 카레가루 2큰술  
- 굴소스 1큰술  
- 소금 1/3작은술  
- 후추 약간  
- 밥 2공기

---

## 조리 시간  
약 25분

---

## 난이도  
초급 ~ 중급

---

## 상세한 조리 방법

1. **재료 준비하기**  
  - 새우는 꼬리, 껍질, 내장을 제거하고 깨끗이 씻어 준비합니다.  
  - 양파, 피망, 당근은 채 썰고 대파는 송송 썹니다.

2. **새우 밑간하기**  
  - 깨끗이 손질한 새우에 소금, 후추를 약간 뿌려 5분 정도 재워둡니다.

3. **채소 볶기**  
  - 팬에 식용유 1큰술을 두르고 양파, 당근, 피망을 중불에서 2~3분간 볶아줍니다.

4. **새우 익히기**  
  - 채소에 새우를 넣고 새우가 살짝 익을 때까지 볶아줍니다(약 2분).

5. **카레소스 만들기**  
  - 카레가루 2큰술, 굴소스 1큰술, 우유(또는 코코넛밀크) 100ml, 대파, 식용유 1큰술을 넣고 잘 섞으면서 중불에서 졸입니다.
  - 약간 부족하다 싶으면 우유 조금씩 추가해 농도를 조절합니다.

6. **달걀 풀기**  
  - 달걀 1개를 잘 풀어서 소스에 붓고, 빠르게 저어서 스크램블처럼 익혀줍니다.

7. **마무리**  
  - 모든 재료가 골고루 섞이고 소스가 걸쭉해지면 불을 끄고, 밥 위에 소스를 얹어 완성합니다.

---

## 요리 팁과 주의사항

- 새우는 너무 오래 익히면 질겨지니 살짝만 익혀주세요.
- 소스의 농도는 우유/코코넛밀크 양으로 조절할 수 있습니다.
- 달걀을 넣은 뒤에는 빠르게 저어주어 촉촉한 식감을 살리세요.
- 기호에 따라 청양고추, 마늘 등을 추가하면 매콤하고 풍미가 진해집니다.
- 남은 소스는 냉장 보관 후 볶음밥, 파스타 등에 활용해도 좋습니다.

---

## 완성된 요리의 이미지 URL

![꿍팟퐁커리 이미지](https://i.pinimg.com/originals/be/54/3b/be543b57b264664d2a9422e7bd7e3887.jpg)

---

> 태국 현지의 풍미를 집에서 간단하게 즐길 수 있는 꿍팟퐁커리 레시피입니다. 누구나 따라할 수 있을 만큼 쉬우면서도 이국적인 한 그릇 요리로 추천합니다[4].}, delta={role=assistant, content=}}]}
2025-05-30T13:24:49.419+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Parsing AI response content
2025-05-30T13:24:49.419+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Content: ## 요리 이름  
꿍팟퐁커리 (태국식 새우 커리 라이스)

---

## 필요한 재료와 양

- 새우 (중하) 200g  
- 양파 1/2개 (약 100g)  
- 피망(또는 파프리카) 1/2개  
- 당근 1/3개 (약 40g)  
- 대파 1/2대  
- 달걀 1개  
- 우유 100ml (또는 코코넛밀크)  
- 식용유 2큰술  
- 카레가루 2큰술  
- 굴소스 1큰술  
- 소금 1/3작은술  
- 후추 약간  
- 밥 2공기

---

## 조리 시간  
약 25분

---

## 난이도  
초급 ~ 중급

---

## 상세한 조리 방법

1. **재료 준비하기**  
  - 새우는 꼬리, 껍질, 내장을 제거하고 깨끗이 씻어 준비합니다.  
  - 양파, 피망, 당근은 채 썰고 대파는 송송 썹니다.

2. **새우 밑간하기**  
  - 깨끗이 손질한 새우에 소금, 후추를 약간 뿌려 5분 정도 재워둡니다.

3. **채소 볶기**  
  - 팬에 식용유 1큰술을 두르고 양파, 당근, 피망을 중불에서 2~3분간 볶아줍니다.

4. **새우 익히기**  
  - 채소에 새우를 넣고 새우가 살짝 익을 때까지 볶아줍니다(약 2분).

5. **카레소스 만들기**  
  - 카레가루 2큰술, 굴소스 1큰술, 우유(또는 코코넛밀크) 100ml, 대파, 식용유 1큰술을 넣고 잘 섞으면서 중불에서 졸입니다.
  - 약간 부족하다 싶으면 우유 조금씩 추가해 농도를 조절합니다.

6. **달걀 풀기**  
  - 달걀 1개를 잘 풀어서 소스에 붓고, 빠르게 저어서 스크램블처럼 익혀줍니다.

7. **마무리**  
  - 모든 재료가 골고루 섞이고 소스가 걸쭉해지면 불을 끄고, 밥 위에 소스를 얹어 완성합니다.

---

## 요리 팁과 주의사항

- 새우는 너무 오래 익히면 질겨지니 살짝만 익혀주세요.
- 소스의 농도는 우유/코코넛밀크 양으로 조절할 수 있습니다.
- 달걀을 넣은 뒤에는 빠르게 저어주어 촉촉한 식감을 살리세요.
- 기호에 따라 청양고추, 마늘 등을 추가하면 매콤하고 풍미가 진해집니다.
- 남은 소스는 냉장 보관 후 볶음밥, 파스타 등에 활용해도 좋습니다.

---

## 완성된 요리의 이미지 URL

![꿍팟퐁커리 이미지](https://i.pinimg.com/originals/be/54/3b/be543b57b264664d2a9422e7bd7e3887.jpg)

---

> 태국 현지의 풍미를 집에서 간단하게 즐길 수 있는 꿍팟퐁커리 레시피입니다. 누구나 따라할 수 있을 만큼 쉬우면서도 이국적인 한 그릇 요리로 추천합니다[4].
2025-05-30T13:24:49.419+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Starting to parse recipe response
2025-05-30T13:24:49.419+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Content to parse: ## 요리 이름  
꿍팟퐁커리 (태국식 새우 커리 라이스)

---

## 필요한 재료와 양

- 새우 (중하) 200g  
- 양파 1/2개 (약 100g)  
- 피망(또는 파프리카) 1/2개  
- 당근 1/3개 (약 40g)  
- 대파 1/2대  
- 달걀 1개  
- 우유 100ml (또는 코코넛밀크)  
- 식용유 2큰술  
- 카레가루 2큰술  
- 굴소스 1큰술  
- 소금 1/3작은술  
- 후추 약간  
- 밥 2공기

---

## 조리 시간  
약 25분

---

## 난이도  
초급 ~ 중급

---

## 상세한 조리 방법

1. **재료 준비하기**  
  - 새우는 꼬리, 껍질, 내장을 제거하고 깨끗이 씻어 준비합니다.  
  - 양파, 피망, 당근은 채 썰고 대파는 송송 썹니다.

2. **새우 밑간하기**  
  - 깨끗이 손질한 새우에 소금, 후추를 약간 뿌려 5분 정도 재워둡니다.

3. **채소 볶기**  
  - 팬에 식용유 1큰술을 두르고 양파, 당근, 피망을 중불에서 2~3분간 볶아줍니다.

4. **새우 익히기**  
  - 채소에 새우를 넣고 새우가 살짝 익을 때까지 볶아줍니다(약 2분).

5. **카레소스 만들기**  
  - 카레가루 2큰술, 굴소스 1큰술, 우유(또는 코코넛밀크) 100ml, 대파, 식용유 1큰술을 넣고 잘 섞으면서 중불에서 졸입니다.
  - 약간 부족하다 싶으면 우유 조금씩 추가해 농도를 조절합니다.

6. **달걀 풀기**  
  - 달걀 1개를 잘 풀어서 소스에 붓고, 빠르게 저어서 스크램블처럼 익혀줍니다.

7. **마무리**  
  - 모든 재료가 골고루 섞이고 소스가 걸쭉해지면 불을 끄고, 밥 위에 소스를 얹어 완성합니다.

---

## 요리 팁과 주의사항

- 새우는 너무 오래 익히면 질겨지니 살짝만 익혀주세요.
- 소스의 농도는 우유/코코넛밀크 양으로 조절할 수 있습니다.
- 달걀을 넣은 뒤에는 빠르게 저어주어 촉촉한 식감을 살리세요.
- 기호에 따라 청양고추, 마늘 등을 추가하면 매콤하고 풍미가 진해집니다.
- 남은 소스는 냉장 보관 후 볶음밥, 파스타 등에 활용해도 좋습니다.

---

## 완성된 요리의 이미지 URL

![꿍팟퐁커리 이미지](https://i.pinimg.com/originals/be/54/3b/be543b57b264664d2a9422e7bd7e3887.jpg)

---

> 태국 현지의 풍미를 집에서 간단하게 즐길 수 있는 꿍팟퐁커리 레시피입니다. 누구나 따라할 수 있을 만큼 쉬우면서도 이국적인 한 그릇 요리로 추천합니다[4].
2025-05-30T13:24:49.420+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Parsed recipe title: ## 요리 이름
2025-05-30T13:24:49.420+09:00  WARN 5564 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : No ingredients text found in content
2025-05-30T13:24:49.420+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Final description: 
2025-05-30T13:24:49.420+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Saving recipe with title: ## 요리 이름
2025-05-30T13:24:49.421+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    /* insert for
        ac.su.kdt.prompttest.entity.Recipe */insert 
    into
        recipe (category, cooking_time, description, difficulty, image, title) 
    values
        (?, ?, ?, ?, ?, ?)
2025-05-30T13:24:49.422+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Saved recipe with ID: 3
2025-05-30T13:24:49.422+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-2] a.s.k.p.service.PerplexityService        : Successfully parsed recipe with ID: 3
2025-05-30T13:24:49.423+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    /* <criteria> */ select
        ri1_0.ingredient_id,
        ri1_0.recipe_id 
    from
        recipe_ingredient ri1_0 
    where
        ri1_0.recipe_id=?
2025-05-30T13:24:49.424+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    /* insert for
        ac.su.kdt.prompttest.entity.Recipe */insert 
    into
        recipe (category, cooking_time, description, difficulty, image, title) 
    values
        (?, ?, ?, ?, ?, ?)
2025-05-30T13:25:40.416+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.age,
        u1_0.allergies,
        u1_0.created_at,
        u1_0.email,
        u1_0.gender,
        u1_0.health_conditions,
        u1_0.name,
        u1_0.password,
        u1_0.preferences,
        u1_0.profile_image,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-05-30T13:25:40.417+09:00 ERROR 5564 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.prompttest.service.PromptService   : Error generating prompt for user 1: User not found with id: 1
2025-05-30T13:25:40.417+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : Starting getResponse for userId: 1, prompt: 당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
null

레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.

2025-05-30T13:25:40.417+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.age,
        u1_0.allergies,
        u1_0.created_at,
        u1_0.email,
        u1_0.gender,
        u1_0.health_conditions,
        u1_0.name,
        u1_0.password,
        u1_0.preferences,
        u1_0.profile_image,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-05-30T13:25:40.418+09:00 ERROR 5564 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.prompttest.service.PromptService   : Error generating prompt for user 1: User not found with id: 1
2025-05-30T13:25:40.418+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : System prompt: 당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
null

레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.


레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.

2025-05-30T13:25:40.418+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : Sending request to Perplexity API
2025-05-30T13:25:40.418+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : Request headers: [Content-Type:"application/json", Authorization:"Bearer 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"]
2025-05-30T13:25:40.418+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : Request body: {messages=[{role=system, content=당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
null

레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.


레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.
}, {role=user, content=당신은 레시피 추천 전문가입니다. 사용자의 요청에 맞는 레시피를 추천해주세요.

## 사용자 요청
null

레시피를 알려주세요. 다음 정보를 포함해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.
}], model=sonar-pro}
2025-05-30T13:26:05.733+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : Received response from Perplexity API
2025-05-30T13:26:05.734+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : Response: {id=ebd77b73-c517-4f56-9408-ddc22ca423d6, model=sonar-pro, created=1748579165, usage={prompt_tokens=507, completion_tokens=957, total_tokens=1464, search_context_size=low}, citations=[https://mx.pinterest.com/chomihye/%EC%9D%8C%EC%8B%9D_%EC%9D%B8%EA%B8%B0%EB%A0%88%EC%8B%9C%ED%94%BC/, https://www.10000recipe.com, https://kr.pinterest.com/aeowife0313/%EC%9A%94%EB%A6%AC/, https://www.youtube.com/watch?v=rdBIXtz4aqk, https://blog.naver.com/koreamof/223737066949?fromRss=true&trackingCode=rss], search_results=[{title=73개의 음식_인기레시피 아이디어 - 2025 - Pinterest, url=https://mx.pinterest.com/chomihye/%EC%9D%8C%EC%8B%9D_%EC%9D%B8%EA%B8%B0%EB%A0%88%EC%8B%9C%ED%94%BC/, date=null}, {title=요리를 즐겁게~ 만개의레시피, url=https://www.10000recipe.com, date=null}, {title=요리에 관한 인기 아이디어 120개 - 2025 | 요리, 음식, 레시피, url=https://kr.pinterest.com/aeowife0313/%EC%9A%94%EB%A6%AC/, date=null}, {title=[2025년 세계밥상 레시피] 3월 꿍팟퐁커리(새우카레라이스) - YouTube, url=https://www.youtube.com/watch?v=rdBIXtz4aqk, date=2025-02-13}, {title=2025년 설날수산물이 들어간 지역별이색 떡국 레시피 - Naver Blog, url=https://blog.naver.com/koreamof/223737066949?fromRss=true&trackingCode=rss, date=2025-01-24}], object=chat.completion, choices=[{index=0, finish_reason=stop, message={role=assistant, content=# 꿍팟퐁커리 (태국식 새우 카레 라이스)

태국을 대표하는 요리 중 하나인 꿍팟퐁커리를 소개합니다. 고소한 카레 향과 새우의 풍미가 어우러진 이 요리는 이국적인 맛을 집에서 쉽게 즐길 수 있는 훌륭한 선택입니다.

## 필요한 재료와 양

**주재료:**
- 중간 크기 새우 500g (껍질 제거, 꼬리 부분 남김)
- 쌀 2컵
- 카레 가루 3큰술
- 계란 2개
- 양파 1개 (채썰기)
- 파프리카 1개 (채썰기)
- 마늘 3쪽 (다진 것)
- 생강 1큰술 (다진 것)
- 파 2대 (송송 썬 것)

**소스 및 양념:**
- 코코넛 밀크 400ml
- 식용유 2큰술
- 피쉬소스 1큰술
- 설탕 1작은술
- 소금 약간
- 후추 약간
- 라임즙 1큰술

## 조리 시간
- 준비 시간: 15분
- 조리 시간: 25분
- 총 소요 시간: 40분

## 난이도
중간

## 상세한 조리 방법

1. 쌀을 깨끗이 씻어 밥솥에 넣고 물을 적당히 부어 밥을 짓습니다.

2. 새우는 껍질을 제거하고 꼬리 부분만 남긴 후 소금과 후추로 간을 합니다.

3. 큰 팬에 식용유를 두르고 중불에서 다진 마늘과 생강을 볶아 향이 나게 합니다.

4. 향이 올라오면 양파를 넣고 투명해질 때까지 볶습니다.

5. 새우를 넣고 분홍색으로 색이 변할 때까지 볶아줍니다.

6. 카레 가루를 넣고 잘 섞이도록 30초 정도 더 볶아줍니다.

7. 코코넛 밀크를 부어 잘 섞고, 피쉬소스, 설탕을 넣어 간을 맞춥니다.

8. 소스가 끓기 시작하면 불을 줄이고 약 5분간 끓여 소스를 걸쭉하게 만듭니다.

9. 파프리카를 넣고 1-2분 더 끓이다가 불을 끕니다.

10. 다른 팬에 기름을 두르고 계란을 깨서 프라이로 만듭니다.

11. 접시에 밥을 담고 그 위에 꿍팟퐁커리 소스를 부은 다음, 계란 프라이를 올립니다.

12. 송송 썬 파를 뿌려 장식하고 라임즙을 살짝 뿌려 완성합니다.

## 요리 팁과 주의사항

- 새우는 너무 오래 조리하면 질겨질 수 있으니 색이 변하는 정도로만 조리하세요.
- 카레 가루의 양은 기호에 따라 조절 가능합니다. 더 진한 맛을 원한다면 추가하세요.
- 코코넛 밀크는 브랜드마다 농도가 다를 수 있으니, 소스의 농도를 보며 조절하세요.
- 피쉬소스는 강한 향이 있으므로 처음에는 적은 양부터 시작하여 맛을 보며 추가하세요.
- 라임즙은 마지막에 뿌리면 요리의 풍미를 한층 더 살려줍니다.
- 매운맛을 원하시면 태국 고추나 청양고추를 추가해도 좋습니다.
- 쌀은 미리 30분 정도 불려두면 더 고슬고슬하게 밥이 완성됩니다.

## 완성된 요리의 이미지 URL

태국 전통 요리인 꿍팟퐁커리의 이미지는 각 가정에서 조리하는 방법에 따라 다양하게 나타날 수 있습니다. 위 레시피를 따라 만들면 노란빛의 카레 소스에 붉은색 새우가 어우러진 비주얼의 요리가 완성됩니다.}, delta={role=assistant, content=}}]}
2025-05-30T13:26:05.734+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : Parsing AI response content
2025-05-30T13:26:05.735+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : Content: # 꿍팟퐁커리 (태국식 새우 카레 라이스)

태국을 대표하는 요리 중 하나인 꿍팟퐁커리를 소개합니다. 고소한 카레 향과 새우의 풍미가 어우러진 이 요리는 이국적인 맛을 집에서 쉽게 즐길 수 있는 훌륭한 선택입니다.

## 필요한 재료와 양

**주재료:**
- 중간 크기 새우 500g (껍질 제거, 꼬리 부분 남김)
- 쌀 2컵
- 카레 가루 3큰술
- 계란 2개
- 양파 1개 (채썰기)
- 파프리카 1개 (채썰기)
- 마늘 3쪽 (다진 것)
- 생강 1큰술 (다진 것)
- 파 2대 (송송 썬 것)

**소스 및 양념:**
- 코코넛 밀크 400ml
- 식용유 2큰술
- 피쉬소스 1큰술
- 설탕 1작은술
- 소금 약간
- 후추 약간
- 라임즙 1큰술

## 조리 시간
- 준비 시간: 15분
- 조리 시간: 25분
- 총 소요 시간: 40분

## 난이도
중간

## 상세한 조리 방법

1. 쌀을 깨끗이 씻어 밥솥에 넣고 물을 적당히 부어 밥을 짓습니다.

2. 새우는 껍질을 제거하고 꼬리 부분만 남긴 후 소금과 후추로 간을 합니다.

3. 큰 팬에 식용유를 두르고 중불에서 다진 마늘과 생강을 볶아 향이 나게 합니다.

4. 향이 올라오면 양파를 넣고 투명해질 때까지 볶습니다.

5. 새우를 넣고 분홍색으로 색이 변할 때까지 볶아줍니다.

6. 카레 가루를 넣고 잘 섞이도록 30초 정도 더 볶아줍니다.

7. 코코넛 밀크를 부어 잘 섞고, 피쉬소스, 설탕을 넣어 간을 맞춥니다.

8. 소스가 끓기 시작하면 불을 줄이고 약 5분간 끓여 소스를 걸쭉하게 만듭니다.

9. 파프리카를 넣고 1-2분 더 끓이다가 불을 끕니다.

10. 다른 팬에 기름을 두르고 계란을 깨서 프라이로 만듭니다.

11. 접시에 밥을 담고 그 위에 꿍팟퐁커리 소스를 부은 다음, 계란 프라이를 올립니다.

12. 송송 썬 파를 뿌려 장식하고 라임즙을 살짝 뿌려 완성합니다.

## 요리 팁과 주의사항

- 새우는 너무 오래 조리하면 질겨질 수 있으니 색이 변하는 정도로만 조리하세요.
- 카레 가루의 양은 기호에 따라 조절 가능합니다. 더 진한 맛을 원한다면 추가하세요.
- 코코넛 밀크는 브랜드마다 농도가 다를 수 있으니, 소스의 농도를 보며 조절하세요.
- 피쉬소스는 강한 향이 있으므로 처음에는 적은 양부터 시작하여 맛을 보며 추가하세요.
- 라임즙은 마지막에 뿌리면 요리의 풍미를 한층 더 살려줍니다.
- 매운맛을 원하시면 태국 고추나 청양고추를 추가해도 좋습니다.
- 쌀은 미리 30분 정도 불려두면 더 고슬고슬하게 밥이 완성됩니다.

## 완성된 요리의 이미지 URL

태국 전통 요리인 꿍팟퐁커리의 이미지는 각 가정에서 조리하는 방법에 따라 다양하게 나타날 수 있습니다. 위 레시피를 따라 만들면 노란빛의 카레 소스에 붉은색 새우가 어우러진 비주얼의 요리가 완성됩니다.
2025-05-30T13:26:05.735+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : Starting to parse recipe response
2025-05-30T13:26:05.735+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : Content to parse: # 꿍팟퐁커리 (태국식 새우 카레 라이스)

태국을 대표하는 요리 중 하나인 꿍팟퐁커리를 소개합니다. 고소한 카레 향과 새우의 풍미가 어우러진 이 요리는 이국적인 맛을 집에서 쉽게 즐길 수 있는 훌륭한 선택입니다.

## 필요한 재료와 양

**주재료:**
- 중간 크기 새우 500g (껍질 제거, 꼬리 부분 남김)
- 쌀 2컵
- 카레 가루 3큰술
- 계란 2개
- 양파 1개 (채썰기)
- 파프리카 1개 (채썰기)
- 마늘 3쪽 (다진 것)
- 생강 1큰술 (다진 것)
- 파 2대 (송송 썬 것)

**소스 및 양념:**
- 코코넛 밀크 400ml
- 식용유 2큰술
- 피쉬소스 1큰술
- 설탕 1작은술
- 소금 약간
- 후추 약간
- 라임즙 1큰술

## 조리 시간
- 준비 시간: 15분
- 조리 시간: 25분
- 총 소요 시간: 40분

## 난이도
중간

## 상세한 조리 방법

1. 쌀을 깨끗이 씻어 밥솥에 넣고 물을 적당히 부어 밥을 짓습니다.

2. 새우는 껍질을 제거하고 꼬리 부분만 남긴 후 소금과 후추로 간을 합니다.

3. 큰 팬에 식용유를 두르고 중불에서 다진 마늘과 생강을 볶아 향이 나게 합니다.

4. 향이 올라오면 양파를 넣고 투명해질 때까지 볶습니다.

5. 새우를 넣고 분홍색으로 색이 변할 때까지 볶아줍니다.

6. 카레 가루를 넣고 잘 섞이도록 30초 정도 더 볶아줍니다.

7. 코코넛 밀크를 부어 잘 섞고, 피쉬소스, 설탕을 넣어 간을 맞춥니다.

8. 소스가 끓기 시작하면 불을 줄이고 약 5분간 끓여 소스를 걸쭉하게 만듭니다.

9. 파프리카를 넣고 1-2분 더 끓이다가 불을 끕니다.

10. 다른 팬에 기름을 두르고 계란을 깨서 프라이로 만듭니다.

11. 접시에 밥을 담고 그 위에 꿍팟퐁커리 소스를 부은 다음, 계란 프라이를 올립니다.

12. 송송 썬 파를 뿌려 장식하고 라임즙을 살짝 뿌려 완성합니다.

## 요리 팁과 주의사항

- 새우는 너무 오래 조리하면 질겨질 수 있으니 색이 변하는 정도로만 조리하세요.
- 카레 가루의 양은 기호에 따라 조절 가능합니다. 더 진한 맛을 원한다면 추가하세요.
- 코코넛 밀크는 브랜드마다 농도가 다를 수 있으니, 소스의 농도를 보며 조절하세요.
- 피쉬소스는 강한 향이 있으므로 처음에는 적은 양부터 시작하여 맛을 보며 추가하세요.
- 라임즙은 마지막에 뿌리면 요리의 풍미를 한층 더 살려줍니다.
- 매운맛을 원하시면 태국 고추나 청양고추를 추가해도 좋습니다.
- 쌀은 미리 30분 정도 불려두면 더 고슬고슬하게 밥이 완성됩니다.

## 완성된 요리의 이미지 URL

태국 전통 요리인 꿍팟퐁커리의 이미지는 각 가정에서 조리하는 방법에 따라 다양하게 나타날 수 있습니다. 위 레시피를 따라 만들면 노란빛의 카레 소스에 붉은색 새우가 어우러진 비주얼의 요리가 완성됩니다.
2025-05-30T13:26:05.735+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : Parsed recipe title: # 꿍팟퐁커리 (태국식 새우 카레 라이스)
2025-05-30T13:26:05.736+09:00  WARN 5564 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : No ingredients text found in content
2025-05-30T13:26:05.736+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : Final description: 
2025-05-30T13:26:05.736+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : Saving recipe with title: # 꿍팟퐁커리 (태국식 새우 카레 라이스)
2025-05-30T13:26:05.737+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    /* insert for
        ac.su.kdt.prompttest.entity.Recipe */insert 
    into
        recipe (category, cooking_time, description, difficulty, image, title) 
    values
        (?, ?, ?, ?, ?, ?)
2025-05-30T13:26:05.740+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : Saved recipe with ID: 5
2025-05-30T13:26:05.740+09:00  INFO 5564 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : Successfully parsed recipe with ID: 5
2025-05-30T13:26:05.742+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    /* <criteria> */ select
        ri1_0.ingredient_id,
        ri1_0.recipe_id 
    from
        recipe_ingredient ri1_0 
    where
        ri1_0.recipe_id=?
2025-05-30T13:26:05.744+09:00 DEBUG 5564 --- [prompt-test] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    /* insert for
        ac.su.kdt.prompttest.entity.Recipe */insert 
    into
        recipe (category, cooking_time, description, difficulty, image, title) 
    values
        (?, ?, ?, ?, ?, ?)
2025-05-30T13:26:45.521+09:00  INFO 5564 --- [prompt-test] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 8 class path changes (0 additions, 8 deletions, 0 modifications)
2025-05-30T13:26:45.534+09:00  INFO 5564 --- [prompt-test] [Thread-1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:26:45.536+09:00  INFO 5564 --- [prompt-test] [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-30T13:26:45.539+09:00  INFO 5564 --- [prompt-test] [Thread-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T13:26:45.587+09:00  INFO 5564 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 5564 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T13:26:45.587+09:00 DEBUG 5564 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T13:26:45.587+09:00  INFO 5564 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T13:26:45.658+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:26:45.658+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T13:26:45.660+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:45.660+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:45.661+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:45.661+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:45.661+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:45.661+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:45.662+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:45.662+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 JDBC repository interfaces.
2025-05-30T13:26:45.663+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:26:45.663+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T13:26:45.667+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 7 JPA repository interfaces.
2025-05-30T13:26:45.669+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:26:45.670+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T13:26:45.672+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:45.672+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:45.672+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:45.672+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:45.672+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:45.672+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:45.672+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:45.672+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-05-30T13:26:45.718+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T13:26:45.718+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T13:26:45.718+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T13:26:45.724+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T13:26:45.724+09:00  INFO 5564 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 136 ms
2025-05-30T13:26:45.729+09:00  INFO 5564 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-05-30T13:26:45.733+09:00  INFO 5564 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3ba4f61
2025-05-30T13:26:45.734+09:00  INFO 5564 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-05-30T13:26:45.734+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T13:26:45.749+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T13:26:45.751+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T13:26:45.754+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T13:26:45.754+09:00  WARN 5564 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T13:26:45.754+09:00  WARN 5564 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T13:26:45.811+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T13:26:45.841+09:00  INFO 5564 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:26:45.847+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 90655 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T13:26:45.847+09:00 DEBUG 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T13:26:45.847+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T13:26:45.870+09:00  WARN 5564 --- [prompt-test] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'chatHistoryController' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/controller/ChatHistoryController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'chatHistoryService' defined in file [/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main/ac/su/kdt/prompttest/service/ChatHistoryService.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'ac.su.kdt.prompttest.service.PerplexityService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-05-30T13:26:45.870+09:00  INFO 5564 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:26:45.870+09:00  INFO 5564 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-05-30T13:26:45.876+09:00  INFO 5564 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-05-30T13:26:45.876+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-30T13:26:45.879+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-30T13:26:45.887+09:00 ERROR 5564 --- [prompt-test] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in ac.su.kdt.prompttest.service.ChatHistoryService required a bean of type 'ac.su.kdt.prompttest.service.PerplexityService' that could not be found.


Action:

Consider defining a bean of type 'ac.su.kdt.prompttest.service.PerplexityService' in your configuration.

2025-05-30T13:26:45.901+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:26:45.901+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T13:26:45.902+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:45.903+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:45.903+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:45.903+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:45.903+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:45.904+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:45.904+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:45.904+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 JDBC repository interfaces.
2025-05-30T13:26:45.904+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:26:45.904+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T13:26:45.907+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 7 JPA repository interfaces.
2025-05-30T13:26:45.908+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:26:45.908+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T13:26:45.909+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:45.909+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:45.909+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:45.909+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:45.909+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:45.909+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:45.909+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:45.909+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-05-30T13:26:45.946+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T13:26:45.946+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T13:26:45.946+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T13:26:45.950+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat-7].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-05-30T13:26:45.950+09:00  INFO 90655 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 102 ms
2025-05-30T13:26:45.954+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Starting...
2025-05-30T13:26:45.958+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-12 - Added connection com.mysql.cj.jdbc.ConnectionImpl@d3c1fcb
2025-05-30T13:26:45.958+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Start completed.
2025-05-30T13:26:45.958+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T13:26:45.968+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T13:26:45.969+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T13:26:45.971+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T13:26:45.971+09:00  WARN 90655 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T13:26:45.971+09:00  WARN 90655 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T13:26:46.004+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T13:26:46.036+09:00  INFO 90655 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:26:46.103+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-30T13:26:46.103+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 53
2025-05-30T13:26:46.132+09:00  WARN 90655 --- [prompt-test] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T13:26:46.135+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-30T13:26:46.158+09:00  WARN 90655 --- [prompt-test] [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-30T13:26:46.180+09:00  WARN 90655 --- [prompt-test] [restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 870b3efb-5762-4163-bec5-c1a84d7b498f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-05-30T13:26:46.187+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fceffa3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e6628a8, org.springframework.security.web.context.SecurityContextHolderFilter@5e6ebc75, org.springframework.security.web.header.HeaderWriterFilter@333c1a63, org.springframework.web.filter.CorsFilter@34af6f94, org.springframework.security.web.csrf.CsrfFilter@87a1866, org.springframework.security.web.authentication.logout.LogoutFilter@2a3f94ab, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@e1a9129, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7ede26de, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5aa33532, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5856d68d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60f36f6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2de2ce03, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5218fa22, org.springframework.security.web.access.ExceptionTranslationFilter@18b66e0a, org.springframework.security.web.access.intercept.AuthorizationFilter@1e71e903]
2025-05-30T13:26:46.193+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-30T13:26:46.197+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-30T13:26:46.199+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Started PromptTestApplication in 0.358 seconds (process running for 7087.512)
2025-05-30T13:26:46.201+09:00  INFO 90655 --- [prompt-test] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   SpringBootWebSecurityConfiguration.SecurityFilterChainConfiguration matched:
      - AllNestedConditions 2 matched 0 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) did not find any beans; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)
      - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) did not find any beans (OnBeanCondition)

   UserDetailsServiceAutoConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.authentication.AuthenticationManager' (OnClassCondition)
      - AnyNestedCondition 1 matched 2 did not; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.PasswordConfigured @ConditionalOnProperty (spring.security.user.password) did not find property 'password'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.NameConfigured @ConditionalOnProperty (spring.security.user.name) did not find property 'name'; NestedCondition on UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured.MissingAlternative @ConditionalOnMissingClass did not find unwanted classes 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository', 'org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector', 'org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository' (UserDetailsServiceAutoConfiguration.MissingAlternativeOrUserPropertiesConfigured)
      - @ConditionalOnBean (types: org.springframework.security.config.annotation.ObjectPostProcessor; SearchStrategy: all) found bean 'objectPostProcessor'; @ConditionalOnMissingBean (types: org.springframework.security.authentication.AuthenticationManager,org.springframework.security.authentication.AuthenticationProvider,org.springframework.security.core.userdetails.UserDetailsService,org.springframework.security.authentication.AuthenticationManagerResolver,org.springframework.security.oauth2.jwt.JwtDecoder; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-05-30T13:26:47.319+09:00  INFO 5564 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 5564 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T13:26:47.319+09:00 DEBUG 5564 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T13:26:47.319+09:00  INFO 5564 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T13:26:47.384+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:26:47.384+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T13:26:47.386+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:47.386+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:47.387+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:47.387+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:47.387+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:47.388+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:47.388+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:47.388+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 JDBC repository interfaces.
2025-05-30T13:26:47.389+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:26:47.389+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T13:26:47.393+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 7 JPA repository interfaces.
2025-05-30T13:26:47.395+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:26:47.395+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T13:26:47.396+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:47.396+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:47.396+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:47.396+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:47.396+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:47.396+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:47.396+09:00  INFO 5564 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:47.396+09:00  INFO 5564 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-05-30T13:26:47.432+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T13:26:47.433+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T13:26:47.433+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T13:26:47.437+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-05-30T13:26:47.437+09:00  INFO 5564 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 116 ms
2025-05-30T13:26:47.441+09:00  INFO 5564 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-05-30T13:26:47.443+09:00  INFO 5564 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2f05d2cb
2025-05-30T13:26:47.443+09:00  INFO 5564 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-05-30T13:26:47.443+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T13:26:47.452+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T13:26:47.453+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T13:26:47.455+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T13:26:47.455+09:00  WARN 5564 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T13:26:47.455+09:00  WARN 5564 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T13:26:47.495+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T13:26:47.526+09:00  INFO 5564 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:26:47.596+09:00  INFO 5564 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-30T13:26:47.597+09:00  INFO 5564 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 53
2025-05-30T13:26:47.608+09:00  INFO 90655 --- [prompt-test] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 8 class path changes (8 additions, 0 deletions, 0 modifications)
2025-05-30T13:26:47.611+09:00  INFO 90655 --- [prompt-test] [Thread-20] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:26:47.611+09:00  INFO 90655 --- [prompt-test] [Thread-20] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Shutdown initiated...
2025-05-30T13:26:47.611+09:00  INFO 90655 --- [prompt-test] [Thread-20] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Shutdown completed.
2025-05-30T13:26:47.632+09:00  WARN 5564 --- [prompt-test] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T13:26:47.635+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-30T13:26:47.644+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 90655 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T13:26:47.645+09:00 DEBUG 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T13:26:47.645+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T13:26:47.660+09:00  WARN 5564 --- [prompt-test] [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-30T13:26:47.685+09:00  WARN 5564 --- [prompt-test] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2025-05-30T13:26:47.690+09:00  INFO 5564 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-30T13:26:47.692+09:00  INFO 5564 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Started PromptTestApplication in 0.39 seconds (process running for 448.465)
2025-05-30T13:26:47.693+09:00  INFO 5564 --- [prompt-test] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-05-30T13:26:47.696+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:26:47.696+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T13:26:47.697+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:47.697+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:47.697+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:47.698+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:47.698+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:47.698+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:47.698+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T13:26:47.698+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 JDBC repository interfaces.
2025-05-30T13:26:47.699+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:26:47.699+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T13:26:47.702+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 7 JPA repository interfaces.
2025-05-30T13:26:47.703+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T13:26:47.703+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T13:26:47.703+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:47.703+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:47.703+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:47.703+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:47.703+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:47.704+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:47.704+09:00  INFO 90655 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T13:26:47.704+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-05-30T13:26:47.740+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T13:26:47.740+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T13:26:47.740+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T13:26:47.744+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat-7].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-05-30T13:26:47.744+09:00  INFO 90655 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 98 ms
2025-05-30T13:26:47.749+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Starting...
2025-05-30T13:26:47.751+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-13 - Added connection com.mysql.cj.jdbc.ConnectionImpl@24f6d7fe
2025-05-30T13:26:47.751+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Start completed.
2025-05-30T13:26:47.751+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T13:26:47.761+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T13:26:47.762+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T13:26:47.763+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T13:26:47.763+09:00  WARN 90655 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T13:26:47.763+09:00  WARN 90655 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T13:26:47.796+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T13:26:47.826+09:00  INFO 90655 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:26:47.893+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-30T13:26:47.893+09:00  INFO 90655 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 53
2025-05-30T13:26:47.922+09:00  WARN 90655 --- [prompt-test] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T13:26:47.925+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-30T13:26:47.943+09:00  WARN 90655 --- [prompt-test] [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-30T13:26:47.964+09:00  WARN 90655 --- [prompt-test] [restartedMain] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 5996c75a-4487-433e-8c08-ea4d2c1d7255

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-05-30T13:26:47.970+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@49b7fe64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7a6d195e, org.springframework.security.web.context.SecurityContextHolderFilter@7edb2466, org.springframework.security.web.header.HeaderWriterFilter@4380ceec, org.springframework.web.filter.CorsFilter@5d260b68, org.springframework.security.web.csrf.CsrfFilter@6de3b633, org.springframework.security.web.authentication.logout.LogoutFilter@4ad6212d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2660319a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@29894a43, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2583fedd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5d44b332, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ef947a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cbb0e96, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@533160d7, org.springframework.security.web.access.ExceptionTranslationFilter@45a4f091, org.springframework.security.web.access.intercept.AuthorizationFilter@1d95df8b]
2025-05-30T13:26:47.975+09:00  INFO 90655 --- [prompt-test] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-30T13:26:47.979+09:00  WARN 90655 --- [prompt-test] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-05-30T13:26:47.980+09:00  INFO 90655 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T13:26:47.980+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Shutdown initiated...
2025-05-30T13:26:47.980+09:00  INFO 90655 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Shutdown completed.
2025-05-30T13:26:47.982+09:00  INFO 90655 --- [prompt-test] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-30T13:26:47.983+09:00 ERROR 90655 --- [prompt-test] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-05-30T14:03:23.793+09:00  INFO 5564 --- [prompt-test] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T14:03:23.794+09:00  INFO 5564 --- [prompt-test] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-05-30T14:03:23.795+09:00  INFO 5564 --- [prompt-test] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-05-30T14:20:47.294+09:00  INFO 14143 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 14143 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T14:20:47.295+09:00 DEBUG 14143 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T14:20:47.295+09:00  INFO 14143 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T14:20:47.309+09:00  INFO 14143 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T14:20:47.310+09:00  INFO 14143 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T14:20:47.531+09:00  INFO 14143 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T14:20:47.531+09:00  INFO 14143 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T14:20:47.541+09:00  INFO 14143 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:20:47.542+09:00  INFO 14143 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:20:47.542+09:00  INFO 14143 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:20:47.543+09:00  INFO 14143 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:20:47.543+09:00  INFO 14143 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:20:47.543+09:00  INFO 14143 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:20:47.543+09:00  INFO 14143 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:20:47.544+09:00  INFO 14143 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 JDBC repository interfaces.
2025-05-30T14:20:47.547+09:00  INFO 14143 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T14:20:47.547+09:00  INFO 14143 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T14:20:47.585+09:00  INFO 14143 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 7 JPA repository interfaces.
2025-05-30T14:20:47.590+09:00  INFO 14143 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T14:20:47.590+09:00  INFO 14143 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T14:20:47.594+09:00  INFO 14143 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:20:47.594+09:00  INFO 14143 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:20:47.594+09:00  INFO 14143 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:20:47.594+09:00  INFO 14143 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:20:47.594+09:00  INFO 14143 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:20:47.594+09:00  INFO 14143 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:20:47.594+09:00  INFO 14143 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:20:47.594+09:00  INFO 14143 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-30T14:20:47.792+09:00  INFO 14143 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T14:20:47.796+09:00  INFO 14143 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T14:20:47.797+09:00  INFO 14143 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T14:20:47.812+09:00  INFO 14143 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T14:20:47.812+09:00  INFO 14143 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 502 ms
2025-05-30T14:20:47.823+09:00  INFO 14143 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T14:20:47.877+09:00  INFO 14143 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@436b1fe1
2025-05-30T14:20:47.877+09:00  INFO 14143 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T14:20:47.881+09:00  INFO 14143 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T14:20:47.923+09:00  INFO 14143 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T14:20:47.941+09:00  INFO 14143 --- [prompt-test] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-30T14:20:47.951+09:00  INFO 14143 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T14:20:48.012+09:00  INFO 14143 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T14:20:48.031+09:00  WARN 14143 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T14:20:48.032+09:00  WARN 14143 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T14:20:48.423+09:00  INFO 14143 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T14:20:48.477+09:00  INFO 14143 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T14:20:48.643+09:00  INFO 14143 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-30T14:20:48.643+09:00  INFO 14143 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 54
2025-05-30T14:20:48.694+09:00 ERROR 14143 --- [prompt-test] [restartedMain] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-05-30T14:20:48.802+09:00  WARN 14143 --- [prompt-test] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T14:20:48.809+09:00  INFO 14143 --- [prompt-test] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-30T14:20:48.875+09:00  WARN 14143 --- [prompt-test] [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-30T14:20:48.948+09:00  INFO 14143 --- [prompt-test] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-30T14:20:48.958+09:00  INFO 14143 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-30T14:20:48.962+09:00  INFO 14143 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Started PromptTestApplication in 1.803 seconds (process running for 1.944)
2025-05-30T14:21:36.005+09:00  INFO 14143 --- [prompt-test] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T14:21:36.021+09:00  INFO 14143 --- [prompt-test] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-30T14:21:36.031+09:00  INFO 14143 --- [prompt-test] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T14:37:52.606+09:00  INFO 16018 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 16018 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T14:37:52.606+09:00 DEBUG 16018 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T14:37:52.607+09:00  INFO 16018 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T14:37:52.620+09:00  INFO 16018 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T14:37:52.620+09:00  INFO 16018 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T14:37:52.843+09:00  INFO 16018 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T14:37:52.844+09:00  INFO 16018 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T14:37:52.854+09:00  INFO 16018 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:37:52.854+09:00  INFO 16018 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:37:52.854+09:00  INFO 16018 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:37:52.855+09:00  INFO 16018 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:37:52.855+09:00  INFO 16018 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:37:52.855+09:00  INFO 16018 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:37:52.856+09:00  INFO 16018 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:37:52.856+09:00  INFO 16018 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 JDBC repository interfaces.
2025-05-30T14:37:52.859+09:00  INFO 16018 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T14:37:52.859+09:00  INFO 16018 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T14:37:52.897+09:00  INFO 16018 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 7 JPA repository interfaces.
2025-05-30T14:37:52.902+09:00  INFO 16018 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T14:37:52.902+09:00  INFO 16018 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T14:37:52.906+09:00  INFO 16018 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:37:52.906+09:00  INFO 16018 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:37:52.906+09:00  INFO 16018 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:37:52.906+09:00  INFO 16018 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:37:52.906+09:00  INFO 16018 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:37:52.906+09:00  INFO 16018 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:37:52.906+09:00  INFO 16018 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:37:52.906+09:00  INFO 16018 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-30T14:37:53.081+09:00  INFO 16018 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T14:37:53.085+09:00  INFO 16018 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T14:37:53.086+09:00  INFO 16018 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T14:37:53.100+09:00  INFO 16018 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T14:37:53.100+09:00  INFO 16018 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 479 ms
2025-05-30T14:37:53.109+09:00  INFO 16018 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T14:37:53.156+09:00  INFO 16018 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@25a9be0
2025-05-30T14:37:53.157+09:00  INFO 16018 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T14:37:53.160+09:00  INFO 16018 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T14:37:53.195+09:00  INFO 16018 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T14:37:53.211+09:00  INFO 16018 --- [prompt-test] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-30T14:37:53.220+09:00  INFO 16018 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T14:37:53.288+09:00  INFO 16018 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T14:37:53.309+09:00  WARN 16018 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T14:37:53.309+09:00  WARN 16018 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T14:37:53.687+09:00  INFO 16018 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T14:37:53.737+09:00  INFO 16018 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T14:37:53.889+09:00  INFO 16018 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-30T14:37:53.889+09:00  INFO 16018 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 54
2025-05-30T14:37:53.936+09:00 ERROR 16018 --- [prompt-test] [restartedMain] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-05-30T14:37:54.025+09:00  WARN 16018 --- [prompt-test] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T14:37:54.035+09:00  INFO 16018 --- [prompt-test] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-30T14:37:54.094+09:00  WARN 16018 --- [prompt-test] [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-30T14:37:54.156+09:00  INFO 16018 --- [prompt-test] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-30T14:37:54.164+09:00  INFO 16018 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-30T14:37:54.168+09:00  INFO 16018 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Started PromptTestApplication in 1.675 seconds (process running for 1.8)
2025-05-30T14:38:44.790+09:00  INFO 16018 --- [prompt-test] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T14:38:44.793+09:00  INFO 16018 --- [prompt-test] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-30T14:38:44.796+09:00  INFO 16018 --- [prompt-test] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T14:38:53.452+09:00  INFO 16325 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 16325 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T14:38:53.453+09:00 DEBUG 16325 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T14:38:53.453+09:00  INFO 16325 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T14:38:53.467+09:00  INFO 16325 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T14:38:53.467+09:00  INFO 16325 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T14:38:53.687+09:00  INFO 16325 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T14:38:53.687+09:00  INFO 16325 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T14:38:53.697+09:00  INFO 16325 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:38:53.698+09:00  INFO 16325 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:38:53.698+09:00  INFO 16325 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:38:53.698+09:00  INFO 16325 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:38:53.699+09:00  INFO 16325 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:38:53.699+09:00  INFO 16325 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:38:53.699+09:00  INFO 16325 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:38:53.700+09:00  INFO 16325 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 JDBC repository interfaces.
2025-05-30T14:38:53.703+09:00  INFO 16325 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T14:38:53.703+09:00  INFO 16325 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T14:38:53.741+09:00  INFO 16325 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 7 JPA repository interfaces.
2025-05-30T14:38:53.746+09:00  INFO 16325 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T14:38:53.746+09:00  INFO 16325 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T14:38:53.750+09:00  INFO 16325 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:38:53.751+09:00  INFO 16325 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:38:53.751+09:00  INFO 16325 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:38:53.751+09:00  INFO 16325 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:38:53.751+09:00  INFO 16325 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:38:53.751+09:00  INFO 16325 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:38:53.751+09:00  INFO 16325 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:38:53.751+09:00  INFO 16325 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-30T14:38:53.944+09:00  INFO 16325 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T14:38:53.949+09:00  INFO 16325 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T14:38:53.949+09:00  INFO 16325 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T14:38:53.965+09:00  INFO 16325 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T14:38:53.965+09:00  INFO 16325 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 498 ms
2025-05-30T14:38:53.975+09:00  INFO 16325 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T14:38:54.024+09:00  INFO 16325 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@559e434
2025-05-30T14:38:54.025+09:00  INFO 16325 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T14:38:54.028+09:00  INFO 16325 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T14:38:54.067+09:00  INFO 16325 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T14:38:54.083+09:00  INFO 16325 --- [prompt-test] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-30T14:38:54.092+09:00  INFO 16325 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T14:38:54.159+09:00  INFO 16325 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T14:38:54.181+09:00  WARN 16325 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T14:38:54.182+09:00  WARN 16325 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T14:38:54.518+09:00  INFO 16325 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T14:38:54.563+09:00  INFO 16325 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T14:38:54.716+09:00  INFO 16325 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-30T14:38:54.716+09:00  INFO 16325 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 54
2025-05-30T14:38:54.760+09:00 ERROR 16325 --- [prompt-test] [restartedMain] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-05-30T14:38:54.850+09:00  WARN 16325 --- [prompt-test] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T14:38:54.859+09:00  INFO 16325 --- [prompt-test] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-30T14:38:54.915+09:00  WARN 16325 --- [prompt-test] [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-30T14:38:54.980+09:00  INFO 16325 --- [prompt-test] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-30T14:38:54.988+09:00  INFO 16325 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-30T14:38:54.992+09:00  INFO 16325 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Started PromptTestApplication in 1.655 seconds (process running for 1.786)
2025-05-30T14:39:29.293+09:00  INFO 16405 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 16405 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T14:39:29.295+09:00 DEBUG 16405 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T14:39:29.295+09:00  INFO 16405 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T14:39:29.310+09:00  INFO 16405 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T14:39:29.310+09:00  INFO 16405 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T14:39:29.539+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T14:39:29.540+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T14:39:29.551+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:39:29.551+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:39:29.551+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:39:29.552+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:39:29.552+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:39:29.552+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:39:29.553+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T14:39:29.553+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 JDBC repository interfaces.
2025-05-30T14:39:29.556+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T14:39:29.556+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T14:39:29.596+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 7 JPA repository interfaces.
2025-05-30T14:39:29.601+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T14:39:29.602+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T14:39:29.605+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:39:29.606+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:39:29.606+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:39:29.606+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:39:29.606+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:39:29.606+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:39:29.606+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T14:39:29.606+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-05-30T14:39:29.800+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T14:39:29.805+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T14:39:29.805+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T14:39:29.821+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T14:39:29.821+09:00  INFO 16405 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 511 ms
2025-05-30T14:39:29.831+09:00  INFO 16405 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T14:39:29.866+09:00  INFO 16325 --- [prompt-test] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T14:39:29.868+09:00  INFO 16325 --- [prompt-test] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-30T14:39:29.870+09:00  INFO 16325 --- [prompt-test] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T14:39:29.888+09:00  INFO 16405 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7962d14
2025-05-30T14:39:29.889+09:00  INFO 16405 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T14:39:29.893+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T14:39:29.937+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T14:39:29.955+09:00  INFO 16405 --- [prompt-test] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-30T14:39:29.968+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T14:39:30.048+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T14:39:30.073+09:00  WARN 16405 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T14:39:30.073+09:00  WARN 16405 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T14:39:30.431+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T14:39:30.477+09:00  INFO 16405 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T14:39:30.637+09:00  INFO 16405 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-30T14:39:30.637+09:00  INFO 16405 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 17
2025-05-30T14:39:30.686+09:00 ERROR 16405 --- [prompt-test] [restartedMain] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-05-30T14:39:30.785+09:00  WARN 16405 --- [prompt-test] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T14:39:30.795+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-30T14:39:30.860+09:00  WARN 16405 --- [prompt-test] [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-30T14:39:30.928+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-30T14:39:30.938+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-30T14:39:30.942+09:00  INFO 16405 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Started PromptTestApplication in 1.776 seconds (process running for 1.908)
2025-05-30T14:39:33.579+09:00  INFO 16405 --- [prompt-test] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-30T14:39:33.579+09:00  INFO 16405 --- [prompt-test] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-30T14:39:33.580+09:00  INFO 16405 --- [prompt-test] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-30T14:39:33.637+09:00 DEBUG 16405 --- [prompt-test] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.age,
        u1_0.allergies,
        u1_0.created_at,
        u1_0.email,
        u1_0.gender,
        u1_0.health_conditions,
        u1_0.name,
        u1_0.password,
        u1_0.preferences,
        u1_0.profile_image,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-05-30T14:39:33.639+09:00 ERROR 16405 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.controller.UserPromptController  : Error creating user prompt: User not found with id: 1
2025-05-30T14:44:28.342+09:00 DEBUG 16405 --- [prompt-test] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.age,
        u1_0.allergies,
        u1_0.created_at,
        u1_0.email,
        u1_0.gender,
        u1_0.health_conditions,
        u1_0.name,
        u1_0.password,
        u1_0.preferences,
        u1_0.profile_image,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-05-30T14:44:28.343+09:00 ERROR 16405 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.controller.UserPromptController  : Error creating user prompt: User not found with id: 1
2025-05-30T14:48:21.237+09:00 DEBUG 16405 --- [prompt-test] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.age,
        u1_0.allergies,
        u1_0.created_at,
        u1_0.email,
        u1_0.gender,
        u1_0.health_conditions,
        u1_0.name,
        u1_0.password,
        u1_0.preferences,
        u1_0.profile_image,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-05-30T14:48:21.280+09:00 ERROR 16405 --- [prompt-test] [http-nio-8080-exec-5] a.s.k.p.controller.UserPromptController  : Error getting user prompt: User not found with id: 1
2025-05-30T14:48:28.565+09:00 DEBUG 16405 --- [prompt-test] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.age,
        u1_0.allergies,
        u1_0.created_at,
        u1_0.email,
        u1_0.gender,
        u1_0.health_conditions,
        u1_0.name,
        u1_0.password,
        u1_0.preferences,
        u1_0.profile_image,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-05-30T14:48:28.566+09:00 ERROR 16405 --- [prompt-test] [http-nio-8080-exec-6] a.s.k.p.controller.UserPromptController  : Error creating user prompt: User not found with id: 1
2025-05-30T14:51:29.107+09:00  WARN 16405 --- [prompt-test] [http-nio-8080-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]
2025-05-30T15:00:25.978+09:00 DEBUG 16405 --- [prompt-test] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.age,
        u1_0.allergies,
        u1_0.created_at,
        u1_0.email,
        u1_0.gender,
        u1_0.health_conditions,
        u1_0.name,
        u1_0.password,
        u1_0.preferences,
        u1_0.profile_image,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-05-30T15:00:25.979+09:00 ERROR 16405 --- [prompt-test] [http-nio-8080-exec-9] a.s.k.p.controller.UserPromptController  : Error creating user prompt: User not found with id: 1
2025-05-30T15:00:53.571+09:00  WARN 16405 --- [prompt-test] [http-nio-8080-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]
2025-05-30T15:00:59.490+09:00  INFO 16405 --- [prompt-test] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-05-30T15:00:59.505+09:00  INFO 16405 --- [prompt-test] [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T15:00:59.506+09:00  INFO 16405 --- [prompt-test] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-30T15:00:59.510+09:00  INFO 16405 --- [prompt-test] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T15:00:59.549+09:00  INFO 16405 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 16405 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T15:00:59.549+09:00 DEBUG 16405 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T15:00:59.549+09:00  INFO 16405 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T15:00:59.611+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T15:00:59.611+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T15:00:59.613+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:00:59.613+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:00:59.613+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:00:59.613+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:00:59.614+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:00:59.614+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:00:59.614+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:00:59.614+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 JDBC repository interfaces.
2025-05-30T15:00:59.615+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T15:00:59.615+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T15:00:59.619+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 7 JPA repository interfaces.
2025-05-30T15:00:59.620+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T15:00:59.620+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T15:00:59.621+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:00:59.621+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:00:59.621+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:00:59.621+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:00:59.621+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:00:59.621+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:00:59.621+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:00:59.621+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-30T15:00:59.665+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T15:00:59.666+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T15:00:59.666+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T15:00:59.670+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T15:00:59.670+09:00  INFO 16405 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 120 ms
2025-05-30T15:00:59.675+09:00  INFO 16405 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-05-30T15:00:59.680+09:00  INFO 16405 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@b49c507
2025-05-30T15:00:59.680+09:00  INFO 16405 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-05-30T15:00:59.680+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T15:00:59.691+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T15:00:59.696+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T15:00:59.697+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T15:00:59.698+09:00  WARN 16405 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T15:00:59.698+09:00  WARN 16405 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T15:00:59.750+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T15:00:59.777+09:00  INFO 19569 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 19569 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T15:00:59.777+09:00 DEBUG 19569 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T15:00:59.777+09:00  INFO 19569 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T15:00:59.781+09:00  INFO 16405 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T15:00:59.793+09:00  INFO 19569 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T15:00:59.793+09:00  INFO 19569 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T15:00:59.864+09:00  INFO 16405 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-30T15:00:59.865+09:00  INFO 16405 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 17
2025-05-30T15:00:59.902+09:00  WARN 16405 --- [prompt-test] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T15:00:59.905+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-30T15:00:59.930+09:00  WARN 16405 --- [prompt-test] [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-30T15:00:59.958+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-30T15:00:59.963+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-30T15:00:59.965+09:00  INFO 16405 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Started PromptTestApplication in 0.426 seconds (process running for 1290.926)
2025-05-30T15:00:59.966+09:00  INFO 16405 --- [prompt-test] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-05-30T15:01:00.020+09:00  INFO 19569 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T15:01:00.021+09:00  INFO 19569 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T15:01:00.031+09:00  INFO 19569 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:01:00.031+09:00  INFO 19569 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:01:00.032+09:00  INFO 19569 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:01:00.032+09:00  INFO 19569 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:01:00.032+09:00  INFO 19569 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:01:00.033+09:00  INFO 19569 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:01:00.033+09:00  INFO 19569 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:01:00.033+09:00  INFO 19569 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 JDBC repository interfaces.
2025-05-30T15:01:00.036+09:00  INFO 19569 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T15:01:00.036+09:00  INFO 19569 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T15:01:00.075+09:00  INFO 19569 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 7 JPA repository interfaces.
2025-05-30T15:01:00.081+09:00  INFO 19569 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T15:01:00.081+09:00  INFO 19569 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T15:01:00.085+09:00  INFO 19569 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:01:00.085+09:00  INFO 19569 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:01:00.085+09:00  INFO 19569 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:01:00.086+09:00  INFO 19569 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:01:00.086+09:00  INFO 19569 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:01:00.086+09:00  INFO 19569 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:01:00.086+09:00  INFO 19569 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:01:00.086+09:00  INFO 19569 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-05-30T15:01:00.265+09:00  INFO 19569 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T15:01:00.269+09:00  INFO 19569 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T15:01:00.269+09:00  INFO 19569 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T15:01:00.284+09:00  INFO 19569 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T15:01:00.284+09:00  INFO 19569 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 491 ms
2025-05-30T15:01:00.294+09:00  INFO 19569 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T15:01:00.343+09:00  INFO 19569 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1f1290ec
2025-05-30T15:01:00.344+09:00  INFO 19569 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T15:01:00.347+09:00  INFO 19569 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T15:01:00.383+09:00  INFO 19569 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T15:01:00.398+09:00  INFO 19569 --- [prompt-test] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-30T15:01:00.407+09:00  INFO 19569 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T15:01:00.471+09:00  INFO 19569 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T15:01:00.490+09:00  WARN 19569 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T15:01:00.491+09:00  WARN 19569 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T15:01:00.818+09:00  INFO 19569 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T15:01:00.870+09:00  INFO 19569 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T15:01:01.033+09:00  INFO 19569 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-30T15:01:01.034+09:00  INFO 19569 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 54
2025-05-30T15:01:01.080+09:00 ERROR 19569 --- [prompt-test] [restartedMain] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-05-30T15:01:01.169+09:00  WARN 19569 --- [prompt-test] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T15:01:01.175+09:00  INFO 19569 --- [prompt-test] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-30T15:01:01.235+09:00  WARN 19569 --- [prompt-test] [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-30T15:01:01.297+09:00  WARN 19569 --- [prompt-test] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2025-05-30T15:01:01.307+09:00  WARN 19569 --- [prompt-test] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-05-30T15:01:01.310+09:00  INFO 19569 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T15:01:01.311+09:00  INFO 19569 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-30T15:01:01.313+09:00  INFO 19569 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T15:01:01.317+09:00  INFO 19569 --- [prompt-test] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-30T15:01:01.322+09:00 ERROR 19569 --- [prompt-test] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-05-30T15:01:01.374+09:00  INFO 16405 --- [prompt-test] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-05-30T15:01:01.381+09:00  INFO 16405 --- [prompt-test] [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T15:01:01.382+09:00  INFO 16405 --- [prompt-test] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-05-30T15:01:01.383+09:00  INFO 16405 --- [prompt-test] [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-05-30T15:01:01.425+09:00  INFO 16405 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 16405 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T15:01:01.425+09:00 DEBUG 16405 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T15:01:01.425+09:00  INFO 16405 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T15:01:01.476+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T15:01:01.476+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T15:01:01.478+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:01:01.478+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:01:01.478+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:01:01.478+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:01:01.479+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:01:01.479+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:01:01.479+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:01:01.479+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 JDBC repository interfaces.
2025-05-30T15:01:01.480+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T15:01:01.480+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T15:01:01.483+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 7 JPA repository interfaces.
2025-05-30T15:01:01.484+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T15:01:01.484+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T15:01:01.484+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:01:01.484+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:01:01.485+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:01:01.485+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:01:01.485+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:01:01.485+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:01:01.485+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:01:01.485+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-05-30T15:01:01.519+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T15:01:01.519+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T15:01:01.519+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T15:01:01.524+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T15:01:01.524+09:00  INFO 16405 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 98 ms
2025-05-30T15:01:01.529+09:00  INFO 16405 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-05-30T15:01:01.531+09:00  INFO 16405 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@482487b7
2025-05-30T15:01:01.531+09:00  INFO 16405 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-05-30T15:01:01.531+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T15:01:01.540+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T15:01:01.541+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T15:01:01.542+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T15:01:01.543+09:00  WARN 16405 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T15:01:01.543+09:00  WARN 16405 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T15:01:01.612+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T15:01:01.646+09:00  INFO 16405 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T15:01:01.715+09:00  INFO 16405 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-30T15:01:01.715+09:00  INFO 16405 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 17
2025-05-30T15:01:01.742+09:00  WARN 16405 --- [prompt-test] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T15:01:01.745+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-30T15:01:01.763+09:00  WARN 16405 --- [prompt-test] [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-30T15:01:01.783+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-30T15:01:01.788+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-30T15:01:01.790+09:00  INFO 16405 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Started PromptTestApplication in 0.375 seconds (process running for 1292.751)
2025-05-30T15:01:01.791+09:00  INFO 16405 --- [prompt-test] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-05-30T15:03:46.515+09:00  INFO 16405 --- [prompt-test] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-30T15:03:46.515+09:00  INFO 16405 --- [prompt-test] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-30T15:03:46.516+09:00  INFO 16405 --- [prompt-test] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-30T15:03:46.528+09:00 DEBUG 16405 --- [prompt-test] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    /* insert for
        ac.su.kdt.prompttest.entity.User */insert 
    into
        users (age, allergies, created_at, email, gender, health_conditions, name, password, preferences, profile_image, provider, provider_id, updated_at, username) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-30T15:04:03.292+09:00 DEBUG 16405 --- [prompt-test] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.age,
        u1_0.allergies,
        u1_0.created_at,
        u1_0.email,
        u1_0.gender,
        u1_0.health_conditions,
        u1_0.name,
        u1_0.password,
        u1_0.preferences,
        u1_0.profile_image,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-05-30T15:04:03.329+09:00 DEBUG 16405 --- [prompt-test] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    /* <criteria> */ select
        up1_0.id,
        up1_0.age,
        up1_0.allergy,
        up1_0.created_at,
        up1_0.gender,
        up1_0.health_status,
        up1_0.is_pregnant,
        up1_0.name,
        up1_0.nickname,
        up1_0.preference,
        up1_0.updated_at,
        up1_0.user_id 
    from
        user_prompt up1_0 
    where
        up1_0.user_id=?
2025-05-30T15:04:03.334+09:00 DEBUG 16405 --- [prompt-test] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    /* insert for
        ac.su.kdt.prompttest.entity.UserPrompt */insert 
    into
        user_prompt (age, allergy, created_at, gender, health_status, is_pregnant, name, nickname, preference, updated_at, user_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-30T15:04:03.341+09:00 DEBUG 16405 --- [prompt-test] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        ui1_0.user_id,
        ui1_0.id,
        ui1_0.ingredient_id,
        ui1_0.weight_in_grams 
    from
        user_ingredient ui1_0 
    where
        ui1_0.user_id=?
2025-05-30T15:04:48.100+09:00 DEBUG 16405 --- [prompt-test] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.age,
        u1_0.allergies,
        u1_0.created_at,
        u1_0.email,
        u1_0.gender,
        u1_0.health_conditions,
        u1_0.name,
        u1_0.password,
        u1_0.preferences,
        u1_0.profile_image,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-05-30T15:04:48.102+09:00 DEBUG 16405 --- [prompt-test] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    /* <criteria> */ select
        up1_0.id,
        up1_0.age,
        up1_0.allergy,
        up1_0.created_at,
        up1_0.gender,
        up1_0.health_status,
        up1_0.is_pregnant,
        up1_0.name,
        up1_0.nickname,
        up1_0.preference,
        up1_0.updated_at,
        up1_0.user_id 
    from
        user_prompt up1_0 
    where
        up1_0.user_id=?
2025-05-30T15:04:48.103+09:00  INFO 16405 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : Starting getResponse for userId: 1, prompt: 당신은 레시피 추천 전문가입니다. 다음 사용자의 특성을 고려하여 레시피를 추천해주세요:

- 이름: 홍길동
- 나이: 30세
- 성별: 남성
- 닉네임: 홍홍
- 건강 상태: 건강
- 알레르기: 육류
- 선호하는 음식: 한식


건강 상태에 따른 특별 지시사항:
현재 사용자는 건강 상태입니다. 해당 건강 상태에 맞는 적절한 식단을 추천해주세요.

다음 사항을 고려하여 레시피를 추천해주세요:
1. 해당 건강 상태에 맞는 영양소를 포함한 재료를 선택해주세요.
2. 해당 건강 상태에 해로운 성분이 포함된 재료는 피해주세요.
3. 건강 상태 개선에 도움이 되는 조리 방법을 선택해주세요.
4. 필요한 경우, 특정 재료의 대체재를 제안해주세요.

알레르기 주의사항:
- 육류 알레르기가 있으므로 해당 재료를 제외한 레시피를 추천해주세요.

## 사용자 요청
오늘 저녁에 먹을 건강한 한식 추천해줘

레시피는 다음 형식으로 제공해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.

2025-05-30T15:04:48.104+09:00 DEBUG 16405 --- [prompt-test] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    /* <criteria> */ select
        up1_0.id,
        up1_0.age,
        up1_0.allergy,
        up1_0.created_at,
        up1_0.gender,
        up1_0.health_status,
        up1_0.is_pregnant,
        up1_0.name,
        up1_0.nickname,
        up1_0.preference,
        up1_0.updated_at,
        up1_0.user_id 
    from
        user_prompt up1_0 
    where
        up1_0.user_id=?
2025-05-30T15:04:48.105+09:00 DEBUG 16405 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : System prompt: 당신은 레시피 추천 전문가입니다. 다음 사용자의 특성을 고려하여 레시피를 추천해주세요:

- 이름: 홍길동
- 나이: 30세
- 성별: 남성
- 닉네임: 홍홍
- 건강 상태: 건강
- 알레르기: 육류
- 선호하는 음식: 한식


건강 상태에 따른 특별 지시사항:
현재 사용자는 건강 상태입니다. 해당 건강 상태에 맞는 적절한 식단을 추천해주세요.

다음 사항을 고려하여 레시피를 추천해주세요:
1. 해당 건강 상태에 맞는 영양소를 포함한 재료를 선택해주세요.
2. 해당 건강 상태에 해로운 성분이 포함된 재료는 피해주세요.
3. 건강 상태 개선에 도움이 되는 조리 방법을 선택해주세요.
4. 필요한 경우, 특정 재료의 대체재를 제안해주세요.

알레르기 주의사항:
- 육류 알레르기가 있으므로 해당 재료를 제외한 레시피를 추천해주세요.

## 사용자 요청
당신은 레시피 추천 전문가입니다. 다음 사용자의 특성을 고려하여 레시피를 추천해주세요:

- 이름: 홍길동
- 나이: 30세
- 성별: 남성
- 닉네임: 홍홍
- 건강 상태: 건강
- 알레르기: 육류
- 선호하는 음식: 한식


건강 상태에 따른 특별 지시사항:
현재 사용자는 건강 상태입니다. 해당 건강 상태에 맞는 적절한 식단을 추천해주세요.

다음 사항을 고려하여 레시피를 추천해주세요:
1. 해당 건강 상태에 맞는 영양소를 포함한 재료를 선택해주세요.
2. 해당 건강 상태에 해로운 성분이 포함된 재료는 피해주세요.
3. 건강 상태 개선에 도움이 되는 조리 방법을 선택해주세요.
4. 필요한 경우, 특정 재료의 대체재를 제안해주세요.

알레르기 주의사항:
- 육류 알레르기가 있으므로 해당 재료를 제외한 레시피를 추천해주세요.

## 사용자 요청
오늘 저녁에 먹을 건강한 한식 추천해줘

레시피는 다음 형식으로 제공해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.


레시피는 다음 형식으로 제공해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.

2025-05-30T15:04:48.105+09:00  INFO 16405 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : Sending request to Perplexity API
2025-05-30T15:04:48.105+09:00 DEBUG 16405 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : Request headers: [Content-Type:"application/json", Authorization:"Bearer your_api_key_here"]
2025-05-30T15:04:48.107+09:00 DEBUG 16405 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : Request body: {messages=[{role=system, content=당신은 레시피 추천 전문가입니다. 다음 사용자의 특성을 고려하여 레시피를 추천해주세요:

- 이름: 홍길동
- 나이: 30세
- 성별: 남성
- 닉네임: 홍홍
- 건강 상태: 건강
- 알레르기: 육류
- 선호하는 음식: 한식


건강 상태에 따른 특별 지시사항:
현재 사용자는 건강 상태입니다. 해당 건강 상태에 맞는 적절한 식단을 추천해주세요.

다음 사항을 고려하여 레시피를 추천해주세요:
1. 해당 건강 상태에 맞는 영양소를 포함한 재료를 선택해주세요.
2. 해당 건강 상태에 해로운 성분이 포함된 재료는 피해주세요.
3. 건강 상태 개선에 도움이 되는 조리 방법을 선택해주세요.
4. 필요한 경우, 특정 재료의 대체재를 제안해주세요.

알레르기 주의사항:
- 육류 알레르기가 있으므로 해당 재료를 제외한 레시피를 추천해주세요.

## 사용자 요청
당신은 레시피 추천 전문가입니다. 다음 사용자의 특성을 고려하여 레시피를 추천해주세요:

- 이름: 홍길동
- 나이: 30세
- 성별: 남성
- 닉네임: 홍홍
- 건강 상태: 건강
- 알레르기: 육류
- 선호하는 음식: 한식


건강 상태에 따른 특별 지시사항:
현재 사용자는 건강 상태입니다. 해당 건강 상태에 맞는 적절한 식단을 추천해주세요.

다음 사항을 고려하여 레시피를 추천해주세요:
1. 해당 건강 상태에 맞는 영양소를 포함한 재료를 선택해주세요.
2. 해당 건강 상태에 해로운 성분이 포함된 재료는 피해주세요.
3. 건강 상태 개선에 도움이 되는 조리 방법을 선택해주세요.
4. 필요한 경우, 특정 재료의 대체재를 제안해주세요.

알레르기 주의사항:
- 육류 알레르기가 있으므로 해당 재료를 제외한 레시피를 추천해주세요.

## 사용자 요청
오늘 저녁에 먹을 건강한 한식 추천해줘

레시피는 다음 형식으로 제공해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.


레시피는 다음 형식으로 제공해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.
}, {role=user, content=당신은 레시피 추천 전문가입니다. 다음 사용자의 특성을 고려하여 레시피를 추천해주세요:

- 이름: 홍길동
- 나이: 30세
- 성별: 남성
- 닉네임: 홍홍
- 건강 상태: 건강
- 알레르기: 육류
- 선호하는 음식: 한식


건강 상태에 따른 특별 지시사항:
현재 사용자는 건강 상태입니다. 해당 건강 상태에 맞는 적절한 식단을 추천해주세요.

다음 사항을 고려하여 레시피를 추천해주세요:
1. 해당 건강 상태에 맞는 영양소를 포함한 재료를 선택해주세요.
2. 해당 건강 상태에 해로운 성분이 포함된 재료는 피해주세요.
3. 건강 상태 개선에 도움이 되는 조리 방법을 선택해주세요.
4. 필요한 경우, 특정 재료의 대체재를 제안해주세요.

알레르기 주의사항:
- 육류 알레르기가 있으므로 해당 재료를 제외한 레시피를 추천해주세요.

## 사용자 요청
오늘 저녁에 먹을 건강한 한식 추천해줘

레시피는 다음 형식으로 제공해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.
}], model=sonar-pro}
2025-05-30T15:04:48.472+09:00 ERROR 16405 --- [prompt-test] [http-nio-8080-exec-4] a.s.k.p.service.PerplexityService        : Error calling Perplexity API

org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized: [no body]
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:106) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:942) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:891) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:507) ~[spring-web-6.1.4.jar:6.1.4]
	at ac.su.kdt.prompttest.service.PerplexityService.getResponse(PerplexityService.java:79) ~[main/:na]
	at ac.su.kdt.prompttest.service.PerplexityService.getResponseAsString(PerplexityService.java:106) ~[main/:na]
	at ac.su.kdt.prompttest.service.RecipeService.requestRecipe(RecipeService.java:31) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717) ~[spring-aop-6.1.4.jar:6.1.4]
	at ac.su.kdt.prompttest.service.RecipeService$$SpringCGLIB$$0.requestRecipe(<generated>) ~[main/:na]
	at ac.su.kdt.prompttest.controller.RecipeController.requestRecipe(RecipeController.java:22) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.19.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.19.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.4.jar:6.1.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.4.jar:6.1.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.4.jar:6.1.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-05-30T15:04:48.477+09:00 ERROR 16405 --- [prompt-test] [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: Error calling Perplexity API: 401 Unauthorized: [no body]] with root cause

java.lang.RuntimeException: Error calling Perplexity API: 401 Unauthorized: [no body]
	at ac.su.kdt.prompttest.service.PerplexityService.getResponse(PerplexityService.java:101) ~[main/:na]
	at ac.su.kdt.prompttest.service.PerplexityService.getResponseAsString(PerplexityService.java:106) ~[main/:na]
	at ac.su.kdt.prompttest.service.RecipeService.requestRecipe(RecipeService.java:31) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:385) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:765) ~[spring-aop-6.1.4.jar:6.1.4]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:717) ~[spring-aop-6.1.4.jar:6.1.4]
	at ac.su.kdt.prompttest.service.RecipeService$$SpringCGLIB$$0.requestRecipe(<generated>) ~[main/:na]
	at ac.su.kdt.prompttest.controller.RecipeController.requestRecipe(RecipeController.java:22) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.19.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.4.jar:6.1.4]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.19.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.4.jar:6.1.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.4.jar:6.1.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.4.jar:6.1.4]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2025-05-30T15:08:03.672+09:00  INFO 20634 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 20634 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T15:08:03.673+09:00 DEBUG 20634 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T15:08:03.673+09:00  INFO 20634 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T15:08:03.687+09:00  INFO 20634 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T15:08:03.687+09:00  INFO 20634 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T15:08:03.898+09:00  INFO 20634 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T15:08:03.898+09:00  INFO 20634 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T15:08:03.908+09:00  INFO 20634 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:08:03.908+09:00  INFO 20634 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:08:03.908+09:00  INFO 20634 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:08:03.909+09:00  INFO 20634 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:08:03.909+09:00  INFO 20634 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:08:03.909+09:00  INFO 20634 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:08:03.910+09:00  INFO 20634 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:08:03.910+09:00  INFO 20634 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 JDBC repository interfaces.
2025-05-30T15:08:03.913+09:00  INFO 20634 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T15:08:03.913+09:00  INFO 20634 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T15:08:03.948+09:00  INFO 20634 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 7 JPA repository interfaces.
2025-05-30T15:08:03.953+09:00  INFO 20634 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T15:08:03.953+09:00  INFO 20634 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T15:08:03.956+09:00  INFO 20634 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:08:03.956+09:00  INFO 20634 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:08:03.956+09:00  INFO 20634 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:08:03.956+09:00  INFO 20634 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:08:03.957+09:00  INFO 20634 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:08:03.957+09:00  INFO 20634 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:08:03.957+09:00  INFO 20634 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:08:03.957+09:00  INFO 20634 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-30T15:08:04.134+09:00  INFO 20634 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T15:08:04.139+09:00  INFO 20634 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T15:08:04.139+09:00  INFO 20634 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T15:08:04.154+09:00  INFO 20634 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T15:08:04.154+09:00  INFO 20634 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 467 ms
2025-05-30T15:08:04.164+09:00  INFO 20634 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T15:08:04.212+09:00  INFO 20634 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@558543ad
2025-05-30T15:08:04.213+09:00  INFO 20634 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T15:08:04.216+09:00  INFO 20634 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T15:08:04.252+09:00  INFO 20634 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T15:08:04.268+09:00  INFO 20634 --- [prompt-test] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-30T15:08:04.276+09:00  INFO 20634 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T15:08:04.336+09:00  INFO 20634 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T15:08:04.356+09:00  WARN 20634 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T15:08:04.356+09:00  WARN 20634 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T15:08:04.689+09:00  INFO 20634 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T15:08:04.738+09:00  INFO 20634 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T15:08:04.830+09:00  INFO 16405 --- [prompt-test] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 13 class path changes (0 additions, 0 deletions, 13 modifications)
2025-05-30T15:08:04.836+09:00  INFO 16405 --- [prompt-test] [Thread-11] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T15:08:04.837+09:00  INFO 16405 --- [prompt-test] [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-05-30T15:08:04.839+09:00  INFO 16405 --- [prompt-test] [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-05-30T15:08:04.873+09:00  INFO 16405 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 16405 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T15:08:04.873+09:00 DEBUG 16405 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T15:08:04.873+09:00  INFO 16405 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T15:08:04.908+09:00  INFO 20634 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-30T15:08:04.908+09:00  INFO 20634 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 54
2025-05-30T15:08:04.921+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T15:08:04.921+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T15:08:04.923+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:08:04.923+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:08:04.924+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:08:04.924+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:08:04.924+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:08:04.924+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:08:04.925+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:08:04.925+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 JDBC repository interfaces.
2025-05-30T15:08:04.926+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T15:08:04.926+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T15:08:04.929+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 7 JPA repository interfaces.
2025-05-30T15:08:04.930+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T15:08:04.930+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T15:08:04.931+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:08:04.931+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:08:04.931+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:08:04.931+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:08:04.932+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:08:04.932+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:08:04.932+09:00  INFO 16405 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:08:04.932+09:00  INFO 16405 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-30T15:08:04.963+09:00 ERROR 20634 --- [prompt-test] [restartedMain] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-05-30T15:08:04.968+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T15:08:04.969+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T15:08:04.969+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T15:08:04.973+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T15:08:04.973+09:00  INFO 16405 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 99 ms
2025-05-30T15:08:04.978+09:00  INFO 16405 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-05-30T15:08:04.981+09:00  INFO 16405 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2301f007
2025-05-30T15:08:04.981+09:00  INFO 16405 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-05-30T15:08:04.981+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T15:08:04.991+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T15:08:04.992+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T15:08:04.993+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T15:08:04.994+09:00  WARN 16405 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T15:08:04.994+09:00  WARN 16405 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T15:08:05.036+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T15:08:05.071+09:00  INFO 16405 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T15:08:05.073+09:00  WARN 20634 --- [prompt-test] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T15:08:05.081+09:00  INFO 20634 --- [prompt-test] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-30T15:08:05.152+09:00  INFO 16405 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-30T15:08:05.152+09:00  INFO 16405 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 17
2025-05-30T15:08:05.157+09:00  WARN 20634 --- [prompt-test] [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-30T15:08:05.184+09:00  WARN 16405 --- [prompt-test] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T15:08:05.187+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-30T15:08:05.208+09:00  WARN 16405 --- [prompt-test] [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-30T15:08:05.229+09:00  WARN 20634 --- [prompt-test] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2025-05-30T15:08:05.229+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-30T15:08:05.236+09:00  INFO 16405 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-30T15:08:05.238+09:00  INFO 16405 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Started PromptTestApplication in 0.374 seconds (process running for 1716.197)
2025-05-30T15:08:05.238+09:00  INFO 16405 --- [prompt-test] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-05-30T15:08:05.243+09:00  WARN 20634 --- [prompt-test] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-05-30T15:08:05.245+09:00  INFO 20634 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T15:08:05.246+09:00  INFO 20634 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-30T15:08:05.248+09:00  INFO 20634 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-30T15:08:05.253+09:00  INFO 20634 --- [prompt-test] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-05-30T15:08:05.258+09:00 ERROR 20634 --- [prompt-test] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-05-30T15:09:09.783+09:00  INFO 21142 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Starting PromptTestApplication using Java 17.0.14 with PID 21142 (/Users/gyudeok0202/Workspace/BE_Repository/build/classes/java/main started by gyudeok0202 in /Users/gyudeok0202/Workspace/BE_Repository)
2025-05-30T15:09:09.784+09:00 DEBUG 21142 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Running with Spring Boot v3.2.3, Spring v6.1.4
2025-05-30T15:09:09.784+09:00  INFO 21142 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : The following 1 profile is active: "secret"
2025-05-30T15:09:09.799+09:00  INFO 21142 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-05-30T15:09:09.799+09:00  INFO 21142 --- [prompt-test] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-05-30T15:09:10.011+09:00  INFO 21142 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T15:09:10.012+09:00  INFO 21142 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-05-30T15:09:10.021+09:00  INFO 21142 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:09:10.022+09:00  INFO 21142 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:09:10.022+09:00  INFO 21142 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:09:10.022+09:00  INFO 21142 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:09:10.023+09:00  INFO 21142 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:09:10.023+09:00  INFO 21142 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:09:10.023+09:00  INFO 21142 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-05-30T15:09:10.023+09:00  INFO 21142 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 JDBC repository interfaces.
2025-05-30T15:09:10.026+09:00  INFO 21142 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T15:09:10.026+09:00  INFO 21142 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-30T15:09:10.066+09:00  INFO 21142 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 7 JPA repository interfaces.
2025-05-30T15:09:10.071+09:00  INFO 21142 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-05-30T15:09:10.071+09:00  INFO 21142 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-05-30T15:09:10.075+09:00  INFO 21142 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.ChatHistoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:09:10.075+09:00  INFO 21142 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.IngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:09:10.075+09:00  INFO 21142 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeIngredientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:09:10.075+09:00  INFO 21142 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.RecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:09:10.075+09:00  INFO 21142 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserPromptRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:09:10.075+09:00  INFO 21142 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRecipeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:09:10.075+09:00  INFO 21142 --- [prompt-test] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface ac.su.kdt.prompttest.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-05-30T15:09:10.075+09:00  INFO 21142 --- [prompt-test] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1 ms. Found 0 Redis repository interfaces.
2025-05-30T15:09:10.253+09:00  INFO 21142 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-30T15:09:10.257+09:00  INFO 21142 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-30T15:09:10.257+09:00  INFO 21142 --- [prompt-test] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-05-30T15:09:10.271+09:00  INFO 21142 --- [prompt-test] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-30T15:09:10.271+09:00  INFO 21142 --- [prompt-test] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 472 ms
2025-05-30T15:09:10.281+09:00  INFO 21142 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-30T15:09:10.328+09:00  INFO 21142 --- [prompt-test] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2a96a6ec
2025-05-30T15:09:10.329+09:00  INFO 21142 --- [prompt-test] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-30T15:09:10.332+09:00  INFO 21142 --- [prompt-test] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/recipedb?useSSL=false&serverTimezone=UTC&characterEncoding=UTF-8'
2025-05-30T15:09:10.368+09:00  INFO 21142 --- [prompt-test] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-30T15:09:10.384+09:00  INFO 21142 --- [prompt-test] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-05-30T15:09:10.393+09:00  INFO 21142 --- [prompt-test] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-30T15:09:10.456+09:00  INFO 21142 --- [prompt-test] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-30T15:09:10.477+09:00  WARN 21142 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-30T15:09:10.477+09:00  WARN 21142 --- [prompt-test] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-30T15:09:10.831+09:00  INFO 21142 --- [prompt-test] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-30T15:09:10.879+09:00  INFO 21142 --- [prompt-test] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-30T15:09:11.031+09:00  INFO 21142 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API URL: https://api.perplexity.ai/chat/completions
2025-05-30T15:09:11.031+09:00  INFO 21142 --- [prompt-test] [restartedMain] a.s.k.p.service.PerplexityService        : API Key length: 54
2025-05-30T15:09:11.077+09:00 ERROR 21142 --- [prompt-test] [restartedMain] i.n.r.d.DnsServerAddressStreamProviders  : Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2025-05-30T15:09:11.172+09:00  WARN 21142 --- [prompt-test] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-30T15:09:11.178+09:00  INFO 21142 --- [prompt-test] [restartedMain] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-30T15:09:11.238+09:00  WARN 21142 --- [prompt-test] [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-30T15:09:11.302+09:00  INFO 21142 --- [prompt-test] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-05-30T15:09:11.310+09:00  INFO 21142 --- [prompt-test] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-05-30T15:09:11.315+09:00  INFO 21142 --- [prompt-test] [restartedMain] a.s.k.prompttest.PromptTestApplication   : Started PromptTestApplication in 1.65 seconds (process running for 1.791)
2025-05-30T15:09:13.433+09:00  INFO 21142 --- [prompt-test] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-30T15:09:13.433+09:00  INFO 21142 --- [prompt-test] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-30T15:09:13.434+09:00  INFO 21142 --- [prompt-test] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-30T15:09:13.504+09:00 DEBUG 21142 --- [prompt-test] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.age,
        u1_0.allergies,
        u1_0.created_at,
        u1_0.email,
        u1_0.gender,
        u1_0.health_conditions,
        u1_0.name,
        u1_0.password,
        u1_0.preferences,
        u1_0.profile_image,
        u1_0.provider,
        u1_0.provider_id,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.id=?
2025-05-30T15:09:13.543+09:00 DEBUG 21142 --- [prompt-test] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    /* <criteria> */ select
        up1_0.id,
        up1_0.age,
        up1_0.allergy,
        up1_0.created_at,
        up1_0.gender,
        up1_0.health_status,
        up1_0.is_pregnant,
        up1_0.name,
        up1_0.nickname,
        up1_0.preference,
        up1_0.updated_at,
        up1_0.user_id 
    from
        user_prompt up1_0 
    where
        up1_0.user_id=?
2025-05-30T15:09:13.545+09:00  INFO 21142 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Starting getResponse for userId: 1, prompt: 당신은 레시피 추천 전문가입니다. 다음 사용자의 특성을 고려하여 레시피를 추천해주세요:

- 이름: 홍길동
- 나이: 30세
- 성별: 남성
- 닉네임: 홍홍
- 건강 상태: 건강
- 알레르기: 육류
- 선호하는 음식: 한식


건강 상태에 따른 특별 지시사항:
현재 사용자는 건강 상태입니다. 해당 건강 상태에 맞는 적절한 식단을 추천해주세요.

다음 사항을 고려하여 레시피를 추천해주세요:
1. 해당 건강 상태에 맞는 영양소를 포함한 재료를 선택해주세요.
2. 해당 건강 상태에 해로운 성분이 포함된 재료는 피해주세요.
3. 건강 상태 개선에 도움이 되는 조리 방법을 선택해주세요.
4. 필요한 경우, 특정 재료의 대체재를 제안해주세요.

알레르기 주의사항:
- 육류 알레르기가 있으므로 해당 재료를 제외한 레시피를 추천해주세요.

## 사용자 요청
오늘 저녁에 먹을 건강한 한식 추천해줘

레시피는 다음 형식으로 제공해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.

2025-05-30T15:09:13.546+09:00 DEBUG 21142 --- [prompt-test] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    /* <criteria> */ select
        up1_0.id,
        up1_0.age,
        up1_0.allergy,
        up1_0.created_at,
        up1_0.gender,
        up1_0.health_status,
        up1_0.is_pregnant,
        up1_0.name,
        up1_0.nickname,
        up1_0.preference,
        up1_0.updated_at,
        up1_0.user_id 
    from
        user_prompt up1_0 
    where
        up1_0.user_id=?
2025-05-30T15:09:13.547+09:00 DEBUG 21142 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : System prompt: 당신은 레시피 추천 전문가입니다. 다음 사용자의 특성을 고려하여 레시피를 추천해주세요:

- 이름: 홍길동
- 나이: 30세
- 성별: 남성
- 닉네임: 홍홍
- 건강 상태: 건강
- 알레르기: 육류
- 선호하는 음식: 한식


건강 상태에 따른 특별 지시사항:
현재 사용자는 건강 상태입니다. 해당 건강 상태에 맞는 적절한 식단을 추천해주세요.

다음 사항을 고려하여 레시피를 추천해주세요:
1. 해당 건강 상태에 맞는 영양소를 포함한 재료를 선택해주세요.
2. 해당 건강 상태에 해로운 성분이 포함된 재료는 피해주세요.
3. 건강 상태 개선에 도움이 되는 조리 방법을 선택해주세요.
4. 필요한 경우, 특정 재료의 대체재를 제안해주세요.

알레르기 주의사항:
- 육류 알레르기가 있으므로 해당 재료를 제외한 레시피를 추천해주세요.

## 사용자 요청
당신은 레시피 추천 전문가입니다. 다음 사용자의 특성을 고려하여 레시피를 추천해주세요:

- 이름: 홍길동
- 나이: 30세
- 성별: 남성
- 닉네임: 홍홍
- 건강 상태: 건강
- 알레르기: 육류
- 선호하는 음식: 한식


건강 상태에 따른 특별 지시사항:
현재 사용자는 건강 상태입니다. 해당 건강 상태에 맞는 적절한 식단을 추천해주세요.

다음 사항을 고려하여 레시피를 추천해주세요:
1. 해당 건강 상태에 맞는 영양소를 포함한 재료를 선택해주세요.
2. 해당 건강 상태에 해로운 성분이 포함된 재료는 피해주세요.
3. 건강 상태 개선에 도움이 되는 조리 방법을 선택해주세요.
4. 필요한 경우, 특정 재료의 대체재를 제안해주세요.

알레르기 주의사항:
- 육류 알레르기가 있으므로 해당 재료를 제외한 레시피를 추천해주세요.

## 사용자 요청
오늘 저녁에 먹을 건강한 한식 추천해줘

레시피는 다음 형식으로 제공해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.


레시피는 다음 형식으로 제공해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.

2025-05-30T15:09:13.547+09:00  INFO 21142 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Sending request to Perplexity API
2025-05-30T15:09:13.547+09:00 DEBUG 21142 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Request headers: [Content-Type:"application/json", Authorization:"Bearer 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 "]
2025-05-30T15:09:13.548+09:00 DEBUG 21142 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Request body: {messages=[{role=system, content=당신은 레시피 추천 전문가입니다. 다음 사용자의 특성을 고려하여 레시피를 추천해주세요:

- 이름: 홍길동
- 나이: 30세
- 성별: 남성
- 닉네임: 홍홍
- 건강 상태: 건강
- 알레르기: 육류
- 선호하는 음식: 한식


건강 상태에 따른 특별 지시사항:
현재 사용자는 건강 상태입니다. 해당 건강 상태에 맞는 적절한 식단을 추천해주세요.

다음 사항을 고려하여 레시피를 추천해주세요:
1. 해당 건강 상태에 맞는 영양소를 포함한 재료를 선택해주세요.
2. 해당 건강 상태에 해로운 성분이 포함된 재료는 피해주세요.
3. 건강 상태 개선에 도움이 되는 조리 방법을 선택해주세요.
4. 필요한 경우, 특정 재료의 대체재를 제안해주세요.

알레르기 주의사항:
- 육류 알레르기가 있으므로 해당 재료를 제외한 레시피를 추천해주세요.

## 사용자 요청
당신은 레시피 추천 전문가입니다. 다음 사용자의 특성을 고려하여 레시피를 추천해주세요:

- 이름: 홍길동
- 나이: 30세
- 성별: 남성
- 닉네임: 홍홍
- 건강 상태: 건강
- 알레르기: 육류
- 선호하는 음식: 한식


건강 상태에 따른 특별 지시사항:
현재 사용자는 건강 상태입니다. 해당 건강 상태에 맞는 적절한 식단을 추천해주세요.

다음 사항을 고려하여 레시피를 추천해주세요:
1. 해당 건강 상태에 맞는 영양소를 포함한 재료를 선택해주세요.
2. 해당 건강 상태에 해로운 성분이 포함된 재료는 피해주세요.
3. 건강 상태 개선에 도움이 되는 조리 방법을 선택해주세요.
4. 필요한 경우, 특정 재료의 대체재를 제안해주세요.

알레르기 주의사항:
- 육류 알레르기가 있으므로 해당 재료를 제외한 레시피를 추천해주세요.

## 사용자 요청
오늘 저녁에 먹을 건강한 한식 추천해줘

레시피는 다음 형식으로 제공해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.


레시피는 다음 형식으로 제공해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.
}, {role=user, content=당신은 레시피 추천 전문가입니다. 다음 사용자의 특성을 고려하여 레시피를 추천해주세요:

- 이름: 홍길동
- 나이: 30세
- 성별: 남성
- 닉네임: 홍홍
- 건강 상태: 건강
- 알레르기: 육류
- 선호하는 음식: 한식


건강 상태에 따른 특별 지시사항:
현재 사용자는 건강 상태입니다. 해당 건강 상태에 맞는 적절한 식단을 추천해주세요.

다음 사항을 고려하여 레시피를 추천해주세요:
1. 해당 건강 상태에 맞는 영양소를 포함한 재료를 선택해주세요.
2. 해당 건강 상태에 해로운 성분이 포함된 재료는 피해주세요.
3. 건강 상태 개선에 도움이 되는 조리 방법을 선택해주세요.
4. 필요한 경우, 특정 재료의 대체재를 제안해주세요.

알레르기 주의사항:
- 육류 알레르기가 있으므로 해당 재료를 제외한 레시피를 추천해주세요.

## 사용자 요청
오늘 저녁에 먹을 건강한 한식 추천해줘

레시피는 다음 형식으로 제공해주세요:
- 요리 이름
- 필요한 재료와 양
- 조리 시간
- 난이도
- 상세한 조리 방법
- 요리 팁과 주의사항
- 완성된 요리의 이미지 URL

주의사항:
- 모든 재료의 양과 단위를 정확히 명시해주세요.
- 조리 방법은 순서대로 상세히 설명해주세요.
- 요리 팁과 주의사항은 실제 조리 시 도움이 될 수 있는 내용을 포함해주세요.
- 요리 이미지 URL은 실제 존재하는 이미지의 URL을 제공해주세요.
}], model=sonar-pro}
2025-05-30T15:09:30.122+09:00  INFO 21142 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Received response from Perplexity API
2025-05-30T15:09:30.122+09:00 DEBUG 21142 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Response: {id=334f4060-778b-4250-8ede-d3bbdfc09cfb, model=sonar-pro, created=1748585370, usage={prompt_tokens=1174, completion_tokens=858, total_tokens=2032, search_context_size=low}, citations=[https://blog.naver.com/minimina0226/222656250108, https://blog.naver.com/pvc1120/222324668600, https://m.10000recipe.com/recipe/list.html?q=%EA%B3%A0%EA%B8%B0%EC%97%86%EB%8A%94, https://wtable.co.kr/curations/1061, https://www.allurekorea.com/2012/04/12/%EA%B3%A0%EA%B8%B0-%EC%97%86%EB%8A%94-%EB%B0%A5%EC%83%81/], search_results=[{title=[채식 식단] 쉽고 저렴한 채식 집밥 요리 10가지 - 네이버 블로그, url=https://blog.naver.com/minimina0226/222656250108, date=2022-02-24}, {title=채식식단 위주의 건강한 집밥 한식상차림 - 블로그, url=https://blog.naver.com/pvc1120/222324668600, date=2021-04-27}, {title=고기없는 - 요리를 즐겁게~ 만개의레시피, url=https://m.10000recipe.com/recipe/list.html?q=%EA%B3%A0%EA%B8%B0%EC%97%86%EB%8A%94, date=null}, {title=소박하지만 든든한 비건 한식집밥 레시피 - 우리의식탁 | 큐레이션, url=https://wtable.co.kr/curations/1061, date=null}, {title=고기 없는 밥상 | 얼루어 코리아 (Allure Korea), url=https://www.allurekorea.com/2012/04/12/%EA%B3%A0%EA%B8%B0-%EC%97%86%EB%8A%94-%EB%B0%A5%EC%83%81/, date=2012-04-12}], object=chat.completion, choices=[{index=0, finish_reason=stop, message={role=assistant, content=요리 이름  
두부 야채 비빔밥

필요한 재료와 양  
- 현미밥 1공기 (200g)  
- 두부 1/2모 (150g)  
- 애호박 1/2개 (60g)  
- 당근 1/3개 (40g)  
- 시금치 1줌 (30g)  
- 표고버섯 2개 (40g)  
- 숙주나물 50g  
- 김가루 1큰술 (5g)  
- 참기름 1큰술 (10ml)  
- 간장 2큰술 (20ml)  
- 고추장 1큰술 (15g)  
- 깨소금 1작은술 (3g)  
- 다진 마늘 1작은술 (3g)  
- 소금 약간  
- 식용유 1큰술 (10ml)

조리 시간  
약 35분

난이도  
하 (초급)

상세한 조리 방법  
1. 현미밥을 미리 지어 두거나, 즉석 현미밥을 준비합니다.  
2. 두부는 키친타월로 물기를 제거한 뒤 2cm 두께로 썰어줍니다. 팬에 식용유를 두르고 노릇하게 앞뒤로 구워 소금을 살짝 뿌려둡니다.  
3. 애호박, 당근, 표고버섯은 채를 썰어 각각 팬에 약간의 식용유와 소금을 넣고 살짝 볶아줍니다.  
4. 시금치는 끓는 물에 살짝 데쳐 찬물에 헹군 후 물기를 꼭 짜서 간장 1작은술, 참기름 1/2작은술, 다진 마늘과 버무립니다.  
5. 숙주나물도 끓는 물에 살짝 데치고, 소금·참기름 약간으로 무칩니다.  
6. 볼에 현미밥을 담고 준비한 모든 나물류와 구운 두부, 김가루, 깨소금을 보기 좋게 올립니다.  
7. 고추장과 남은 간장, 참기름을 곁들여 잘 비벼 먹습니다.

요리 팁과 주의사항  
- 모든 나물류는 너무 오래 익히지 마세요. 식감이 살짝 살아있는 정도가 맛있고 영양소 파괴도 적습니다.  
- 두부는 기호에 따라 생두부로 사용해도 되고 구워 이용하면 식감이 더 좋아집니다.  
- 현미밥 대신 잡곡밥, 보리밥 등 다양한 곡물밥을 활용해보세요.  
- 고추장은 반드시 비건(동물성 성분 무첨가) 표시가 있는 제품을 사용하면 더욱 안전합니다.  
- 각종 나물류는 제철 채소 위주로 대체 가능합니다(예: 쑥갓, 미나리, 부추 등).  
- 육류가 들어가지 않아 알레르기 걱정 없이 안전하게 섭취할 수 있습니다.

완성된 요리의 이미지 URL  
https://cdn.pixabay.com/photo/2016/09/27/19/08/bibimbap-1709400_1280.jpg

---
추가 제안: 위 레시피는 육류를 전혀 사용하지 않으면서도 한식의 대표 건강식인 비빔밥을 즐길 수 있습니다. 두부와 다양한 채소에서 단백질, 비타민, 미네랄 등 건강 영양소를 충분히 섭취할 수 있고, 조리방법도 기름에 튀기거나 볶지 않아 부담이 적습니다.}, delta={role=assistant, content=}}]}
2025-05-30T15:09:30.123+09:00  INFO 21142 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Parsing AI response content
2025-05-30T15:09:30.123+09:00 DEBUG 21142 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Content: 요리 이름  
두부 야채 비빔밥

필요한 재료와 양  
- 현미밥 1공기 (200g)  
- 두부 1/2모 (150g)  
- 애호박 1/2개 (60g)  
- 당근 1/3개 (40g)  
- 시금치 1줌 (30g)  
- 표고버섯 2개 (40g)  
- 숙주나물 50g  
- 김가루 1큰술 (5g)  
- 참기름 1큰술 (10ml)  
- 간장 2큰술 (20ml)  
- 고추장 1큰술 (15g)  
- 깨소금 1작은술 (3g)  
- 다진 마늘 1작은술 (3g)  
- 소금 약간  
- 식용유 1큰술 (10ml)

조리 시간  
약 35분

난이도  
하 (초급)

상세한 조리 방법  
1. 현미밥을 미리 지어 두거나, 즉석 현미밥을 준비합니다.  
2. 두부는 키친타월로 물기를 제거한 뒤 2cm 두께로 썰어줍니다. 팬에 식용유를 두르고 노릇하게 앞뒤로 구워 소금을 살짝 뿌려둡니다.  
3. 애호박, 당근, 표고버섯은 채를 썰어 각각 팬에 약간의 식용유와 소금을 넣고 살짝 볶아줍니다.  
4. 시금치는 끓는 물에 살짝 데쳐 찬물에 헹군 후 물기를 꼭 짜서 간장 1작은술, 참기름 1/2작은술, 다진 마늘과 버무립니다.  
5. 숙주나물도 끓는 물에 살짝 데치고, 소금·참기름 약간으로 무칩니다.  
6. 볼에 현미밥을 담고 준비한 모든 나물류와 구운 두부, 김가루, 깨소금을 보기 좋게 올립니다.  
7. 고추장과 남은 간장, 참기름을 곁들여 잘 비벼 먹습니다.

요리 팁과 주의사항  
- 모든 나물류는 너무 오래 익히지 마세요. 식감이 살짝 살아있는 정도가 맛있고 영양소 파괴도 적습니다.  
- 두부는 기호에 따라 생두부로 사용해도 되고 구워 이용하면 식감이 더 좋아집니다.  
- 현미밥 대신 잡곡밥, 보리밥 등 다양한 곡물밥을 활용해보세요.  
- 고추장은 반드시 비건(동물성 성분 무첨가) 표시가 있는 제품을 사용하면 더욱 안전합니다.  
- 각종 나물류는 제철 채소 위주로 대체 가능합니다(예: 쑥갓, 미나리, 부추 등).  
- 육류가 들어가지 않아 알레르기 걱정 없이 안전하게 섭취할 수 있습니다.

완성된 요리의 이미지 URL  
https://cdn.pixabay.com/photo/2016/09/27/19/08/bibimbap-1709400_1280.jpg

---
추가 제안: 위 레시피는 육류를 전혀 사용하지 않으면서도 한식의 대표 건강식인 비빔밥을 즐길 수 있습니다. 두부와 다양한 채소에서 단백질, 비타민, 미네랄 등 건강 영양소를 충분히 섭취할 수 있고, 조리방법도 기름에 튀기거나 볶지 않아 부담이 적습니다.
2025-05-30T15:09:30.123+09:00  INFO 21142 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Starting to parse recipe response
2025-05-30T15:09:30.123+09:00 DEBUG 21142 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Content to parse: 요리 이름  
두부 야채 비빔밥

필요한 재료와 양  
- 현미밥 1공기 (200g)  
- 두부 1/2모 (150g)  
- 애호박 1/2개 (60g)  
- 당근 1/3개 (40g)  
- 시금치 1줌 (30g)  
- 표고버섯 2개 (40g)  
- 숙주나물 50g  
- 김가루 1큰술 (5g)  
- 참기름 1큰술 (10ml)  
- 간장 2큰술 (20ml)  
- 고추장 1큰술 (15g)  
- 깨소금 1작은술 (3g)  
- 다진 마늘 1작은술 (3g)  
- 소금 약간  
- 식용유 1큰술 (10ml)

조리 시간  
약 35분

난이도  
하 (초급)

상세한 조리 방법  
1. 현미밥을 미리 지어 두거나, 즉석 현미밥을 준비합니다.  
2. 두부는 키친타월로 물기를 제거한 뒤 2cm 두께로 썰어줍니다. 팬에 식용유를 두르고 노릇하게 앞뒤로 구워 소금을 살짝 뿌려둡니다.  
3. 애호박, 당근, 표고버섯은 채를 썰어 각각 팬에 약간의 식용유와 소금을 넣고 살짝 볶아줍니다.  
4. 시금치는 끓는 물에 살짝 데쳐 찬물에 헹군 후 물기를 꼭 짜서 간장 1작은술, 참기름 1/2작은술, 다진 마늘과 버무립니다.  
5. 숙주나물도 끓는 물에 살짝 데치고, 소금·참기름 약간으로 무칩니다.  
6. 볼에 현미밥을 담고 준비한 모든 나물류와 구운 두부, 김가루, 깨소금을 보기 좋게 올립니다.  
7. 고추장과 남은 간장, 참기름을 곁들여 잘 비벼 먹습니다.

요리 팁과 주의사항  
- 모든 나물류는 너무 오래 익히지 마세요. 식감이 살짝 살아있는 정도가 맛있고 영양소 파괴도 적습니다.  
- 두부는 기호에 따라 생두부로 사용해도 되고 구워 이용하면 식감이 더 좋아집니다.  
- 현미밥 대신 잡곡밥, 보리밥 등 다양한 곡물밥을 활용해보세요.  
- 고추장은 반드시 비건(동물성 성분 무첨가) 표시가 있는 제품을 사용하면 더욱 안전합니다.  
- 각종 나물류는 제철 채소 위주로 대체 가능합니다(예: 쑥갓, 미나리, 부추 등).  
- 육류가 들어가지 않아 알레르기 걱정 없이 안전하게 섭취할 수 있습니다.

완성된 요리의 이미지 URL  
https://cdn.pixabay.com/photo/2016/09/27/19/08/bibimbap-1709400_1280.jpg

---
추가 제안: 위 레시피는 육류를 전혀 사용하지 않으면서도 한식의 대표 건강식인 비빔밥을 즐길 수 있습니다. 두부와 다양한 채소에서 단백질, 비타민, 미네랄 등 건강 영양소를 충분히 섭취할 수 있고, 조리방법도 기름에 튀기거나 볶지 않아 부담이 적습니다.
2025-05-30T15:09:30.124+09:00  INFO 21142 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Parsed recipe title: 요리 이름
2025-05-30T15:09:30.124+09:00  WARN 21142 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : No ingredients text found in content
2025-05-30T15:09:30.124+09:00  INFO 21142 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Final description: 
2025-05-30T15:09:30.124+09:00  INFO 21142 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Saving recipe with title: 요리 이름
2025-05-30T15:09:30.139+09:00 DEBUG 21142 --- [prompt-test] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    /* insert for
        ac.su.kdt.prompttest.entity.Recipe */insert 
    into
        recipe (category, cooking_time, description, difficulty, image, title) 
    values
        (?, ?, ?, ?, ?, ?)
2025-05-30T15:09:30.143+09:00  INFO 21142 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Saved recipe with ID: 7
2025-05-30T15:09:30.143+09:00  INFO 21142 --- [prompt-test] [http-nio-8080-exec-1] a.s.k.p.service.PerplexityService        : Successfully parsed recipe with ID: 7
2025-05-30T15:09:30.146+09:00 DEBUG 21142 --- [prompt-test] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    /* <criteria> */ select
        ri1_0.ingredient_id,
        ri1_0.recipe_id 
    from
        recipe_ingredient ri1_0 
    where
        ri1_0.recipe_id=?
2025-05-30T15:09:30.148+09:00 DEBUG 21142 --- [prompt-test] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    /* insert for
        ac.su.kdt.prompttest.entity.Recipe */insert 
    into
        recipe (category, cooking_time, description, difficulty, image, title) 
    values
        (?, ?, ?, ?, ?, ?)
2025-05-30T15:32:10.748+09:00 DEBUG 21142 --- [prompt-test] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    /* <criteria> */ select
        ch1_0.chat_id,
        ch1_0.created_at,
        ch1_0.is_user_message,
        ch1_0.message,
        ch1_0.recipe_id,
        ch1_0.session_id,
        ch1_0.user_id 
    from
        chat_history ch1_0 
    where
        ch1_0.user_id=? 
        and ch1_0.session_id=? 
    order by
        ch1_0.created_at desc
2025-05-30T15:32:30.701+09:00  WARN 21142 --- [prompt-test] [http-nio-8080-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]
